var Ot=Object.create;var ae=Object.defineProperty;var It=Object.getOwnPropertyDescriptor;var Lt=Object.getOwnPropertyNames;var St=Object.getPrototypeOf,Pt=Object.prototype.hasOwnProperty;var f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Mt=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Lt(t))!Pt.call(e,i)&&i!==r&&ae(e,i,{get:()=>t[i],enumerable:!(s=It(t,i))||s.enumerable});return e};var he=(e,t,r)=>(r=e!=null?Ot(St(e)):{},Mt(t||!e||!e.__esModule?ae(r,"default",{value:e,enumerable:!0}):r,e));var ue=f((gs,le)=>{"use strict";var b=class extends Error{constructor(t,r,s){super("[ParserError] "+t,r,s),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,b)}},I=class{constructor(t){this.parser=t,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}},_=class{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new I(this.parseStart)}parse(t){if(t.length===0||t.length==null)return;this._buf=String(t),this.ii=-1,this.char=-1;let r;for(;r===!1||this.nextChar();)r=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=1114112;let t;do t=this.state.parser,this.runOne();while(this.state.parser!==t);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(t){if(typeof t!="function")throw new b("Tried to set state to non-existent state: "+JSON.stringify(t));this.state.parser=t}goto(t){return this.next(t),this.runOne()}call(t,r){r&&this.next(r),this.stack.push(this.state),this.state=new I(t)}callNow(t,r){return this.call(t,r),this.runOne()}return(t){if(this.stack.length===0)throw this.error(new b("Stack underflow"));t===void 0&&(t=this.state.buf),this.state=this.stack.pop(),this.state.returned=t}returnNow(t){return this.return(t),this.runOne()}consume(){if(this.char===1114112)throw this.error(new b("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(t){return t.line=this.line,t.col=this.col,t.pos=this.pos,t}parseStart(){throw new b("Must declare a parseStart method")}};_.END=1114112;_.Error=b;le.exports=_});var fe=f((ms,ce)=>{"use strict";ce.exports=e=>{let t=new Date(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}});var L=f((Ts,pe)=>{"use strict";pe.exports=(e,t)=>{for(t=String(t);t.length<e;)t="0"+t;return t}});var ge=f((Cs,de)=>{"use strict";var R=L(),V=class extends Date{constructor(t){super(t+"Z"),this.isFloating=!0}toISOString(){let t=`${this.getUTCFullYear()}-${R(2,this.getUTCMonth()+1)}-${R(2,this.getUTCDate())}`,r=`${R(2,this.getUTCHours())}:${R(2,this.getUTCMinutes())}:${R(2,this.getUTCSeconds())}.${R(3,this.getUTCMilliseconds())}`;return`${t}T${r}`}};de.exports=e=>{let t=new V(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}});var Ce=f((bs,Te)=>{"use strict";var me=L(),Ut=global.Date,K=class extends Ut{constructor(t){super(t),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${me(2,this.getUTCMonth()+1)}-${me(2,this.getUTCDate())}`}};Te.exports=e=>{let t=new K(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}});var Ne=f((Ns,be)=>{"use strict";var S=L(),Q=class extends Date{constructor(t){super(`0000-01-01T${t}Z`),this.isTime=!0}toISOString(){return`${S(2,this.getUTCHours())}:${S(2,this.getUTCMinutes())}:${S(2,this.getUTCSeconds())}.${S(3,this.getUTCMilliseconds())}`}};be.exports=e=>{let t=new Q(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}});var P=f((exports,module)=>{"use strict";module.exports=makeParserClass(ue());module.exports.makeParserClass=makeParserClass;var TomlError=class extends Error{constructor(t){super(t),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}};TomlError.wrap=e=>{let t=new TomlError(e.message);return t.code=e.code,t.wrapped=e,t};module.exports.TomlError=TomlError;var createDateTime=fe(),createDateTimeFloat=ge(),createDate=Ce(),createTime=Ne(),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(e){return e>=CHAR_0&&e<=CHAR_9}function isHexit(e){return e>=CHAR_A&&e<=CHAR_F||e>=CHAR_a&&e<=CHAR_f||e>=CHAR_0&&e<=CHAR_9}function isBit(e){return e===CHAR_1||e===CHAR_0}function isOctit(e){return e>=CHAR_0&&e<=CHAR_7}function isAlphaNumQuoteHyphen(e){return e>=CHAR_A&&e<=CHAR_Z||e>=CHAR_a&&e<=CHAR_z||e>=CHAR_0&&e<=CHAR_9||e===CHAR_APOS||e===CHAR_QUOT||e===CHAR_LOWBAR||e===CHAR_HYPHEN}function isAlphaNumHyphen(e){return e>=CHAR_A&&e<=CHAR_Z||e>=CHAR_a&&e<=CHAR_z||e>=CHAR_0&&e<=CHAR_9||e===CHAR_LOWBAR||e===CHAR_HYPHEN}var _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(e,t){return hasOwnProperty.call(e,t)?!0:(t==="__proto__"&&defineProperty(e,"__proto__",descriptor),!1)}var INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(e){return e===null||typeof e!="object"?!1:e[_type]===INLINE_TABLE}var TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(e){return e===null||typeof e!="object"?!1:e[_type]===TABLE}var _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(e){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:e}})}function isInlineList(e){return e===null||typeof e!="object"?!1:e[_type]===INLINE_LIST}var LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(e){return e===null||typeof e!="object"?!1:e[_type]===LIST}var _custom;try{let utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(e){}var _inspect=_custom||"inspect",BoxedBigInt=class{constructor(t){try{this.value=global.BigInt.asIntN(64,t)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}},INTEGER=Symbol("integer");function Integer(e){let t=Number(e);return Object.is(t,-0)&&(t=0),global.BigInt&&!Number.isSafeInteger(t)?new BoxedBigInt(e):Object.defineProperties(new Number(t),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${e}]`}})}function isInteger(e){return e===null||typeof e!="object"?!1:e[_type]===INTEGER}var FLOAT=Symbol("float");function Float(e){return Object.defineProperties(new Number(e),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${e}]`}})}function isFloat(e){return e===null||typeof e!="object"?!1:e[_type]===FLOAT}function tomlType(e){let t=typeof e;if(t==="object"){if(e===null)return"null";if(e instanceof Date)return"datetime";if(_type in e)switch(e[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return t}function makeParserClass(e){class t extends e{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===e.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===e.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===e.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(s){let i=this.ctx,n=s.key.pop();for(let h of s.key){if(hasKey(i,h)&&(!isTable(i[h])||i[h][_declared]))throw this.error(new TomlError("Can't redefine existing key"));i=i[h]=i[h]||Table()}if(hasKey(i,n))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(s.value)||isFloat(s.value)?i[n]=s.value.valueOf():i[n]=s.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(s){return this.state.resultTable?this.state.resultTable.push(s):this.state.resultTable=[s],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(s){return this.returnNow({key:this.state.resultTable,value:s})}parseComment(){do if(this.char===e.END||this.char===CTRL_J)return this.return();while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(s){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,s)&&(!isTable(this.ctx[s])||this.ctx[s][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[s]=this.ctx[s]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,s))this.ctx=this.ctx[s]=Table();else if(isTable(this.ctx[s]))this.ctx=this.ctx[s];else if(isList(this.ctx[s]))this.ctx=this.ctx[s][this.ctx[s].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(s){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,s)||(this.ctx[s]=List()),isInlineList(this.ctx[s]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[s])){let i=Table();this.ctx[s].push(i),this.ctx=i}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,s))this.ctx=this.ctx[s]=Table();else{if(isInlineList(this.ctx[s]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[s]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[s]))this.ctx=this.ctx[s][this.ctx[s].length-1];else if(isTable(this.ctx[s]))this.ctx=this.ctx[s];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(s){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===e.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(s){return this.returnNow(s)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===e.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===e.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(s){return this.state.buf+=s,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===e.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let s="\\u00";return this.char<16&&(s+="0"),s+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${s} instead`))}recordMultiEscapeReplacement(s){return this.state.buf+=s,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(s){try{let i=parseInt(s,16);if(i>=SURROGATE_FIRST&&i<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(i))}catch(i){throw this.error(TomlError.wrap(i))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{let s=Integer(this.state.buf);if(s.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(s)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let s=Integer(this.state.buf);if(s.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(s)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let s=Integer(this.state.buf);if(s.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(s)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let s=Integer(this.state.buf);if(s.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(s)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===e.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(s){if(this.state.resultArr){let i=this.state.resultArr[_contentType],n=tomlType(s);if(i!==n)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${i} and ${n}`))}else this.state.resultArr=InlineList(tomlType(s));return isFloat(s)||isInteger(s)?this.state.resultArr.push(s.valueOf()):this.state.resultArr.push(s),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(s){let i=this.state.resultTable,n=s.key.pop();for(let h of s.key){if(hasKey(i,h)&&(!isTable(i[h])||i[h][_declared]))throw this.error(new TomlError("Can't redefine existing key"));i=i[h]=i[h]||Table()}if(hasKey(i,n))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(s.value)||isFloat(s.value)?i[n]=s.value.valueOf():i[n]=s.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}return t}});var M=f((As,Ae)=>{"use strict";Ae.exports=Bt;function Bt(e,t){if(e.pos==null||e.line==null)return e;let r=e.message;if(r+=` at row ${e.line+1}, col ${e.col+1}, pos ${e.pos}:
`,t&&t.split){let s=t.split(/\n/),i=String(Math.min(s.length,e.line+3)).length,n=" ";for(;n.length<i;)n+=" ";for(let h=Math.max(0,e.line-1);h<Math.min(s.length,e.line+2);++h){let a=String(h+1);if(a.length<i&&(a=" "+a),e.line===h){r+=a+"> "+s[h]+`
`,r+=n+"  ";for(let o=0;o<e.col;++o)r+=" ";r+=`^
`}else r+=a+": "+s[h]+`
`}}return e.message=r+`
`,e}});var Ee=f((xs,xe)=>{"use strict";xe.exports=$t;var Ft=P(),vt=M();function $t(e){global.Buffer&&global.Buffer.isBuffer(e)&&(e=e.toString("utf8"));let t=new Ft;try{return t.parse(e),t.finish()}catch(r){throw vt(r,e)}}});var _e=f((Es,we)=>{"use strict";we.exports=Vt;var qt=P(),Re=M();function Vt(e,t){t||(t={});let r=0,s=t.blocksize||40960,i=new qt;return new Promise((h,a)=>{setImmediate(n,r,s,h,a)});function n(h,a,o,l){if(h>=e.length)try{return o(i.finish())}catch(u){return l(Re(u,e))}try{i.parse(e.slice(h,h+a)),setImmediate(n,h+a,a,o,l)}catch(u){l(Re(u,e))}}}});var Oe=f((Rs,He)=>{"use strict";He.exports=Qt;var Kt=require("stream"),ye=P();function Qt(e){return e?kt(e):Jt(e)}function kt(e){let t=new ye;return e.setEncoding("utf8"),new Promise((r,s)=>{let i,n=!1,h=!1;function a(){if(n=!0,!i)try{r(t.finish())}catch(u){s(u)}}function o(u){h=!0,s(u)}e.once("end",a),e.once("error",o),l();function l(){i=!0;let u;for(;(u=e.read())!==null;)try{t.parse(u)}catch(c){return o(c)}if(i=!1,n)return a();h||e.once("readable",l)}})}function Jt(){let e=new ye;return new Kt.Transform({objectMode:!0,transform(t,r,s){try{e.parse(t.toString(r))}catch(i){this.emit("error",i)}s()},flush(t){try{this.push(e.finish())}catch(r){this.emit("error",r)}t()}})}});var Ie=f((ws,y)=>{"use strict";y.exports=Ee();y.exports.async=_e();y.exports.stream=Oe();y.exports.prettyError=M()});var ve=f((_s,W)=>{"use strict";W.exports=Wt;W.exports.value=J;function Wt(e){if(e===null)throw x("null");if(e===void 0)throw x("undefined");if(typeof e!="object")throw x(typeof e);if(typeof e.toJSON=="function"&&(e=e.toJSON()),e==null)return null;let t=T(e);if(t!=="table")throw x(t);return k("","",e)}function x(e){return new Error("Can only stringify objects, not "+e)}function Yt(){return new Error("Array values can't have mixed types")}function Le(e){return Object.keys(e).filter(t=>Se(e[t]))}function Zt(e){return Object.keys(e).filter(t=>!Se(e[t]))}function U(e){let t=Array.isArray(e)?[]:Object.prototype.hasOwnProperty.call(e,"__proto__")?{["__proto__"]:void 0}:{};for(let r of Object.keys(e))e[r]&&typeof e[r].toJSON=="function"&&!("toISOString"in e[r])?t[r]=e[r].toJSON():t[r]=e[r];return t}function k(e,t,r){r=U(r);var s,i;s=Le(r),i=Zt(r);var n=[],h=t||"";s.forEach(o=>{var l=T(r[o]);l!=="undefined"&&l!=="null"&&n.push(h+B(o)+" = "+Ue(r[o],!0))}),n.length>0&&n.push("");var a=e&&s.length>0?t+"  ":"";return i.forEach(o=>{n.push(nr(e,a,o,r[o]))}),n.join(`
`)}function Se(e){switch(T(e)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return e.length===0||T(e[0])!=="table";case"table":return Object.keys(e).length===0;default:return!1}}function T(e){return e===void 0?"undefined":e===null?"null":typeof e=="bigint"||Number.isInteger(e)&&!Object.is(e,-0)?"integer":typeof e=="number"?"float":typeof e=="boolean"?"boolean":typeof e=="string"?"string":"toISOString"in e?isNaN(e)?"undefined":"datetime":Array.isArray(e)?"array":"table"}function B(e){var t=String(e);return/^[-A-Za-z0-9_]+$/.test(t)?t:Pe(t)}function Pe(e){return'"'+Me(e).replace(/"/g,'\\"')+'"'}function Xt(e){return"'"+e+"'"}function Gt(e,t){for(;t.length<e;)t="0"+t;return t}function Me(e){return e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,t=>"\\u"+Gt(4,t.codePointAt(0).toString(16)))}function zt(e){let t=e.split(/\n/).map(r=>Me(r).replace(/"(?="")/g,'\\"')).join(`
`);return t.slice(-1)==='"'&&(t+=`\\
`),`"""
`+t+'"""'}function Ue(e,t){let r=T(e);return r==="string"&&(t&&/\n/.test(e)?r="string-multiline":!/[\b\t\n\f\r']/.test(e)&&/"/.test(e)&&(r="string-literal")),J(e,r)}function J(e,t){switch(t||(t=T(e)),t){case"string-multiline":return zt(e);case"string":return Pe(e);case"string-literal":return Xt(e);case"integer":return Be(e);case"float":return jt(e);case"boolean":return Dt(e);case"datetime":return er(e);case"array":return sr(e.filter(r=>T(r)!=="null"&&T(r)!=="undefined"&&T(r)!=="nan"));case"table":return ir(e);default:throw x(t)}}function Be(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function jt(e){if(e===1/0)return"inf";if(e===-1/0)return"-inf";if(Object.is(e,NaN))return"nan";if(Object.is(e,-0))return"-0.0";var t=String(e).split("."),r=t[0],s=t[1]||0;return Be(r)+"."+s}function Dt(e){return String(e)}function er(e){return e.toISOString()}function tr(e){return e==="float"||e==="integer"}function rr(e){var t=T(e[0]);return e.every(r=>T(r)===t)?t:e.every(r=>tr(T(r)))?"float":"mixed"}function Fe(e){let t=rr(e);if(t==="mixed")throw Yt();return t}function sr(e){e=U(e);let t=Fe(e);var r="[",s=e.map(i=>J(i,t));return s.join(", ").length>60||/\n/.test(s)?r+=`
  `+s.join(`,
  `)+`
`:r+=" "+s.join(", ")+(s.length>0?" ":""),r+"]"}function ir(e){e=U(e);var t=[];return Object.keys(e).forEach(r=>{t.push(B(r)+" = "+Ue(e[r],!1))}),"{ "+t.join(", ")+(t.length>0?" ":"")+"}"}function nr(e,t,r,s){var i=T(s);if(i==="array")return or(e,t,r,s);if(i==="table")return ar(e,t,r,s);throw x(i)}function or(e,t,r,s){s=U(s),Fe(s);var i=T(s[0]);if(i!=="table")throw x(i);var n=e+B(r),h="";return s.forEach(a=>{h.length>0&&(h+=`
`),h+=t+"[["+n+`]]
`,h+=k(n+".",t,a)}),h}function ar(e,t,r,s){var i=e+B(r),n="";return Le(s).length>0&&(n+=t+"["+i+`]
`),n+k(i+".",t,s)}});var $e=f(Y=>{"use strict";Y.parse=Ie();Y.stringify=ve()});var Z=f(N=>{"use strict";var qe=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",hr=qe+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Ve="["+qe+"]["+hr+"]*",lr=new RegExp("^"+Ve+"$"),ur=function(e,t){let r=[],s=t.exec(e);for(;s;){let i=[];i.startIndex=t.lastIndex-s[0].length;let n=s.length;for(let h=0;h<n;h++)i.push(s[h]);r.push(i),s=t.exec(e)}return r},cr=function(e){let t=lr.exec(e);return!(t===null||typeof t>"u")};N.isExist=function(e){return typeof e<"u"};N.isEmptyObject=function(e){return Object.keys(e).length===0};N.merge=function(e,t,r){if(t){let s=Object.keys(t),i=s.length;for(let n=0;n<i;n++)r==="strict"?e[s[n]]=[t[s[n]]]:e[s[n]]=t[s[n]]}};N.getValue=function(e){return N.isExist(e)?e:""};N.isName=cr;N.getAllMatches=ur;N.nameRegexp=Ve});var G=f(We=>{"use strict";var X=Z(),fr={allowBooleanAttributes:!1,unpairedTags:[]};We.validate=function(e,t){t=Object.assign({},fr,t);let r=[],s=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let n=0;n<e.length;n++)if(e[n]==="<"&&e[n+1]==="?"){if(n+=2,n=Qe(e,n),n.err)return n}else if(e[n]==="<"){let h=n;if(n++,e[n]==="!"){n=ke(e,n);continue}else{let a=!1;e[n]==="/"&&(a=!0,n++);let o="";for(;n<e.length&&e[n]!==">"&&e[n]!==" "&&e[n]!=="	"&&e[n]!==`
`&&e[n]!=="\r";n++)o+=e[n];if(o=o.trim(),o[o.length-1]==="/"&&(o=o.substring(0,o.length-1),n--),!Nr(o)){let c;return o.trim().length===0?c="Invalid space after '<'.":c="Tag '"+o+"' is an invalid name.",g("InvalidTag",c,C(e,n))}let l=gr(e,n);if(l===!1)return g("InvalidAttr","Attributes for '"+o+"' have open quote.",C(e,n));let u=l.value;if(n=l.index,u[u.length-1]==="/"){let c=n-u.length;u=u.substring(0,u.length-1);let m=Je(u,t);if(m===!0)s=!0;else return g(m.err.code,m.err.msg,C(e,c+m.err.line))}else if(a)if(l.tagClosed){if(u.trim().length>0)return g("InvalidTag","Closing tag '"+o+"' can't have attributes or invalid starting.",C(e,h));{let c=r.pop();if(o!==c.tagName){let m=C(e,c.tagStartPos);return g("InvalidTag","Expected closing tag '"+c.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+o+"'.",C(e,h))}r.length==0&&(i=!0)}}else return g("InvalidTag","Closing tag '"+o+"' doesn't have proper closing.",C(e,n));else{let c=Je(u,t);if(c!==!0)return g(c.err.code,c.err.msg,C(e,n-u.length+c.err.line));if(i===!0)return g("InvalidXml","Multiple possible root nodes found.",C(e,n));t.unpairedTags.indexOf(o)!==-1||r.push({tagName:o,tagStartPos:h}),s=!0}for(n++;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="!"){n++,n=ke(e,n);continue}else if(e[n+1]==="?"){if(n=Qe(e,++n),n.err)return n}else break;else if(e[n]==="&"){let c=Cr(e,n);if(c==-1)return g("InvalidChar","char '&' is not expected.",C(e,n));n=c}else if(i===!0&&!Ke(e[n]))return g("InvalidXml","Extra text at the end",C(e,n));e[n]==="<"&&n--}}else{if(Ke(e[n]))continue;return g("InvalidChar","char '"+e[n]+"' is not expected.",C(e,n))}if(s){if(r.length==1)return g("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",C(e,r[0].tagStartPos));if(r.length>0)return g("InvalidXml","Invalid '"+JSON.stringify(r.map(n=>n.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return g("InvalidXml","Start tag expected.",1);return!0};function Ke(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Qe(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let s=e.substr(r,t-r);if(t>5&&s==="xml")return g("InvalidXml","XML declaration allowed only at the start of the document.",C(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function ke(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var pr='"',dr="'";function gr(e,t){let r="",s="",i=!1;for(;t<e.length;t++){if(e[t]===pr||e[t]===dr)s===""?s=e[t]:s!==e[t]||(s="");else if(e[t]===">"&&s===""){i=!0;break}r+=e[t]}return s!==""?!1:{value:r,index:t,tagClosed:i}}var mr=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Je(e,t){let r=X.getAllMatches(e,mr),s={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return g("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",H(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return g("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",H(r[i]));if(r[i][3]===void 0&&!t.allowBooleanAttributes)return g("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",H(r[i]));let n=r[i][2];if(!br(n))return g("InvalidAttr","Attribute '"+n+"' is an invalid name.",H(r[i]));if(!s.hasOwnProperty(n))s[n]=1;else return g("InvalidAttr","Attribute '"+n+"' is repeated.",H(r[i]))}return!0}function Tr(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Cr(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Tr(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function g(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function br(e){return X.isName(e)}function Nr(e){return X.isName(e)}function C(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function H(e){return e.startIndex+e[1].length}});var Ze=f(z=>{var Ye={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1},Ar=function(e){return Object.assign({},Ye,e)};z.buildOptions=Ar;z.defaultOptions=Ye});var Ge=f((Ls,Xe)=>{"use strict";var j=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){this.child.push({[t]:r})}addChild(t){t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}};Xe.exports=j});var je=f((Ss,ze)=>{function xr(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let s=1,i=!1,n=!1,h=!1,a="";for(;t<e.length;t++)if(e[t]==="<"){if(i&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y")t+=7,n=!0;else if(i&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T")t+=8;else if(i&&e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T")t+=8;else if(i&&e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N")t+=9;else if(e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-")h=!0;else throw new Error("Invalid DOCTYPE");s++,a=""}else if(e[t]===">"){if(h)if(e[t-1]==="-"&&e[t-2]==="-")h=!1;else throw new Error("Invalid XML comment in DOCTYPE");else n&&(Rr(a,r),n=!1);if(s--,s===0)break}else e[t]==="["?i=!0:a+=e[t];if(s!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}var Er=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function Rr(e,t){let r=Er.exec(e);r&&(t[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}ze.exports=xr});var et=f((Ps,De)=>{var wr=/^[-+]?0x[a-fA-F0-9]+$/,_r=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var yr={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Hr(e,t={}){if(t=Object.assign({},yr,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&wr.test(r))return Number.parseInt(r,16);{let s=_r.exec(r);if(s){let i=s[1],n=s[2],h=Or(s[3]),a=s[4]||s[6];if(!t.leadingZeros&&n.length>0&&i&&r[2]!==".")return e;if(!t.leadingZeros&&n.length>0&&!i&&r[1]!==".")return e;{let o=Number(r),l=""+o;return l.search(/[eE]/)!==-1||a?t.eNotation?o:e:r.indexOf(".")!==-1?l==="0"&&h===""||l===h||i&&l==="-"+h?o:e:n?h===l||i+h===l?o:e:r===l||r===i+l?o:e}}else return e}}function Or(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}De.exports=Hr});var rt=f((Us,tt)=>{"use strict";var re=Z(),O=Ge(),Ir=je(),Lr=et(),Ms="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,re.nameRegexp),D=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={amp:{regex:/&(amp|#38|#x26);/g,val:"&"},apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=Sr,this.parseXml=Fr,this.parseTextData=Pr,this.resolveNameSpace=Mr,this.buildAttributesMap=Br,this.isItStopNode=qr,this.replaceEntitiesValue=vr,this.readStopNodeData=Kr,this.saveTextToParentTag=$r}};function Sr(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let s=t[r];this.lastEntities[s]={regex:new RegExp("&"+s+";","g"),val:e[s]}}}function Pr(e,t,r,s,i,n,h){if(e!==void 0&&(this.options.trimValues&&!s&&(e=e.trim()),e.length>0)){h||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,i,n);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?te(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?te(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Mr(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var Ur=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Br(e,t){if(!this.options.ignoreAttributes&&typeof e=="string"){let r=re.getAllMatches(e,Ur),s=r.length,i={};for(let n=0;n<s;n++){let h=this.resolveNameSpace(r[n][1]),a=r[n][4],o=this.options.attributeNamePrefix+h;if(h.length)if(a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let l=this.options.attributeValueProcessor(h,a,t);l==null?i[o]=a:typeof l!=typeof a||l!==a?i[o]=l:i[o]=te(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[o]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let n={};return n[this.options.attributesGroupName]=i,n}return i}}var Fr=function(e){e=e.replace(/\r\n?/g,`
`);let t=new O("!xml"),r=t,s="",i="";for(let n=0;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="/"){let a=E(e,">",n,"Closing Tag is not closed."),o=e.substring(n+2,a).trim();if(this.options.removeNSPrefix){let l=o.indexOf(":");l!==-1&&(o=o.substr(l+1))}this.options.transformTagName&&(o=this.options.transformTagName(o)),r&&(s=this.saveTextToParentTag(s,r,i)),i=i.substr(0,i.lastIndexOf(".")),r=this.tagsNodeStack.pop(),s="",n=a}else if(e[n+1]==="?"){let a=ee(e,n,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(s=this.saveTextToParentTag(s,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let o=new O(a.tagName);o.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(o[":@"]=this.buildAttributesMap(a.tagExp,i)),r.addChild(o)}n=a.closeIndex+1}else if(e.substr(n+1,3)==="!--"){let a=E(e,"-->",n+4,"Comment is not closed.");if(this.options.commentPropName){let o=e.substring(n+4,a-2);s=this.saveTextToParentTag(s,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:o}])}n=a}else if(e.substr(n+1,2)==="!D"){let a=Ir(e,n);this.docTypeEntities=a.entities,n=a.i}else if(e.substr(n+1,2)==="!["){let a=E(e,"]]>",n,"CDATA is not closed.")-2,o=e.substring(n+9,a);if(s=this.saveTextToParentTag(s,r,i),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:o}]);else{let l=this.parseTextData(o,r.tagname,i,!0,!1,!0);l==null&&(l=""),r.add(this.options.textNodeName,l)}n=a+2}else{let a=ee(e,n,this.options.removeNSPrefix),o=a.tagName,l=a.tagExp,u=a.attrExpPresent,c=a.closeIndex;this.options.transformTagName&&(o=this.options.transformTagName(o)),r&&s&&r.tagname!=="!xml"&&(s=this.saveTextToParentTag(s,r,i,!1)),o!==t.tagname&&(i+=i?"."+o:o);let m=r;if(m&&this.options.unpairedTags.indexOf(m.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,i,o)){let d="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)n=a.closeIndex;else if(this.options.unpairedTags.indexOf(o)!==-1)n=a.closeIndex;else{let A=this.readStopNodeData(e,o,c+1);if(!A)throw new Error(`Unexpected end of ${o}`);n=A.i,d=A.tagContent}let w=new O(o);o!==l&&u&&(w[":@"]=this.buildAttributesMap(l,i)),d&&(d=this.parseTextData(d,o,i,!0,u,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),w.add(this.options.textNodeName,d),r.addChild(w)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){o[o.length-1]==="/"?(o=o.substr(0,o.length-1),l=o):l=l.substr(0,l.length-1),this.options.transformTagName&&(o=this.options.transformTagName(o));let d=new O(o);o!==l&&u&&(d[":@"]=this.buildAttributesMap(l,i)),i=i.substr(0,i.lastIndexOf(".")),r.addChild(d)}else{let d=new O(o);this.tagsNodeStack.push(r),o!==l&&u&&(d[":@"]=this.buildAttributesMap(l,i)),r.addChild(d),r=d}s="",n=c}}else s+=e[n];return t.child},vr=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}}return e};function $r(e,t,r,s){return e&&(s===void 0&&(s=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,s),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function qr(e,t,r){let s="*."+r;for(let i in e){let n=e[i];if(s===n||t===n)return!0}return!1}function Vr(e,t,r=">"){let s,i="";for(let n=t;n<e.length;n++){let h=e[n];if(s)h===s&&(s="");else if(h==='"'||h==="'")s=h;else if(h===r[0])if(r[1]){if(e[n+1]===r[1])return{data:i,index:n}}else return{data:i,index:n};else h==="	"&&(h=" ");i+=h}}function E(e,t,r,s){let i=e.indexOf(t,r);if(i===-1)throw new Error(s);return i+t.length-1}function ee(e,t,r,s=">"){let i=Vr(e,t+1,s);if(!i)return;let n=i.data,h=i.index,a=n.search(/\s/),o=n,l=!0;if(a!==-1&&(o=n.substr(0,a).replace(/\s\s*$/,""),n=n.substr(a+1)),r){let u=o.indexOf(":");u!==-1&&(o=o.substr(u+1),l=o!==i.data.substr(u+1))}return{tagName:o,tagExp:n,closeIndex:h,attrExpPresent:l}}function Kr(e,t,r){let s=r,i=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let n=E(e,">",r,`${t} is not closed`);if(e.substring(r+2,n).trim()===t&&(i--,i===0))return{tagContent:e.substring(s,r),i:n};r=n}else if(e[r+1]==="?")r=E(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=E(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=E(e,"]]>",r,"StopNode is not closed.")-2;else{let n=ee(e,r,">");n&&((n&&n.tagName)===t&&n.tagExp[n.tagExp.length-1]!=="/"&&i++,r=n.closeIndex)}}function te(e,t,r){if(t&&typeof e=="string"){let s=e.trim();return s==="true"?!0:s==="false"?!1:Lr(e,r)}else return re.isExist(e)?e:""}tt.exports=D});var nt=f(it=>{"use strict";function Qr(e,t){return st(e,t)}function st(e,t,r){let s,i={};for(let n=0;n<e.length;n++){let h=e[n],a=kr(h),o="";if(r===void 0?o=a:o=r+"."+a,a===t.textNodeName)s===void 0?s=h[a]:s+=""+h[a];else{if(a===void 0)continue;if(h[a]){let l=st(h[a],t,o),u=Wr(l,t);h[":@"]?Jr(l,h[":@"],o,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(l)):t.isArray(a,o,u)?i[a]=[l]:i[a]=l}}}return typeof s=="string"?s.length>0&&(i[t.textNodeName]=s):s!==void 0&&(i[t.textNodeName]=s),i}function kr(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let s=t[r];if(s!==":@")return s}}function Jr(e,t,r,s){if(t){let i=Object.keys(t),n=i.length;for(let h=0;h<n;h++){let a=i[h];s.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function Wr(e,t){let r=Object.keys(e).length;return!!(r===0||r===1&&e[t.textNodeName])}it.prettify=Qr});var at=f((Fs,ot)=>{var{buildOptions:Yr}=Ze(),Zr=rt(),{prettify:Xr}=nt(),Gr=G(),se=class{constructor(t){this.externalEntities={},this.options=Yr(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let n=Gr.validate(t,r);if(n!==!0)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}let s=new Zr(this.options);s.addExternalEntities(this.externalEntities);let i=s.parseXml(t);return this.options.preserveOrder||i===void 0?i:Xr(i,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");this.externalEntities[t]=r}};ot.exports=se});var ft=f((vs,ct)=>{var zr=`
`;function jr(e,t){return lt(e,t,"",0)}function lt(e,t,r,s){let i="",n="";t.format&&t.indentBy.length>0&&(n=zr+""+t.indentBy.repeat(s));for(let h=0;h<e.length;h++){let a=e[h],o=Dr(a),l="";if(r.length===0?l=o:l=`${r}.${o}`,o===t.textNodeName){let d=a[o];es(l,t)||(d=t.tagValueProcessor(o,d),d=ut(d,t)),i+=n+d;continue}else if(o===t.cdataPropName){i+=n+`<![CDATA[${a[o][0][t.textNodeName]}]]>`;continue}else if(o===t.commentPropName){i+=n+`<!--${a[o][0][t.textNodeName]}-->`;continue}else if(o[0]==="?"){let d=ht(a[":@"],t),w=o==="?xml"?"":n,A=a[o][0][t.textNodeName];A=A.length!==0?" "+A:"",i+=w+`<${o}${A}${d}?>`;continue}let u=ht(a[":@"],t),c=n+`<${o}${u}`,m=lt(a[o],t,l,s+1);t.unpairedTags.indexOf(o)!==-1?t.suppressUnpairedNode?i+=c+">":i+=c+"/>":(!m||m.length===0)&&t.suppressEmptyNode?i+=c+"/>":i+=c+`>${m}${n}</${o}>`}return i}function Dr(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let s=t[r];if(s!==":@")return s}}function ht(e,t){let r="";if(e&&!t.ignoreAttributes)for(let s in e){let i=t.attributeValueProcessor(s,e[s]);i=ut(i,t),i===!0&&t.suppressBooleanAttributes?r+=` ${s.substr(t.attributeNamePrefix.length)}`:r+=` ${s.substr(t.attributeNamePrefix.length)}="${i}"`}return r}function es(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let s in t.stopNodes)if(t.stopNodes[s]===e||t.stopNodes[s]==="*."+r)return!0;return!1}function ut(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let s=t.entities[r];e=e.replace(s.regex,s.val)}return e}ct.exports=jr});var mt=f(($s,gt)=>{"use strict";var ts=ft(),rs={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],transformTagName:!1};function ie(e){this.options=Object.assign({},rs,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=ls),this.processTextOrObjNode=is,this.options.format?(this.indentate=hs,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.suppressEmptyNode?(this.buildTextNode=as,this.buildObjNode=ns):(this.buildTextNode=dt,this.buildObjNode=pt),this.buildTextValNode=dt,this.buildObjectNode=pt,this.replaceEntitiesValue=os,this.buildAttrPairStr=ss}ie.prototype.build=function(e){return this.options.preserveOrder?ts(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};ie.prototype.j2x=function(e,t){let r="",s="";for(let i in e)if(!(typeof e[i]>"u"))if(e[i]===null)i[0]==="?"?s+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:s+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)s+=this.buildTextNode(e[i],i,"",t);else if(typeof e[i]!="object"){let n=this.isAttribute(i);if(n)r+=this.buildAttrPairStr(n,""+e[i]);else if(i===this.options.textNodeName){let h=this.options.tagValueProcessor(i,""+e[i]);s+=this.replaceEntitiesValue(h)}else s+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i])){let n=e[i].length;for(let h=0;h<n;h++){let a=e[i][h];typeof a>"u"||(a===null?i[0]==="?"?s+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:s+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:typeof a=="object"?s+=this.processTextOrObjNode(a,i,t):s+=this.buildTextNode(a,i,"",t))}}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){let n=Object.keys(e[i]),h=n.length;for(let a=0;a<h;a++)r+=this.buildAttrPairStr(n[a],""+e[i][n[a]])}else s+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:s}};function ss(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'}function is(e,t,r){let s=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextNode(e[this.options.textNodeName],t,s.attrStr,r):this.buildObjNode(s.val,t,s.attrStr,r)}function pt(e,t,r,s){let i="</"+t+this.tagEndChar,n="";return t[0]==="?"&&(n="?",i=""),r&&e.indexOf("<")===-1?this.indentate(s)+"<"+t+r+n+">"+e+i:this.options.commentPropName!==!1&&t===this.options.commentPropName&&n.length===0?this.indentate(s)+`<!--${e}-->`+this.newLine:this.indentate(s)+"<"+t+r+n+this.tagEndChar+e+this.indentate(s)+i}function ns(e,t,r,s){return e!==""?this.buildObjectNode(e,t,r,s):t[0]==="?"?this.indentate(s)+"<"+t+r+"?"+this.tagEndChar:this.indentate(s)+"<"+t+r+"/"+this.tagEndChar}function dt(e,t,r,s){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(s)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(s)+`<!--${e}-->`+this.newLine;{let i=this.options.tagValueProcessor(t,e);return i=this.replaceEntitiesValue(i),i===""&&this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode?this.indentate(s)+"<"+t+this.tagEndChar:this.indentate(s)+"<"+t+"/"+this.tagEndChar:this.indentate(s)+"<"+t+r+">"+i+"</"+t+this.tagEndChar}}function os(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e}function as(e,t,r,s){return e===""&&this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode?this.indentate(s)+"<"+t+this.tagEndChar:this.indentate(s)+"<"+t+"/"+this.tagEndChar:e!==""?this.buildTextValNode(e,t,r,s):t[0]==="?"?this.indentate(s)+"<"+t+r+"?"+this.tagEndChar:this.indentate(s)+"<"+t+r+"/"+this.tagEndChar}function hs(e){return this.options.indentBy.repeat(e)}function ls(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}gt.exports=ie});var Ct=f((qs,Tt)=>{"use strict";var us=G(),cs=at(),fs=mt();Tt.exports={XMLParser:cs,XMLValidator:us,XMLBuilder:fs}});var $=he($e());var bt=he(Ct()),Nt=async e=>{let t=await fetch("https://meta.quiltmc.org/v3/versions/quilt-mappings/"+e);return t.ok?(await t.json().then(s=>s[0])).version:null},At=async e=>{let t=await fetch("https://meta.quiltmc.org/v3/versions/loader/"+e);return t.ok?(await t.json().then(s=>s[0])).loader.version:null},xt=async e=>{let t=await fetch("https://maven.quiltmc.org/repository/release/org/quiltmc/quilted-fabric-api/quilted-fabric-api/maven-metadata.xml");if(!t.ok)return null;let s=(await t.text().then(i=>new bt.XMLParser().parse(i))).metadata.versioning.versions.version.filter(i=>i.includes("-"+e));return s.length?s[0]:null};var ne,Et,Rt,wt,_t=!0;typeof process<"u"&&({FORCE_COLOR:ne,NODE_DISABLE_COLORS:Et,NO_COLOR:Rt,TERM:wt}=process.env||{},_t=process.stdout&&process.stdout.isTTY);var ps={enabled:!Et&&Rt==null&&wt!=="dumb"&&(ne!=null&&ne!=="0"||_t)};function p(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),s=`\x1B[${e}m`,i=`\x1B[${t}m`;return function(n){return!ps.enabled||n==null?n:s+(~(""+n).indexOf(i)?n.replace(r,i+s):n)+i}}var Ks=p(0,0),oe=p(1,22),Qs=p(2,22),ks=p(3,23),Js=p(4,24),Ws=p(7,27),Ys=p(8,28),Zs=p(9,29),Xs=p(30,39),yt=p(31,39),Ht=p(32,39),Gs=p(33,39),zs=p(34,39),js=p(35,39),Ds=p(36,39),ei=p(37,39),ti=p(90,39),ri=p(90,39),si=p(40,49),ii=p(41,49),ni=p(42,49),oi=p(43,49),ai=p(44,49),hi=p(45,49),li=p(46,49),ui=p(47,49);var F=e=>{console.log(oe(Ht("\u2714"))+" "+e)},v=e=>{console.log(oe(yt("\u2718"))+" "+e)};var q=require("fs/promises");(async()=>{let e=await(0,q.readFile)("./gradle/libs.versions.toml","utf8"),t=(0,$.parse)(e),r=t.versions.minecraft;for(let s in t.libraries){let i=t.libraries[s];if(i.module==="org.quiltmc:quilt-mappings"){let n=await Nt(r);n?(typeof i.version=="string"?t.libraries[s].version=n:t.versions[t.libraries[s].version.ref]=n,F(`Updated Quilt Mappings to ${n}`)):v("Failed to retrieve latest mapping version!")}else if(i.module==="org.quiltmc:quilt-loader"){let n=await At(r);n?(typeof i.version=="string"?t.libraries[s].version=n:t.versions[t.libraries[s].version.ref]=n,F(`Updated Quilt Loader to ${n}`)):v("Failed to retrieve latest loader version!")}else if(i.module==="org.quiltmc.quilted-fabric-api:quilted-fabric-api"){let n=await xt(r);n?(typeof i.version=="string"?t.libraries[s].version=n:t.versions[t.libraries[s].version.ref]=n,F(`Updated Quilted Fabric API to ${n}`)):v("Failed to retrieve latest QFAPI version!")}}await(0,q.writeFile)("./gradle/libs.versions.toml",`${(0,$.stringify)(t)}
`)})().catch(e=>{console.error(e),process.exit(1)});
