var _u=Object.create;var _n=Object.defineProperty;var bu=Object.getOwnPropertyDescriptor;var wu=Object.getOwnPropertyNames;var Eu=Object.getPrototypeOf,xu=Object.prototype.hasOwnProperty;var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Tu=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of wu(e))!xu.call(t,n)&&n!==r&&_n(t,n,{get:()=>e[n],enumerable:!(s=bu(e,n))||s.enumerable});return t};var M=(t,e,r)=>(r=t!=null?_u(Eu(t)):{},Tu(e||!t||!t.__esModule?_n(r,"default",{value:t,enumerable:!0}):r,t));var wn=y((jg,bn)=>{"use strict";var ee=class extends Error{constructor(e,r,s){super("[ParserError] "+e,r,s),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,ee)}},dt=class{constructor(e){this.parser=e,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}},ke=class{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new dt(this.parseStart)}parse(e){if(e.length===0||e.length==null)return;this._buf=String(e),this.ii=-1,this.char=-1;let r;for(;r===!1||this.nextChar();)r=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=1114112;let e;do e=this.state.parser,this.runOne();while(this.state.parser!==e);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(e){if(typeof e!="function")throw new ee("Tried to set state to non-existent state: "+JSON.stringify(e));this.state.parser=e}goto(e){return this.next(e),this.runOne()}call(e,r){r&&this.next(r),this.stack.push(this.state),this.state=new dt(e)}callNow(e,r){return this.call(e,r),this.runOne()}return(e){if(this.stack.length===0)throw this.error(new ee("Stack underflow"));e===void 0&&(e=this.state.buf),this.state=this.stack.pop(),this.state.returned=e}returnNow(e){return this.return(e),this.runOne()}consume(){if(this.char===1114112)throw this.error(new ee("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(e){return e.line=this.line,e.col=this.col,e.pos=this.pos,e}parseStart(){throw new ee("Must declare a parseStart method")}};ke.END=1114112;ke.Error=ee;bn.exports=ke});var xn=y((Bg,En)=>{"use strict";En.exports=t=>{let e=new Date(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var pt=y(($g,Tn)=>{"use strict";Tn.exports=(t,e)=>{for(e=String(e);e.length<t;)e="0"+e;return e}});var Rn=y((Fg,Cn)=>{"use strict";var Ce=pt(),Tr=class extends Date{constructor(e){super(e+"Z"),this.isFloating=!0}toISOString(){let e=`${this.getUTCFullYear()}-${Ce(2,this.getUTCMonth()+1)}-${Ce(2,this.getUTCDate())}`,r=`${Ce(2,this.getUTCHours())}:${Ce(2,this.getUTCMinutes())}:${Ce(2,this.getUTCSeconds())}.${Ce(3,this.getUTCMilliseconds())}`;return`${e}T${r}`}};Cn.exports=t=>{let e=new Tr(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var Sn=y((Dg,On)=>{"use strict";var An=pt(),Cu=global.Date,Cr=class extends Cu{constructor(e){super(e),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${An(2,this.getUTCMonth()+1)}-${An(2,this.getUTCDate())}`}};On.exports=t=>{let e=new Cr(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var Pn=y((zg,Nn)=>{"use strict";var mt=pt(),Rr=class extends Date{constructor(e){super(`0000-01-01T${e}Z`),this.isTime=!0}toISOString(){return`${mt(2,this.getUTCHours())}:${mt(2,this.getUTCMinutes())}:${mt(2,this.getUTCSeconds())}.${mt(3,this.getUTCMilliseconds())}`}};Nn.exports=t=>{let e=new Rr(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var gt=y((exports,module)=>{"use strict";module.exports=makeParserClass(wn());module.exports.makeParserClass=makeParserClass;var TomlError=class extends Error{constructor(e){super(e),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}};TomlError.wrap=t=>{let e=new TomlError(t.message);return e.code=t.code,e.wrapped=t,e};module.exports.TomlError=TomlError;var createDateTime=xn(),createDateTimeFloat=Rn(),createDate=Sn(),createTime=Pn(),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(t){return t>=CHAR_0&&t<=CHAR_9}function isHexit(t){return t>=CHAR_A&&t<=CHAR_F||t>=CHAR_a&&t<=CHAR_f||t>=CHAR_0&&t<=CHAR_9}function isBit(t){return t===CHAR_1||t===CHAR_0}function isOctit(t){return t>=CHAR_0&&t<=CHAR_7}function isAlphaNumQuoteHyphen(t){return t>=CHAR_A&&t<=CHAR_Z||t>=CHAR_a&&t<=CHAR_z||t>=CHAR_0&&t<=CHAR_9||t===CHAR_APOS||t===CHAR_QUOT||t===CHAR_LOWBAR||t===CHAR_HYPHEN}function isAlphaNumHyphen(t){return t>=CHAR_A&&t<=CHAR_Z||t>=CHAR_a&&t<=CHAR_z||t>=CHAR_0&&t<=CHAR_9||t===CHAR_LOWBAR||t===CHAR_HYPHEN}var _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(t,e){return hasOwnProperty.call(t,e)?!0:(e==="__proto__"&&defineProperty(t,"__proto__",descriptor),!1)}var INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(t){return t===null||typeof t!="object"?!1:t[_type]===INLINE_TABLE}var TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(t){return t===null||typeof t!="object"?!1:t[_type]===TABLE}var _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(t){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:t}})}function isInlineList(t){return t===null||typeof t!="object"?!1:t[_type]===INLINE_LIST}var LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(t){return t===null||typeof t!="object"?!1:t[_type]===LIST}var _custom;try{let utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(t){}var _inspect=_custom||"inspect",BoxedBigInt=class{constructor(e){try{this.value=global.BigInt.asIntN(64,e)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}},INTEGER=Symbol("integer");function Integer(t){let e=Number(t);return Object.is(e,-0)&&(e=0),global.BigInt&&!Number.isSafeInteger(e)?new BoxedBigInt(t):Object.defineProperties(new Number(e),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${t}]`}})}function isInteger(t){return t===null||typeof t!="object"?!1:t[_type]===INTEGER}var FLOAT=Symbol("float");function Float(t){return Object.defineProperties(new Number(t),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${t}]`}})}function isFloat(t){return t===null||typeof t!="object"?!1:t[_type]===FLOAT}function tomlType(t){let e=typeof t;if(e==="object"){if(t===null)return"null";if(t instanceof Date)return"datetime";if(_type in t)switch(t[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return e}function makeParserClass(t){class e extends t{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===t.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===t.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===t.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(s){let n=this.ctx,i=s.key.pop();for(let o of s.key){if(hasKey(n,o)&&(!isTable(n[o])||n[o][_declared]))throw this.error(new TomlError("Can't redefine existing key"));n=n[o]=n[o]||Table()}if(hasKey(n,i))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(s.value)||isFloat(s.value)?n[i]=s.value.valueOf():n[i]=s.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(s){return this.state.resultTable?this.state.resultTable.push(s):this.state.resultTable=[s],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(s){return this.returnNow({key:this.state.resultTable,value:s})}parseComment(){do if(this.char===t.END||this.char===CTRL_J)return this.return();while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(s){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,s)&&(!isTable(this.ctx[s])||this.ctx[s][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[s]=this.ctx[s]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,s))this.ctx=this.ctx[s]=Table();else if(isTable(this.ctx[s]))this.ctx=this.ctx[s];else if(isList(this.ctx[s]))this.ctx=this.ctx[s][this.ctx[s].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(s){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,s)||(this.ctx[s]=List()),isInlineList(this.ctx[s]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[s])){let n=Table();this.ctx[s].push(n),this.ctx=n}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,s))this.ctx=this.ctx[s]=Table();else{if(isInlineList(this.ctx[s]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[s]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[s]))this.ctx=this.ctx[s][this.ctx[s].length-1];else if(isTable(this.ctx[s]))this.ctx=this.ctx[s];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(s){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===t.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(s){return this.returnNow(s)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===t.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===t.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(s){return this.state.buf+=s,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===t.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let s="\\u00";return this.char<16&&(s+="0"),s+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${s} instead`))}recordMultiEscapeReplacement(s){return this.state.buf+=s,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(s){try{let n=parseInt(s,16);if(n>=SURROGATE_FIRST&&n<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(n))}catch(n){throw this.error(TomlError.wrap(n))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{let s=Integer(this.state.buf);if(s.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(s)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let s=Integer(this.state.buf);if(s.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(s)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let s=Integer(this.state.buf);if(s.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(s)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let s=Integer(this.state.buf);if(s.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(s)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===t.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(s){if(this.state.resultArr){let n=this.state.resultArr[_contentType],i=tomlType(s);if(n!==i)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${n} and ${i}`))}else this.state.resultArr=InlineList(tomlType(s));return isFloat(s)||isInteger(s)?this.state.resultArr.push(s.valueOf()):this.state.resultArr.push(s),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===t.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(s){let n=this.state.resultTable,i=s.key.pop();for(let o of s.key){if(hasKey(n,o)&&(!isTable(n[o])||n[o][_declared]))throw this.error(new TomlError("Can't redefine existing key"));n=n[o]=n[o]||Table()}if(hasKey(n,i))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(s.value)||isFloat(s.value)?n[i]=s.value.valueOf():n[i]=s.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===t.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}return e}});var yt=y((Vg,vn)=>{"use strict";vn.exports=Ru;function Ru(t,e){if(t.pos==null||t.line==null)return t;let r=t.message;if(r+=` at row ${t.line+1}, col ${t.col+1}, pos ${t.pos}:
`,e&&e.split){let s=e.split(/\n/),n=String(Math.min(s.length,t.line+3)).length,i=" ";for(;i.length<n;)i+=" ";for(let o=Math.max(0,t.line-1);o<Math.min(s.length,t.line+2);++o){let a=String(o+1);if(a.length<n&&(a=" "+a),t.line===o){r+=a+"> "+s[o]+`
`,r+=i+"  ";for(let c=0;c<t.col;++c)r+=" ";r+=`^
`}else r+=a+": "+s[o]+`
`}}return t.message=r+`
`,t}});var Hn=y((Wg,In)=>{"use strict";In.exports=Su;var Au=gt(),Ou=yt();function Su(t){global.Buffer&&global.Buffer.isBuffer(t)&&(t=t.toString("utf8"));let e=new Au;try{return e.parse(t),e.finish()}catch(r){throw Ou(r,t)}}});var kn=y((Gg,qn)=>{"use strict";qn.exports=Pu;var Nu=gt(),Ln=yt();function Pu(t,e){e||(e={});let r=0,s=e.blocksize||40960,n=new Nu;return new Promise((o,a)=>{setImmediate(i,r,s,o,a)});function i(o,a,c,u){if(o>=t.length)try{return c(n.finish())}catch(f){return u(Ln(f,t))}try{n.parse(t.slice(o,o+a)),setImmediate(i,o+a,a,c,u)}catch(f){u(Ln(f,t))}}}});var jn=y((Jg,Mn)=>{"use strict";Mn.exports=Iu;var vu=require("stream"),Un=gt();function Iu(t){return t?Hu(t):Lu(t)}function Hu(t){let e=new Un;return t.setEncoding("utf8"),new Promise((r,s)=>{let n,i=!1,o=!1;function a(){if(i=!0,!n)try{r(e.finish())}catch(f){s(f)}}function c(f){o=!0,s(f)}t.once("end",a),t.once("error",c),u();function u(){n=!0;let f;for(;(f=t.read())!==null;)try{e.parse(f)}catch(d){return c(d)}if(n=!1,i)return a();o||t.once("readable",u)}})}function Lu(){let t=new Un;return new vu.Transform({objectMode:!0,transform(e,r,s){try{t.parse(e.toString(r))}catch(n){this.emit("error",n)}s()},flush(e){try{this.push(t.finish())}catch(r){this.emit("error",r)}e()}})}});var Bn=y((Kg,Ue)=>{"use strict";Ue.exports=Hn();Ue.exports.async=kn();Ue.exports.stream=jn();Ue.exports.prettyError=yt()});var Jn=y((Yg,Sr)=>{"use strict";Sr.exports=qu;Sr.exports.value=Or;function qu(t){if(t===null)throw me("null");if(t===void 0)throw me("undefined");if(typeof t!="object")throw me(typeof t);if(typeof t.toJSON=="function"&&(t=t.toJSON()),t==null)return null;let e=F(t);if(e!=="table")throw me(e);return Ar("","",t)}function me(t){return new Error("Can only stringify objects, not "+t)}function ku(){return new Error("Array values can't have mixed types")}function $n(t){return Object.keys(t).filter(e=>Fn(t[e]))}function Uu(t){return Object.keys(t).filter(e=>!Fn(t[e]))}function _t(t){let e=Array.isArray(t)?[]:Object.prototype.hasOwnProperty.call(t,"__proto__")?{["__proto__"]:void 0}:{};for(let r of Object.keys(t))t[r]&&typeof t[r].toJSON=="function"&&!("toISOString"in t[r])?e[r]=t[r].toJSON():e[r]=t[r];return e}function Ar(t,e,r){r=_t(r);var s,n;s=$n(r),n=Uu(r);var i=[],o=e||"";s.forEach(c=>{var u=F(r[c]);u!=="undefined"&&u!=="null"&&i.push(o+bt(c)+" = "+Vn(r[c],!0))}),i.length>0&&i.push("");var a=t&&s.length>0?e+"  ":"";return n.forEach(c=>{i.push(Ju(t,a,c,r[c]))}),i.join(`
`)}function Fn(t){switch(F(t)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return t.length===0||F(t[0])!=="table";case"table":return Object.keys(t).length===0;default:return!1}}function F(t){return t===void 0?"undefined":t===null?"null":typeof t=="bigint"||Number.isInteger(t)&&!Object.is(t,-0)?"integer":typeof t=="number"?"float":typeof t=="boolean"?"boolean":typeof t=="string"?"string":"toISOString"in t?isNaN(t)?"undefined":"datetime":Array.isArray(t)?"array":"table"}function bt(t){var e=String(t);return/^[-A-Za-z0-9_]+$/.test(e)?e:Dn(e)}function Dn(t){return'"'+zn(t).replace(/"/g,'\\"')+'"'}function Mu(t){return"'"+t+"'"}function ju(t,e){for(;e.length<t;)e="0"+e;return e}function zn(t){return t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,e=>"\\u"+ju(4,e.codePointAt(0).toString(16)))}function Bu(t){let e=t.split(/\n/).map(r=>zn(r).replace(/"(?="")/g,'\\"')).join(`
`);return e.slice(-1)==='"'&&(e+=`\\
`),`"""
`+e+'"""'}function Vn(t,e){let r=F(t);return r==="string"&&(e&&/\n/.test(t)?r="string-multiline":!/[\b\t\n\f\r']/.test(t)&&/"/.test(t)&&(r="string-literal")),Or(t,r)}function Or(t,e){switch(e||(e=F(t)),e){case"string-multiline":return Bu(t);case"string":return Dn(t);case"string-literal":return Mu(t);case"integer":return Wn(t);case"float":return $u(t);case"boolean":return Fu(t);case"datetime":return Du(t);case"array":return Wu(t.filter(r=>F(r)!=="null"&&F(r)!=="undefined"&&F(r)!=="nan"));case"table":return Gu(t);default:throw me(e)}}function Wn(t){return String(t).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function $u(t){if(t===1/0)return"inf";if(t===-1/0)return"-inf";if(Object.is(t,NaN))return"nan";if(Object.is(t,-0))return"-0.0";var e=String(t).split("."),r=e[0],s=e[1]||0;return Wn(r)+"."+s}function Fu(t){return String(t)}function Du(t){return t.toISOString()}function zu(t){return t==="float"||t==="integer"}function Vu(t){var e=F(t[0]);return t.every(r=>F(r)===e)?e:t.every(r=>zu(F(r)))?"float":"mixed"}function Gn(t){let e=Vu(t);if(e==="mixed")throw ku();return e}function Wu(t){t=_t(t);let e=Gn(t);var r="[",s=t.map(n=>Or(n,e));return s.join(", ").length>60||/\n/.test(s)?r+=`
  `+s.join(`,
  `)+`
`:r+=" "+s.join(", ")+(s.length>0?" ":""),r+"]"}function Gu(t){t=_t(t);var e=[];return Object.keys(t).forEach(r=>{e.push(bt(r)+" = "+Vn(t[r],!1))}),"{ "+e.join(", ")+(e.length>0?" ":"")+"}"}function Ju(t,e,r,s){var n=F(s);if(n==="array")return Ku(t,e,r,s);if(n==="table")return Yu(t,e,r,s);throw me(n)}function Ku(t,e,r,s){s=_t(s),Gn(s);var n=F(s[0]);if(n!=="table")throw me(n);var i=t+bt(r),o="";return s.forEach(a=>{o.length>0&&(o+=`
`),o+=e+"[["+i+`]]
`,o+=Ar(i+".",e,a)}),o}function Yu(t,e,r,s){var n=t+bt(r),i="";return $n(s).length>0&&(i+=e+"["+n+`]
`),i+Ar(n+".",e,s)}});var Kn=y(Nr=>{"use strict";Nr.parse=Bn();Nr.stringify=Jn()});var Zn=y((Ir,Hr)=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});function hh(t){return t.encrypted}var vr=(t,e)=>{let r;typeof e=="function"?r={connect:e}:r=e;let s=typeof r.connect=="function",n=typeof r.secureConnect=="function",i=typeof r.close=="function",o=()=>{s&&r.connect(),hh(t)&&n&&(t.authorized?r.secureConnect():t.authorizationError||t.once("secureConnect",r.secureConnect)),i&&t.once("close",r.close)};t.writable&&!t.connecting?o():t.connecting?t.once("connect",o):t.destroyed&&i&&r.close(t._hadError)};Ir.default=vr;Hr.exports=vr;Hr.exports.default=vr});var oi=y((sy,ii)=>{"use strict";var fh="text/plain",dh="us-ascii",ni=(t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),ph=(t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:s,data:n,hash:i}=r.groups,o=s.split(";");i=e?"":i;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);let c=(o.shift()||"").toLowerCase(),f=[...o.map(d=>{let[m,_=""]=d.split("=").map(T=>T.trim());return m==="charset"&&(_=_.toLowerCase(),_===dh)?"":`${m}${_?`=${_}`:""}`}).filter(Boolean)];return a&&f.push("base64"),(f.length!==0||c&&c!==fh)&&f.unshift(c),`data:${f.join(";")},${a?n.trim():n}${i?`#${i}`:""}`},mh=(t,e)=>{if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return ph(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let n=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&n.protocol==="https:"&&(n.protocol="http:"),e.forceHttps&&n.protocol==="http:"&&(n.protocol="https:"),e.stripAuthentication&&(n.username="",n.password=""),e.stripHash?n.hash="":e.stripTextFragment&&(n.hash=n.hash.replace(/#?:~:text.*?$/i,"")),n.pathname&&(n.pathname=n.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),n.pathname)try{n.pathname=decodeURI(n.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let o=n.pathname.split("/"),a=o[o.length-1];ni(a,e.removeDirectoryIndex)&&(o=o.slice(0,o.length-1),n.pathname=o.slice(1).join("/")+"/")}if(n.hostname&&(n.hostname=n.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(n.hostname)&&(n.hostname=n.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let o of[...n.searchParams.keys()])ni(o,e.removeQueryParameters)&&n.searchParams.delete(o);e.removeQueryParameters===!0&&(n.search=""),e.sortQueryParameters&&n.searchParams.sort(),e.removeTrailingSlash&&(n.pathname=n.pathname.replace(/\/$/,""));let i=t;return t=n.toString(),!e.removeSingleSlash&&n.pathname==="/"&&!i.endsWith("/")&&n.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||n.pathname==="/")&&n.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t};ii.exports=mh});var ui=y((ny,ci)=>{ci.exports=ai;function ai(t,e){if(t&&e)return ai(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(s){r[s]=t[s]}),r;function r(){for(var s=new Array(arguments.length),n=0;n<s.length;n++)s[n]=arguments[n];var i=t.apply(this,s),o=s[s.length-1];return typeof i=="function"&&i!==o&&Object.keys(o).forEach(function(a){i[a]=o[a]}),i}}});var qr=y((iy,Lr)=>{var hi=ui();Lr.exports=hi(Ct);Lr.exports.strict=hi(li);Ct.proto=Ct(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Ct(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return li(this)},configurable:!0})});function Ct(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function li(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var pi=y((oy,di)=>{var gh=qr(),yh=function(){},_h=function(t){return t.setHeader&&typeof t.abort=="function"},bh=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},fi=function(t,e,r){if(typeof e=="function")return fi(t,null,e);e||(e={}),r=gh(r||yh);var s=t._writableState,n=t._readableState,i=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,a=!1,c=function(){t.writable||u()},u=function(){o=!1,i||r.call(t)},f=function(){i=!1,o||r.call(t)},d=function(w){r.call(t,w?new Error("exited with error code: "+w):null)},m=function(w){r.call(t,w)},_=function(){process.nextTick(T)},T=function(){if(!a){if(i&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"));if(o&&!(s&&s.ended&&!s.destroyed))return r.call(t,new Error("premature close"))}},p=function(){t.req.on("finish",u)};return _h(t)?(t.on("complete",u),t.on("abort",_),t.req?p():t.on("request",p)):o&&!s&&(t.on("end",c),t.on("close",c)),bh(t)&&t.on("exit",d),t.on("end",f),t.on("finish",u),e.error!==!1&&t.on("error",m),t.on("close",_),function(){a=!0,t.removeListener("complete",u),t.removeListener("abort",_),t.removeListener("request",p),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("exit",d),t.removeListener("end",f),t.removeListener("error",m),t.removeListener("close",_)}};di.exports=fi});var yi=y((ay,gi)=>{var wh=qr(),Eh=pi(),kr=require("fs"),Fe=function(){},xh=/^v?\.0/.test(process.version),Rt=function(t){return typeof t=="function"},Th=function(t){return!xh||!kr?!1:(t instanceof(kr.ReadStream||Fe)||t instanceof(kr.WriteStream||Fe))&&Rt(t.close)},Ch=function(t){return t.setHeader&&Rt(t.abort)},Rh=function(t,e,r,s){s=wh(s);var n=!1;t.on("close",function(){n=!0}),Eh(t,{readable:e,writable:r},function(o){if(o)return s(o);n=!0,s()});var i=!1;return function(o){if(!n&&!i){if(i=!0,Th(t))return t.close(Fe);if(Ch(t))return t.abort();if(Rt(t.destroy))return t.destroy();s(o||new Error("stream was destroyed"))}}},mi=function(t){t()},Ah=function(t,e){return t.pipe(e)},Oh=function(){var t=Array.prototype.slice.call(arguments),e=Rt(t[t.length-1]||Fe)&&t.pop()||Fe;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,s=t.map(function(n,i){var o=i<t.length-1,a=i>0;return Rh(n,o,a,function(c){r||(r=c),c&&s.forEach(mi),!o&&(s.forEach(mi),e(r))})});return t.reduce(Ah)};gi.exports=Oh});var bi=y((cy,_i)=>{"use strict";var{PassThrough:Sh}=require("stream");_i.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,s=r==="buffer",n=!1;e?n=!(r||s):r=r||"utf8",s&&(r=null);let i=new Sh({objectMode:n});r&&i.setEncoding(r);let o=0,a=[];return i.on("data",c=>{a.push(c),n?o=a.length:o+=c.length}),i.getBufferedValue=()=>e?a:s?Buffer.concat(a,o):a.join(""),i.getBufferedLength=()=>o,i}});var wi=y((uy,Ae)=>{"use strict";var{constants:Nh}=require("buffer"),Ph=yi(),vh=bi(),At=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Ot(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,s;return await new Promise((n,i)=>{let o=a=>{a&&s.getBufferedLength()<=Nh.MAX_LENGTH&&(a.bufferedData=s.getBufferedValue()),i(a)};s=Ph(t,vh(e),a=>{if(a){o(a);return}n()}),s.on("data",()=>{s.getBufferedLength()>r&&o(new At)})}),s.getBufferedValue()}Ae.exports=Ot;Ae.exports.default=Ot;Ae.exports.buffer=(t,e)=>Ot(t,{...e,encoding:"buffer"});Ae.exports.array=(t,e)=>Ot(t,{...e,array:!0});Ae.exports.MaxBufferError=At});var xi=y((ly,Ei)=>{"use strict";var Ih=new Set([200,203,204,206,300,301,404,405,410,414,501]),Hh=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),Lh=new Set([500,502,503,504]),qh={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},kh={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function ye(t){let e=parseInt(t,10);return isFinite(e)?e:0}function Uh(t){return t?Lh.has(t.status):!0}function Ur(t){let e={};if(!t)return e;let r=t.trim().split(/\s*,\s*/);for(let s of r){let[n,i]=s.split(/\s*=\s*/,2);e[n]=i===void 0?!0:i.replace(/^"|"$/g,"")}return e}function Mh(t){let e=[];for(let r in t){let s=t[r];e.push(s===!0?r:r+"="+s)}if(!!e.length)return e.join(", ")}Ei.exports=class{constructor(e,r,{shared:s,cacheHeuristic:n,immutableMinTimeToLive:i,ignoreCargoCult:o,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=s!==!1,this._cacheHeuristic=n!==void 0?n:.1,this._immutableMinTtl=i!==void 0?i:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=Ur(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=Ur(e.headers["cache-control"]),o&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":Mh(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&Hh.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||Ih.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=Ur(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let s of r)if(e.headers[s]!==this._reqHeaders[s])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let s in e)qh[s]||(r[s]=e[s]);if(e.connection){let s=e.connection.trim().split(/\s*,\s*/);for(let n of s)delete r[n]}if(r.warning){let s=r.warning.split(/,/).filter(n=>!/^\s*1[0-9][0-9]/.test(n));s.length?r.warning=s.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return ye(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return ye(this._rescc["s-maxage"])}if(this._rescc["max-age"])return ye(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let s=Date.parse(this._resHeaders.expires);return Number.isNaN(s)||s<r?0:Math.max(e,(s-r)/1e3)}if(this._resHeaders["last-modified"]){let s=Date.parse(this._resHeaders["last-modified"]);if(isFinite(s)&&r>s)return Math.max(e,(r-s)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+ye(this._rescc["stale-if-error"]),s=e+ye(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,s)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+ye(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+ye(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let n=r["if-none-match"].split(/,/).filter(i=>!/^\s*W\//.test(i));n.length?r["if-none-match"]=n.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&Uh(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let s=!1;if(r.status!==void 0&&r.status!=304?s=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?s=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?s=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?s=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(s=!0),!s)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let n={};for(let o in this._resHeaders)n[o]=o in r.headers&&!kh[o]?r.headers[o]:this._resHeaders[o];let i=Object.assign({},r,{status:this._status,method:this._method,headers:n});return{policy:new this.constructor(e,i,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var Mr=y((fy,Ti)=>{"use strict";Ti.exports=t=>{let e={};for(let[r,s]of Object.entries(t))e[r.toLowerCase()]=s;return e}});var Ri=y((dy,Ci)=>{"use strict";var jh=require("stream").Readable,Bh=Mr(),jr=class extends jh{constructor(e,r,s,n){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(s instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof n!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=Bh(r),this.body=s,this.url=n}_read(){this.push(this.body),this.push(null)}};Ci.exports=jr});var Oi=y((py,Ai)=>{"use strict";var $h=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];Ai.exports=(t,e)=>{let r=new Set(Object.keys(t).concat($h));for(let s of r)s in e||(e[s]=typeof t[s]=="function"?t[s].bind(t):t[s])}});var Ni=y((my,Si)=>{"use strict";var Fh=require("stream").PassThrough,Dh=Oi(),zh=t=>{if(!(t&&t.pipe))throw new TypeError("Parameter `response` must be a response stream.");let e=new Fh;return Dh(t,e),t.pipe(e)};Si.exports=zh});var $r=y(Br=>{Br.stringify=function t(e){if(typeof e>"u")return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON&&(e=e.toJSON()),e&&typeof e=="object"){var r="",s=Array.isArray(e);r=s?"[":"{";var n=!0;for(var i in e){var o=typeof e[i]=="function"||!s&&typeof e[i]>"u";Object.hasOwnProperty.call(e,i)&&!o&&(n||(r+=","),n=!1,s?e[i]==null?r+="null":r+=t(e[i]):e[i]!==void 0&&(r+=t(i)+":"+t(e[i])))}return r+=s?"]":"}",r}else return typeof e=="string"?JSON.stringify(/^:/.test(e)?":"+e:e):typeof e>"u"?"null":JSON.stringify(e)};Br.parse=function(t){return JSON.parse(t,function(e,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var vi=y((yy,Pi)=>{"use strict";Pi.exports=(t={},e={})=>{let r={...t.params||{},...e.params||{}};return{...t,...e,...Object.keys(r).length?{params:r}:{}}}});var ki=y((_y,Nt)=>{"use strict";var{promisify:Li}=require("util"),St=$r(),qi=require("zlib"),Ii=vi(),Vh=Li(qi.brotliCompress),Wh=Li(qi.brotliDecompress),Hi=t=>t,Gh=({enable:t=!0,serialize:e=St.stringify,deserialize:r=St.parse,compressOptions:s,decompressOptions:n}={})=>t?{serialize:e,deserialize:r,compress:async(i,o={})=>{if(i===void 0)return i;let a=e(i);return Vh(a,Ii(s,o))},decompress:async(i,o={})=>i===void 0?i:r(await Wh(i,Ii(n,o)))}:{serialize:e,deserialize:r,decompress:Hi,compress:Hi};Nt.exports=Gh;Nt.exports.stringify=St.stringify;Nt.exports.parse=St.parse});var Bi=y((by,ji)=>{"use strict";var Jh=require("events"),Ui=$r(),Kh=ki(),Yh=t=>{let e={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(t.adapter||t.uri){let r=t.adapter||/^[^:+]*/.exec(t.uri)[0];return new(require(e[r]))(t)}return new Map},Mi=["sqlite","postgres","mysql","mongo","redis","tiered"],Fr=class extends Jh{constructor(e,{emitErrors:r=!0,...s}={}){if(super(),this.opts={namespace:"keyv",serialize:Ui.stringify,deserialize:Ui.parse,...typeof e=="string"?{uri:e}:e,...s},!this.opts.store){let i={...this.opts};this.opts.store=Yh(i)}if(this.opts.compress){let i=Kh(this.opts.compress.opts);this.opts.serialize=async({value:o,expires:a})=>i.serialize({value:await i.compress(o),expires:a}),this.opts.deserialize=async o=>{let{value:a,expires:c}=i.deserialize(o);return{value:await i.decompress(a),expires:c}}}typeof this.opts.store.on=="function"&&r&&this.opts.store.on("error",i=>this.emit("error",i)),this.opts.store.namespace=this.opts.namespace;let n=i=>async function*(){for await(let[o,a]of typeof i=="function"?i(this.opts.store.namespace):i){let c=this.opts.deserialize(a);if(!(this.opts.store.namespace&&!o.includes(this.opts.store.namespace))){if(typeof c.expires=="number"&&Date.now()>c.expires){this.delete(o);continue}yield[this._getKeyUnprefix(o),c.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=n(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=n(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return Mi.includes(this.opts.store.opts.dialect)||Mi.findIndex(e=>this.opts.store.opts.url.includes(e))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map(r=>`${this.opts.namespace}:${r}`)}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,r){let{store:s}=this.opts,n=Array.isArray(e),i=n?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(n&&s.getMany===void 0){let o=[];for(let a of i)o.push(Promise.resolve().then(()=>s.get(a)).then(c=>typeof c=="string"?this.opts.deserialize(c):c).then(c=>{if(c!=null)return typeof c.expires=="number"&&Date.now()>c.expires?this.delete(a).then(()=>{}):r&&r.raw?c:c.value}));return Promise.allSettled(o).then(a=>{let c=[];for(let u of a)c.push(u.value);return c})}return Promise.resolve().then(()=>n?s.getMany(i):s.get(i)).then(o=>typeof o=="string"?this.opts.deserialize(o):o).then(o=>{if(o!=null){if(n){let a=[];for(let c of o){if(typeof c=="string"&&(c=this.opts.deserialize(c)),c==null){a.push(void 0);continue}typeof c.expires=="number"&&Date.now()>c.expires?(this.delete(e).then(()=>{}),a.push(void 0)):a.push(r&&r.raw?c:c.value)}return a}return typeof o.expires=="number"&&Date.now()>o.expires?this.delete(e).then(()=>{}):r&&r.raw?o:o.value}})}set(e,r,s){let n=this._getKeyPrefix(e);typeof s>"u"&&(s=this.opts.ttl),s===0&&(s=void 0);let{store:i}=this.opts;return Promise.resolve().then(()=>{let o=typeof s=="number"?Date.now()+s:null;return typeof r=="symbol"&&this.emit("error","symbol cannot be serialized"),r={value:r,expires:o},this.opts.serialize(r)}).then(o=>i.set(n,o,s)).then(()=>!0)}delete(e){let{store:r}=this.opts;if(Array.isArray(e)){let n=this._getKeyPrefixArray(e);if(r.deleteMany===void 0){let i=[];for(let o of n)i.push(r.delete(o));return Promise.allSettled(i).then(o=>o.every(a=>a.value===!0))}return Promise.resolve().then(()=>r.deleteMany(n))}let s=this._getKeyPrefix(e);return Promise.resolve().then(()=>r.delete(s))}clear(){let{store:e}=this.opts;return Promise.resolve().then(()=>e.clear())}has(e){let r=this._getKeyPrefix(e),{store:s}=this.opts;return Promise.resolve().then(async()=>typeof s.has=="function"?s.has(r):await s.get(r)!==void 0)}disconnect(){let{store:e}=this.opts;if(typeof e.disconnect=="function")return e.disconnect()}};ji.exports=Fr});var Di=y((wy,Fi)=>{"use strict";var Qh=require("events"),Pt=require("url"),Xh=oi(),Zh=wi(),Dr=xi(),$i=Ri(),el=Mr(),tl=Ni(),rl=Bi(),J=class{constructor(e,r){if(typeof e!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new rl({uri:typeof r=="string"&&r,store:typeof r!="string"&&r,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(r,s)=>{let n;if(typeof r=="string")n=zr(Pt.parse(r)),r={};else if(r instanceof Pt.URL)n=zr(Pt.parse(r.toString())),r={};else{let[d,...m]=(r.path||"").split("?"),_=m.length>0?`?${m.join("?")}`:"";n=zr({...r,pathname:d,search:_})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...sl(n)},r.headers=el(r.headers);let i=new Qh,o=Xh(Pt.format(n),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${r.method}:${o}`,c=!1,u=!1,f=d=>{u=!0;let m=!1,_,T=new Promise(w=>{_=()=>{m||(m=!0,w())}}),p=w=>{if(c&&!d.forceRefresh){w.status=w.statusCode;let A=Dr.fromObject(c.cachePolicy).revalidatedPolicy(d,w);if(!A.modified){let x=A.policy.responseHeaders();w=new $i(c.statusCode,x,c.body,c.url),w.cachePolicy=A.policy,w.fromCache=!0}}w.fromCache||(w.cachePolicy=new Dr(d,w,d),w.fromCache=!1);let C;d.cache&&w.cachePolicy.storable()?(C=tl(w),(async()=>{try{let A=Zh.buffer(w);if(await Promise.race([T,new Promise(Z=>w.once("end",Z))]),m)return;let x=await A,R={cachePolicy:w.cachePolicy.toObject(),url:w.url,statusCode:w.fromCache?c.statusCode:w.statusCode,body:x},L=d.strictTtl?w.cachePolicy.timeToLive():void 0;d.maxTtl&&(L=L?Math.min(L,d.maxTtl):d.maxTtl),await this.cache.set(a,R,L)}catch(A){i.emit("error",new J.CacheError(A))}})()):d.cache&&c&&(async()=>{try{await this.cache.delete(a)}catch(A){i.emit("error",new J.CacheError(A))}})(),i.emit("response",C||w),typeof s=="function"&&s(C||w)};try{let w=e(d,p);w.once("error",_),w.once("abort",_),i.emit("request",w)}catch(w){i.emit("error",new J.RequestError(w))}};return(async()=>{let d=async _=>{await Promise.resolve();let T=_.cache?await this.cache.get(a):void 0;if(typeof T>"u")return f(_);let p=Dr.fromObject(T.cachePolicy);if(p.satisfiesWithoutRevalidation(_)&&!_.forceRefresh){let w=p.responseHeaders(),C=new $i(T.statusCode,w,T.body,T.url);C.cachePolicy=p,C.fromCache=!0,i.emit("response",C),typeof s=="function"&&s(C)}else c=T,_.headers=p.revalidationHeaders(_),f(_)},m=_=>i.emit("error",new J.CacheError(_));this.cache.once("error",m),i.on("response",()=>this.cache.removeListener("error",m));try{await d(r)}catch(_){r.automaticFailover&&!u&&f(r),i.emit("error",new J.CacheError(_))}})(),i}}};function sl(t){let e={...t};return e.path=`${t.pathname||"/"}${t.search||""}`,delete e.pathname,delete e.search,e}function zr(t){return{protocol:t.protocol,auth:t.auth,hostname:t.hostname||t.host||"localhost",port:t.port,pathname:t.pathname,search:t.search}}J.RequestError=class extends Error{constructor(t){super(t.message),this.name="RequestError",Object.assign(this,t)}};J.CacheError=class extends Error{constructor(t){super(t.message),this.name="CacheError",Object.assign(this,t)}};Fi.exports=J});var Vi=y((Ty,zi)=>{"use strict";var nl=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];zi.exports=(t,e)=>{if(e._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(t).concat(nl)),s={};for(let n of r)n in e||(s[n]={get(){let i=t[n];return typeof i=="function"?i.bind(t):i},set(i){t[n]=i},enumerable:!0,configurable:!1});return Object.defineProperties(e,s),t.once("aborted",()=>{e.destroy(),e.emit("aborted")}),t.once("close",()=>{t.complete&&e.readable?e.once("end",()=>{e.emit("close")}):e.emit("close")}),e}});var Gi=y((Cy,Wi)=>{"use strict";var{Transform:il,PassThrough:ol}=require("stream"),Vr=require("zlib"),al=Vi();Wi.exports=t=>{let e=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e))return t;let r=e==="br";if(r&&typeof Vr.createBrotliDecompress!="function")return t.destroy(new Error("Brotli is not supported on Node.js < 12")),t;let s=!0,n=new il({transform(a,c,u){s=!1,u(null,a)},flush(a){a()}}),i=new ol({autoDestroy:!1,destroy(a,c){t.destroy(),c(a)}}),o=r?Vr.createBrotliDecompress():Vr.createUnzip();return o.once("error",a=>{if(s&&!t.readable){i.end();return}i.destroy(a)}),al(t,i),t.pipe(n).pipe(o).pipe(i),i}});var Ki=y((Ry,Ji)=>{"use strict";var{PassThrough:cl}=require("stream");Ji.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,s=r==="buffer",n=!1;e?n=!(r||s):r=r||"utf8",s&&(r=null);let i=new cl({objectMode:n});r&&i.setEncoding(r);let o=0,a=[];return i.on("data",c=>{a.push(c),n?o=a.length:o+=c.length}),i.getBufferedValue=()=>e?a:s?Buffer.concat(a,o):a.join(""),i.getBufferedLength=()=>o,i}});var Yi=y((Ay,De)=>{"use strict";var{constants:ul}=require("buffer"),hl=require("stream"),{promisify:ll}=require("util"),fl=Ki(),dl=ll(hl.pipeline),vt=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Wr(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,s=fl(e);return await new Promise((n,i)=>{let o=a=>{a&&s.getBufferedLength()<=ul.MAX_LENGTH&&(a.bufferedData=s.getBufferedValue()),i(a)};(async()=>{try{await dl(t,s),n()}catch(a){o(a)}})(),s.on("data",()=>{s.getBufferedLength()>r&&o(new vt)})}),s.getBufferedValue()}De.exports=Wr;De.exports.buffer=(t,e)=>Wr(t,{...e,encoding:"buffer"});De.exports.array=(t,e)=>Wr(t,{...e,array:!0});De.exports.MaxBufferError=vt});var po=y((i_,ss)=>{"use strict";var{V4MAPPED:_l,ADDRCONFIG:bl,ALL:fo,promises:{Resolver:ao},lookup:wl}=require("dns"),{promisify:ts}=require("util"),El=require("os"),Se=Symbol("cacheableLookupCreateConnection"),rs=Symbol("cacheableLookupInstance"),co=Symbol("expires"),xl=typeof fo=="number",uo=t=>{if(!(t&&typeof t.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},Tl=t=>{for(let e of t)e.family!==6&&(e.address=`::ffff:${e.address}`,e.family=6)},ho=()=>{let t=!1,e=!1;for(let r of Object.values(El.networkInterfaces()))for(let s of r)if(!s.internal&&(s.family==="IPv6"?e=!0:t=!0,t&&e))return{has4:t,has6:e};return{has4:t,has6:e}},Cl=t=>Symbol.iterator in t,Ut=t=>t.catch(e=>{if(e.code==="ENODATA"||e.code==="ENOTFOUND"||e.code==="ENOENT")return[];throw e}),lo={ttl:!0},Rl={all:!0},Al={all:!0,family:4},Ol={all:!0,family:6},Mt=class{constructor({cache:e=new Map,maxTtl:r=1/0,fallbackDuration:s=3600,errorTtl:n=.15,resolver:i=new ao,lookup:o=wl}={}){if(this.maxTtl=r,this.errorTtl=n,this._cache=e,this._resolver=i,this._dnsLookup=o&&ts(o),this._resolver instanceof ao?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=ts(this._resolver.resolve4.bind(this._resolver)),this._resolve6=ts(this._resolver.resolve6.bind(this._resolver))),this._iface=ho(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,this.fallbackDuration=s,s>0){let a=setInterval(()=>{this._hostnamesToFallback.clear()},s*1e3);a.unref&&a.unref(),this._fallbackInterval=a}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,r,s){if(typeof r=="function"?(s=r,r={}):typeof r=="number"&&(r={family:r}),!s)throw new Error("Callback must be a function.");this.lookupAsync(e,r).then(n=>{r.all?s(null,n):s(null,n.address,n.family,n.expires,n.ttl,n.source)},s)}async lookupAsync(e,r={}){typeof r=="number"&&(r={family:r});let s=await this.query(e);if(r.family===6){let n=s.filter(i=>i.family===6);r.hints&_l&&(xl&&r.hints&fo||n.length===0)?Tl(s):s=n}else r.family===4&&(s=s.filter(n=>n.family===4));if(r.hints&bl){let{_iface:n}=this;s=s.filter(i=>i.family===6?n.has6:n.has4)}if(s.length===0){let n=new Error(`cacheableLookup ENOTFOUND ${e}`);throw n.code="ENOTFOUND",n.hostname=e,n}return r.all?s:s[0]}async query(e){let r="cache",s=await this._cache.get(e);if(!s){let n=this._pending[e];if(n)s=await n;else{r="query";let i=this.queryAndCache(e);this._pending[e]=i;try{s=await i}finally{delete this._pending[e]}}}return s=s.map(n=>({...n,source:r})),s}async _resolve(e){let[r,s]=await Promise.all([Ut(this._resolve4(e,lo)),Ut(this._resolve6(e,lo))]),n=0,i=0,o=0,a=Date.now();for(let c of r)c.family=4,c.expires=a+c.ttl*1e3,n=Math.max(n,c.ttl);for(let c of s)c.family=6,c.expires=a+c.ttl*1e3,i=Math.max(i,c.ttl);return r.length>0?s.length>0?o=Math.min(n,i):o=n:o=i,{entries:[...r,...s],cacheTtl:o}}async _lookup(e){try{let[r,s]=await Promise.all([Ut(this._dnsLookup(e,Al)),Ut(this._dnsLookup(e,Ol))]);return{entries:[...r,...s],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,r,s){if(this.maxTtl>0&&s>0){s=Math.min(s,this.maxTtl)*1e3,r[co]=Date.now()+s;try{await this._cache.set(e,r,s)}catch(n){this.lookupAsync=async()=>{let i=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw i.cause=n,i}}Cl(this._cache)&&this._tick(s)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,Rl);let r=await this._resolve(e);r.entries.length===0&&this._dnsLookup&&(r=await this._lookup(e),r.entries.length!==0&&this.fallbackDuration>0&&this._hostnamesToFallback.add(e));let s=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(e,r.entries,s),r.entries}_tick(e){let r=this._nextRemovalTime;(!r||e<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let s=1/0,n=Date.now();for(let[i,o]of this._cache){let a=o[co];n>=a?this._cache.delete(i):a<s&&(s=a)}s!==1/0&&this._tick(s-n)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(uo(e),Se in e)throw new Error("CacheableLookup has been already installed");e[Se]=e.createConnection,e[rs]=this,e.createConnection=(r,s)=>("lookup"in r||(r.lookup=this.lookup),e[Se](r,s))}uninstall(e){if(uo(e),e[Se]){if(e[rs]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[Se],delete e[Se],delete e[rs]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=ho(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}};ss.exports=Mt;ss.exports.default=Mt});var is=y((o_,mo)=>{"use strict";var ns=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,r){if(this.cache.set(e,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[s,n]of this.oldCache.entries())this.onEviction(s,n);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let r=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,r),r}}set(e,r){return this.cache.has(e)?this.cache.set(e,r):this._set(e,r),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[r]=e;this.cache.has(r)||(yield e)}}get size(){let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}};mo.exports=ns});var os=y((a_,go)=>{"use strict";go.exports=t=>{if(t.listenerCount("error")!==0)return t;t.__destroy=t._destroy,t._destroy=(...r)=>{let s=r.pop();t.__destroy(...r,async n=>{await Promise.resolve(),s(n)})};let e=r=>{Promise.resolve().then(()=>{t.emit("error",r)})};return t.once("error",e),Promise.resolve().then(()=>{t.off("error",e)}),t}});var be=y((c_,xo)=>{"use strict";var{URL:yo}=require("url"),Sl=require("events"),Nl=require("tls"),Pl=require("http2"),vl=is(),Il=os(),j=Symbol("currentStreamCount"),_o=Symbol("request"),B=Symbol("cachedOriginSet"),he=Symbol("gracefullyClosing"),jt=Symbol("length"),bo=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"],Hl=(t,e,r)=>{let s=0,n=t.length;for(;s<n;){let i=s+n>>>1;r(t[i],e)?s=i+1:n=i}return s},Ll=(t,e)=>t.remoteSettings.maxConcurrentStreams>e.remoteSettings.maxConcurrentStreams,as=(t,e)=>{for(let r=0;r<t.length;r++){let s=t[r];s[B].length>0&&s[B].length<e[B].length&&s[B].every(n=>e[B].includes(n))&&s[j]+e[j]<=e.remoteSettings.maxConcurrentStreams&&Eo(s)}},wo=(t,e)=>{for(let r=0;r<t.length;r++){let s=t[r];if(e[B].length>0&&e[B].length<s[B].length&&e[B].every(n=>s[B].includes(n))&&e[j]+s[j]<=s.remoteSettings.maxConcurrentStreams)return Eo(e),!0}return!1},Eo=t=>{t[he]=!0,t[j]===0&&t.close()},le=class extends Sl{constructor({timeout:e=0,maxSessions:r=Number.POSITIVE_INFINITY,maxEmptySessions:s=10,maxCachedTlsSessions:n=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=r,this.maxEmptySessions=s,this._emptySessionCount=0,this._sessionCount=0,this.settings={enablePush:!1,initialWindowSize:1024*1024*32},this.tlsSessionCache=new vl({maxSize:n})}get protocol(){return"https:"}normalizeOptions(e){let r="";for(let s=0;s<bo.length;s++){let n=bo[s];r+=":",e&&e[n]!==void 0&&(r+=e[n])}return r}_processQueue(){if(this._sessionCount>=this.maxSessions){this.closeEmptySessions(this.maxSessions-this._sessionCount+1);return}for(let e in this.queue)for(let r in this.queue[e]){let s=this.queue[e][r];s.completed||(s.completed=!0,s())}}_isBetterSession(e,r){return e>r}_accept(e,r,s,n){let i=0;for(;i<r.length&&e[j]<e.remoteSettings.maxConcurrentStreams;)r[i].resolve(e),i++;r.splice(0,i),r.length>0&&(this.getSession(s,n,r),r.length=0)}getSession(e,r,s){return new Promise((n,i)=>{Array.isArray(s)&&s.length>0?(s=[...s],n()):s=[{resolve:n,reject:i}];try{if(typeof e=="string")e=new yo(e);else if(!(e instanceof yo))throw new TypeError("The `origin` argument needs to be a string or an URL object");if(r){let{servername:f}=r,{hostname:d}=e;if(f&&d!==f)throw new Error(`Origin ${d} differs from servername ${f}`)}}catch(f){for(let d=0;d<s.length;d++)s[d].reject(f);return}let o=this.normalizeOptions(r),a=e.origin;if(o in this.sessions){let f=this.sessions[o],d=-1,m=-1,_;for(let T=0;T<f.length;T++){let p=f[T],w=p.remoteSettings.maxConcurrentStreams;if(w<d)break;if(!p[B].includes(a))continue;let C=p[j];C>=w||p[he]||p.destroyed||(_||(d=w),this._isBetterSession(C,m)&&(_=p,m=C))}if(_){this._accept(_,s,a,r);return}}if(o in this.queue){if(a in this.queue[o]){this.queue[o][a].listeners.push(...s);return}}else this.queue[o]={[jt]:0};let c=()=>{o in this.queue&&this.queue[o][a]===u&&(delete this.queue[o][a],--this.queue[o][jt]===0&&delete this.queue[o])},u=async()=>{this._sessionCount++;let f=`${a}:${o}`,d=!1,m;try{let _={...r};_.settings===void 0&&(_.settings=this.settings),_.session===void 0&&(_.session=this.tlsSessionCache.get(f)),m=await(_.createConnection||this.createConnection).call(this,e,_),_.createConnection=()=>m;let p=Pl.connect(e,_);p[j]=0,p[he]=!1;let w=()=>{let{socket:x}=p,R;return x.servername===!1?(x.servername=x.remoteAddress,R=p.originSet,x.servername=!1):R=p.originSet,R},C=()=>p[j]<p.remoteSettings.maxConcurrentStreams;p.socket.once("session",x=>{this.tlsSessionCache.set(f,x)}),p.once("error",x=>{for(let R=0;R<s.length;R++)s[R].reject(x);this.tlsSessionCache.delete(f)}),p.setTimeout(this.timeout,()=>{p.destroy()}),p.once("close",()=>{if(this._sessionCount--,d){this._emptySessionCount--;let x=this.sessions[o];x.length===1?delete this.sessions[o]:x.splice(x.indexOf(p),1)}else{c();let x=new Error("Session closed without receiving a SETTINGS frame");x.code="HTTP2WRAPPER_NOSETTINGS";for(let R=0;R<s.length;R++)s[R].reject(x)}this._processQueue()});let A=()=>{let x=this.queue[o];if(!x)return;let R=p[B];for(let L=0;L<R.length;L++){let Z=R[L];if(Z in x){let{listeners:Te,completed:yu}=x[Z],ft=0;for(;ft<Te.length&&C();)Te[ft].resolve(p),ft++;if(x[Z].listeners.splice(0,ft),x[Z].listeners.length===0&&!yu&&(delete x[Z],--x[jt]===0)){delete this.queue[o];break}if(!C())break}}};p.on("origin",()=>{p[B]=w()||[],p[he]=!1,wo(this.sessions[o],p),!(p[he]||!C())&&(A(),C()&&as(this.sessions[o],p))}),p.once("remoteSettings",()=>{if(u.destroyed){let x=new Error("Agent has been destroyed");for(let R=0;R<s.length;R++)s[R].reject(x);p.destroy();return}if(p.setLocalWindowSize&&p.setLocalWindowSize(1024*1024*4),p[B]=w()||[],p.socket.encrypted){let x=p[B][0];if(x!==a){let R=new Error(`Requested origin ${a} does not match server ${x}`);for(let L=0;L<s.length;L++)s[L].reject(R);p.destroy();return}}c();{let x=this.sessions;if(o in x){let R=x[o];R.splice(Hl(R,p,Ll),0,p)}else x[o]=[p]}d=!0,this._emptySessionCount++,this.emit("session",p),this._accept(p,s,a,r),p[j]===0&&this._emptySessionCount>this.maxEmptySessions&&this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions),p.on("remoteSettings",()=>{!C()||(A(),C()&&as(this.sessions[o],p))})}),p[_o]=p.request,p.request=(x,R)=>{if(p[he])throw new Error("The session is gracefully closing. No new streams are allowed.");let L=p[_o](x,R);return p.ref(),p[j]++===0&&this._emptySessionCount--,L.once("close",()=>{if(--p[j]===0&&(this._emptySessionCount++,p.unref(),this._emptySessionCount>this.maxEmptySessions||p[he])){p.close();return}p.destroyed||p.closed||C()&&!wo(this.sessions[o],p)&&(as(this.sessions[o],p),A(),p[j]===0&&this._processQueue())}),L}}catch(_){c(),this._sessionCount--;for(let T=0;T<s.length;T++)s[T].reject(_)}};u.listeners=s,u.completed=!1,u.destroyed=!1,this.queue[o][a]=u,this.queue[o][jt]++,this._processQueue()})}request(e,r,s,n){return new Promise((i,o)=>{this.getSession(e,r,[{reject:o,resolve:a=>{try{let c=a.request(s,n);Il(c),i(c)}catch(c){o(c)}}}])})}async createConnection(e,r){return le.connect(e,r)}static connect(e,r){r.ALPNProtocols=["h2"];let s=e.port||443,n=e.hostname;typeof r.servername>"u"&&(r.servername=n);let i=Nl.connect(s,n,r);return r.socket&&(i._peername={family:void 0,address:void 0,port:s}),i}closeEmptySessions(e=Number.POSITIVE_INFINITY){let r=0,{sessions:s}=this;for(let n in s){let i=s[n];for(let o=0;o<i.length;o++){let a=i[o];if(a[j]===0&&(r++,a.close(),r>=e))return r}}return r}destroy(e){let{sessions:r,queue:s}=this;for(let n in r){let i=r[n];for(let o=0;o<i.length;o++)i[o].destroy(e)}for(let n in s){let i=s[n];for(let o in i)i[o].destroyed=!0}this.queue={},this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}};le.kCurrentStreamCount=j;le.kGracefullyClosing=he;xo.exports={Agent:le,globalAgent:new le}});var us=y((u_,To)=>{"use strict";var{Readable:ql}=require("stream"),cs=class extends ql{constructor(e,r){super({emitClose:!1,autoDestroy:!0,highWaterMark:r}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this._dumped=!1}get connection(){return this.socket}set connection(e){this.socket=e}_destroy(e,r){this.readableEnded||(this.aborted=!0),r(),this.req._request.destroy(e)}setTimeout(e,r){return this.req.setTimeout(e,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};To.exports=cs});var Ro=y((h_,Co)=>{"use strict";Co.exports=(t,e,r)=>{for(let s of r)t.on(s,(...n)=>e.emit(s,...n))}});var et=y((f_,Ao)=>{"use strict";var we=(t,e,r)=>{Ao.exports[e]=class extends t{constructor(...n){super(typeof r=="string"?r:r(n)),this.name=`${super.name} [${e}]`,this.code=e}}};we(TypeError,"ERR_INVALID_ARG_TYPE",t=>{let e=t[0].includes(".")?"property":"argument",r=t[1],s=Array.isArray(r);return s&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${t[0]}" ${e} must be ${s?"one of":"of"} type ${r}. Received ${typeof t[2]}`});we(TypeError,"ERR_INVALID_PROTOCOL",t=>`Protocol "${t[0]}" not supported. Expected "${t[1]}"`);we(Error,"ERR_HTTP_HEADERS_SENT",t=>`Cannot ${t[0]} headers after they are sent to the client`);we(TypeError,"ERR_INVALID_HTTP_TOKEN",t=>`${t[0]} must be a valid HTTP token [${t[1]}]`);we(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",t=>`Invalid value "${t[0]} for header "${t[1]}"`);we(TypeError,"ERR_INVALID_CHAR",t=>`Invalid character in ${t[0]} [${t[1]}]`);we(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")});var So=y((d_,Oo)=>{"use strict";Oo.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var hs=y((p_,No)=>{"use strict";var{ERR_INVALID_HTTP_TOKEN:kl}=et(),Ul=So(),Ml=/^[\^`\-\w!#$%&*+.|~]+$/;No.exports=t=>{if(typeof t!="string"||!Ml.test(t)&&!Ul(t))throw new kl("Header name",t)}});var ls=y((m_,Po)=>{"use strict";var{ERR_HTTP_INVALID_HEADER_VALUE:jl,ERR_INVALID_CHAR:Bl}=et(),$l=/[^\t\u0020-\u007E\u0080-\u00FF]/;Po.exports=(t,e)=>{if(typeof e>"u")throw new jl(e,t);if($l.test(e))throw new Bl("header content",t)}});var Ho=y((g_,Io)=>{"use strict";var{ERR_HTTP2_NO_SOCKET_MANIPULATION:vo}=et(),Fl={has(t,e){let r=t.session===void 0?t:t.session.socket;return e in t||e in r},get(t,e){switch(e){case"on":case"once":case"end":case"emit":case"destroy":return t[e].bind(t);case"writable":case"destroyed":return t[e];case"readable":return t.destroyed?!1:t.readable;case"setTimeout":{let{session:r}=t;return r!==void 0?r.setTimeout.bind(r):t.setTimeout.bind(t)}case"write":case"read":case"pause":case"resume":throw new vo;default:{let r=t.session===void 0?t:t.session.socket,s=r[e];return typeof s=="function"?s.bind(r):s}}},getPrototypeOf(t){return t.session!==void 0?Reflect.getPrototypeOf(t.session.socket):Reflect.getPrototypeOf(t)},set(t,e,r){switch(e){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":return t[e]=r,!0;case"setTimeout":{let{session:s}=t;return s===void 0?t.setTimeout=r:s.setTimeout=r,!0}case"write":case"read":case"pause":case"resume":throw new vo;default:{let s=t.session===void 0?t:t.session.socket;return s[e]=r,!0}}}};Io.exports=Fl});var ms=y((y_,jo)=>{"use strict";var{URL:fs,urlToHttpOptions:Lo}=require("url"),Dl=require("http2"),{Writable:zl}=require("stream"),{Agent:Vl,globalAgent:Wl}=be(),Gl=us(),Jl=Ro(),{ERR_INVALID_ARG_TYPE:Bt,ERR_INVALID_PROTOCOL:Kl,ERR_HTTP_HEADERS_SENT:qo}=et(),Yl=hs(),Ql=ls(),Xl=Ho(),{HTTP2_HEADER_STATUS:ko,HTTP2_HEADER_METHOD:Uo,HTTP2_HEADER_PATH:Mo,HTTP2_HEADER_AUTHORITY:tt,HTTP2_METHOD_CONNECT:Zl}=Dl.constants,q=Symbol("headers"),Ne=Symbol("origin"),rt=Symbol("session"),ds=Symbol("options"),$t=Symbol("flushedHeaders"),st=Symbol("jobs"),nt=Symbol("pendingAgentPromise"),ps=class extends zl{constructor(e,r,s){if(super({autoDestroy:!1,emitClose:!1}),typeof e=="string"?e=Lo(new fs(e)):e instanceof fs?e=Lo(e):e={...e},typeof r=="function"||r===void 0?(s=r,r=e):r=Object.assign(e,r),r.h2session){if(this[rt]=r.h2session,this[rt].destroyed)throw new Error("The session has been closed already");this.protocol=this[rt].socket.encrypted?"https:":"http:"}else if(r.agent===!1)this.agent=new Vl({maxEmptySessions:0});else if(typeof r.agent>"u"||r.agent===null)this.agent=Wl;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new Bt("options.agent",["http2wrapper.Agent-like Object","undefined","false"],r.agent);if(this.agent&&(this.protocol=this.agent.protocol),r.protocol&&r.protocol!==this.protocol)throw new Kl(r.protocol,this.protocol);r.port||(r.port=r.defaultPort||this.agent&&this.agent.defaultPort||443),r.host=r.hostname||r.host||"localhost",delete r.hostname;let{timeout:n}=r;r.timeout=void 0,this[q]=Object.create(null),this[st]=[],this[nt]=void 0,this.socket=null,this.connection=null,this.method=r.method||"GET",this.method==="CONNECT"&&(r.path==="/"||r.path===void 0)||(this.path=r.path),this.res=null,this.aborted=!1,this.reusedSocket=!1;let{headers:i}=r;if(i)for(let a in i)this.setHeader(a,i[a]);r.auth&&!("authorization"in this[q])&&(this[q].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[ds]=r,this[Ne]=new fs(`${this.protocol}//${r.servername||r.host}:${r.port}`);let o=r._reuseSocket;o&&(r.createConnection=(...a)=>o.destroyed?this.agent.createConnection(...a):o,this.agent.getSession(this[Ne],this[ds]).catch(()=>{})),n&&this.setTimeout(n),s&&this.once("response",s),this[$t]=!1}get method(){return this[q][Uo]}set method(e){e&&(this[q][Uo]=e.toUpperCase())}get path(){let e=this.method==="CONNECT"?tt:Mo;return this[q][e]}set path(e){if(e){let r=this.method==="CONNECT"?tt:Mo;this[q][r]=e}}get host(){return this[Ne].hostname}set host(e){}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(e,r,s){if(this._mustNotHaveABody){s(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let n=()=>this._request.write(e,r,s);this._request?n():this[st].push(n)}_final(e){this.flushHeaders();let r=()=>{if(this._mustNotHaveABody||this.method==="CONNECT"){e();return}this._request.end(e)};this._request?r():this[st].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}async _destroy(e,r){this.res&&this.res._dump(),this._request?this._request.destroy():process.nextTick(()=>{this.emit("close")});try{await this[nt]}catch(s){this.aborted&&(e=s)}r(e)}async flushHeaders(){if(this[$t]||this.destroyed)return;this[$t]=!0;let e=this.method===Zl,r=s=>{if(this._request=s,this.destroyed){s.destroy();return}e||Jl(s,this,["timeout","continue"]),s.once("error",i=>{this.destroy(i)}),s.once("aborted",()=>{let{res:i}=this;i?(i.aborted=!0,i.emit("aborted"),i.destroy()):this.destroy(new Error("The server aborted the HTTP/2 stream"))});let n=(i,o,a)=>{let c=new Gl(this.socket,s.readableHighWaterMark);this.res=c,c.url=`${this[Ne].origin}${this.path}`,c.req=this,c.statusCode=i[ko],c.headers=i,c.rawHeaders=a,c.once("end",()=>{c.complete=!0,c.socket=null,c.connection=null}),e?(c.upgrade=!0,this.emit("connect",c,s,Buffer.alloc(0))?this.emit("close"):s.destroy()):(s.on("data",u=>{!c._dumped&&!c.push(u)&&s.pause()}),s.once("end",()=>{this.aborted||c.push(null)}),this.emit("response",c)||c._dump())};s.once("response",n),s.once("headers",i=>this.emit("information",{statusCode:i[ko]})),s.once("trailers",(i,o,a)=>{let{res:c}=this;if(c===null){n(i,o,a);return}c.trailers=i,c.rawTrailers=a}),s.once("close",()=>{let{aborted:i,res:o}=this;if(o){i&&(o.aborted=!0,o.emit("aborted"),o.destroy());let a=()=>{o.emit("close"),this.destroy(),this.emit("close")};o.readable?o.once("end",a):a();return}if(!this.destroyed){this.destroy(new Error("The HTTP/2 stream has been early terminated")),this.emit("close");return}this.destroy(),this.emit("close")}),this.socket=new Proxy(s,Xl);for(let i of this[st])i();this.emit("socket",this.socket)};if(!(tt in this[q])&&!e&&(this[q][tt]=this[Ne].host),this[rt])try{r(this[rt].request(this[q]))}catch(s){this.destroy(s)}else{this.reusedSocket=!0;try{let s=this.agent.request(this[Ne],this[ds],this[q]);this[nt]=s,r(await s),this[nt]=!1}catch(s){this[nt]=!1,this.destroy(s)}}}get connection(){return this.socket}set connection(e){this.socket=e}getHeaderNames(){return Object.keys(this[q])}hasHeader(e){if(typeof e!="string")throw new Bt("name","string",e);return Boolean(this[q][e.toLowerCase()])}getHeader(e){if(typeof e!="string")throw new Bt("name","string",e);return this[q][e.toLowerCase()]}get headersSent(){return this[$t]}removeHeader(e){if(typeof e!="string")throw new Bt("name","string",e);if(this.headersSent)throw new qo("remove");delete this[q][e.toLowerCase()]}setHeader(e,r){if(this.headersSent)throw new qo("set");Yl(e),Ql(e,r);let s=e.toLowerCase();if(s==="connection"){if(r.toLowerCase()==="keep-alive")return;throw new Error(`Invalid 'connection' header: ${r}`)}s==="host"&&this.method==="CONNECT"?this[q][tt]=r:this[q][s]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,r){let s=()=>this._request.setTimeout(e,r);return this._request?s():this[st].push(s),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}};jo.exports=ps});var $o=y((__,Bo)=>{"use strict";var ef=require("tls");Bo.exports=(t={},e=ef.connect)=>new Promise((r,s)=>{let n=!1,i,o=async()=>{await c,i.off("timeout",a),i.off("error",s),t.resolveSocket?(r({alpnProtocol:i.alpnProtocol,socket:i,timeout:n}),n&&(await Promise.resolve(),i.emit("timeout"))):(i.destroy(),r({alpnProtocol:i.alpnProtocol,timeout:n}))},a=async()=>{n=!0,o()},c=(async()=>{try{i=await e(t,o),i.on("error",s),i.once("timeout",a)}catch(u){s(u)}})()})});var Do=y((b_,Fo)=>{"use strict";var{isIP:tf}=require("net"),rf=require("assert"),sf=t=>{if(t[0]==="["){let r=t.indexOf("]");return rf(r!==-1),t.slice(1,r)}let e=t.indexOf(":");return e===-1?t:t.slice(0,e)};Fo.exports=t=>{let e=sf(t);return tf(e)?"":e}});var Qo=y((w_,it)=>{"use strict";var{URL:zo,urlToHttpOptions:Vo}=require("url"),Wo=require("http"),gs=require("https"),nf=$o(),of=is(),{Agent:af,globalAgent:cf}=be(),uf=ms(),hf=Do(),Go=os(),Jo=new of({maxSize:100}),lf=new Map,ff=(t,e,r)=>{e._httpMessage={shouldKeepAlive:!0};let s=()=>{t.emit("free",e,r)};e.on("free",s);let n=()=>{t.removeSocket(e,r)};e.on("close",n);let i=()=>{let{freeSockets:a}=t;for(let c of Object.values(a))if(c.includes(e)){e.destroy();return}};e.on("timeout",i);let o=()=>{t.removeSocket(e,r),e.off("close",n),e.off("free",s),e.off("timeout",i),e.off("agentRemove",o)};e.on("agentRemove",o),t.emit("free",e,r)},Ko=(t,e=new Map,r=void 0)=>async s=>{let n=`${s.host}:${s.port}:${s.ALPNProtocols.sort()}`;if(!t.has(n)){if(e.has(n))return{alpnProtocol:(await e.get(n)).alpnProtocol};let{path:i}=s;s.path=s.socketPath;let o=nf(s,r);e.set(n,o);try{let a=await o;return t.set(n,a.alpnProtocol),e.delete(n),s.path=i,a}catch(a){throw e.delete(n),s.path=i,a}}return{alpnProtocol:t.get(n)}},Yo=Ko(Jo,lf);it.exports=async(t,e,r)=>{if(typeof t=="string"?t=Vo(new zo(t)):t instanceof zo?t=Vo(t):t={...t},typeof e=="function"||e===void 0?(r=e,e=t):e=Object.assign(t,e),e.ALPNProtocols=e.ALPNProtocols||["h2","http/1.1"],!Array.isArray(e.ALPNProtocols)||e.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");e.protocol=e.protocol||"https:";let s=e.protocol==="https:";e.host=e.hostname||e.host||"localhost",e.session=e.tlsSession,e.servername=e.servername||hf(e.headers&&e.headers.host||e.host),e.port=e.port||(s?443:80),e._defaultAgent=s?gs.globalAgent:Wo.globalAgent;let n=e.resolveProtocol||Yo,{agent:i}=e;if(i!==void 0&&i!==!1&&i.constructor.name!=="Object")throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties");if(s){e.resolveSocket=!0;let{socket:o,alpnProtocol:a,timeout:c}=await n(e);if(c){o&&o.destroy();let f=new Error(`Timed out resolving ALPN: ${e.timeout} ms`);throw f.code="ETIMEDOUT",f.ms=e.timeout,f}o&&e.createConnection&&(o.destroy(),o=void 0),delete e.resolveSocket;let u=a==="h2";if(i&&(i=u?i.http2:i.https,e.agent=i),i===void 0&&(i=u?cf:gs.globalAgent),o)if(i===!1)o.destroy();else{let f=(u?af:gs.Agent).prototype.createConnection;i.createConnection===f?u?e._reuseSocket=o:ff(i,o,e):o.destroy()}if(u)return Go(new uf(e,r))}else i&&(e.agent=i.http);return Go(Wo.request(e,r))};it.exports.protocolCache=Jo;it.exports.resolveProtocol=Yo;it.exports.createResolveProtocol=Ko});var ys=y((E_,Xo)=>{"use strict";var df=require("stream"),pf=require("tls"),mf=new pf.TLSSocket(new df.PassThrough)._handle._parentWrap.constructor;Xo.exports=mf});var bs=y((x_,Zo)=>{"use strict";var _s=class extends Error{constructor(e){super(`The proxy server rejected the request with status code ${e}`),this.statusCode=e}};Zo.exports=_s});var ta=y((T_,ea)=>{"use strict";var gf=(t,e,r)=>{if(!r.some(n=>typeof n==="string"?typeof e===n:e instanceof n)){let n=r.map(i=>typeof i=="string"?i:i.name);throw new TypeError(`Expected '${t}' to be a type of ${n.join(" or ")}, got ${typeof e}`)}};ea.exports=gf});var ws=y((C_,sa)=>{"use strict";var{URL:ra}=require("url"),Ft=ta();sa.exports=(t,e)=>{Ft("proxyOptions",e,["object"]),Ft("proxyOptions.headers",e.headers,["object","undefined"]),Ft("proxyOptions.raw",e.raw,["boolean","undefined"]),Ft("proxyOptions.url",e.url,[ra,"string"]);let r=new ra(e.url);t.proxyOptions={raw:!0,...e,headers:{...e.headers},url:r}}});var Dt=y((R_,na)=>{"use strict";na.exports=t=>{let{username:e,password:r}=t.proxyOptions.url;if(e||r){let s=`${e}:${r}`,n=`Basic ${Buffer.from(s).toString("base64")}`;return{"proxy-authorization":n,authorization:n}}return{}}});var ua=y((A_,ca)=>{"use strict";var yf=require("tls"),_f=require("http"),ia=require("https"),bf=ys(),{globalAgent:wf}=be(),Ef=bs(),oa=ws(),xf=Dt(),aa=(t,e,r)=>{(async()=>{try{let{proxyOptions:s}=t,{url:n,headers:i,raw:o}=s,a=await wf.request(n,s,{...xf(t),...i,":method":"CONNECT",":authority":`${e.host}:${e.port}`});a.once("error",r),a.once("response",c=>{let u=c[":status"];if(u!==200){r(new Ef(u));return}let f=t instanceof ia.Agent;if(o&&f){e.socket=a;let m=yf.connect(e);m.once("close",()=>{a.destroy()}),r(null,m);return}let d=new bf(a);d.encrypted=!1,d._handle.getpeername=m=>{m.family=void 0,m.address=void 0,m.port=void 0},r(null,d)})}catch(s){r(s)}})()},Es=class extends _f.Agent{constructor(e){super(e),oa(this,e.proxyOptions)}createConnection(e,r){aa(this,e,r)}},xs=class extends ia.Agent{constructor(e){super(e),oa(this,e.proxyOptions)}createConnection(e,r){aa(this,e,r)}};ca.exports={HttpOverHttp2:Es,HttpsOverHttp2:xs}});var Cs=y((O_,ha)=>{"use strict";var{Agent:Tf}=be(),Cf=ys(),Rf=bs(),Af=ws(),Ts=class extends Tf{constructor(e){super(e),Af(this,e.proxyOptions)}async createConnection(e,r){let s=`${e.hostname}:${e.port||443}`,[n,i]=await this._getProxyStream(s);if(i!==200)throw new Rf(i);if(this.proxyOptions.raw)r.socket=n;else{let o=new Cf(n);return o.encrypted=!1,o._handle.getpeername=a=>{a.family=void 0,a.address=void 0,a.port=void 0},o}return super.createConnection(e,r)}};ha.exports=Ts});var fa=y((S_,la)=>{"use strict";var{globalAgent:Of}=be(),Sf=Cs(),Nf=Dt(),Pf=t=>new Promise((e,r)=>{t.once("error",r),t.once("response",s=>{t.off("error",r),e(s[":status"])})}),Rs=class extends Sf{async _getProxyStream(e){let{proxyOptions:r}=this,s={...Nf(this),...r.headers,":method":"CONNECT",":authority":e},n=await Of.request(r.url,r,s),i=await Pf(n);return[n,i]}};la.exports=Rs});var pa=y((N_,da)=>{"use strict";var vf=require("http"),If=require("https"),Hf=Cs(),Lf=Dt(),qf=t=>new Promise((e,r)=>{let s=(n,i,o)=>{i.unshift(o),t.off("error",r),e([i,n.statusCode])};t.once("error",r),t.once("connect",s)}),zt=class extends Hf{async _getProxyStream(e){let{proxyOptions:r}=this,{url:s,headers:n}=this.proxyOptions,o=(s.protocol==="https:"?If:vf).request({...r,hostname:s.hostname,port:s.port,path:e,headers:{...Lf(this),...n,host:e},method:"CONNECT"}).end();return qf(o)}};da.exports={Http2OverHttp:zt,Http2OverHttps:zt}});var ga=y((P_,ma)=>{"use strict";var kf=require("http2"),{Agent:Uf,globalAgent:Mf}=be(),As=ms(),jf=us(),Bf=Qo(),{HttpOverHttp2:$f,HttpsOverHttp2:Ff}=ua(),Df=fa(),{Http2OverHttp:zf,Http2OverHttps:Vf}=pa(),Wf=hs(),Gf=ls(),Jf=(t,e,r)=>new As(t,e,r),Kf=(t,e,r)=>{let s=new As(t,e,r);return s.end(),s};ma.exports={...kf,ClientRequest:As,IncomingMessage:jf,Agent:Uf,globalAgent:Mf,request:Jf,get:Kf,auto:Bf,proxies:{HttpOverHttp2:$f,HttpsOverHttp2:Ff,Http2OverHttp2:Df,Http2OverHttp:zf,Http2OverHttps:Vf},validateHeaderName:Wf,validateHeaderValue:Gf}});var Hs=y(ne=>{"use strict";var Ia=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",pd=Ia+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Ha="["+Ia+"]["+pd+"]*",md=new RegExp("^"+Ha+"$"),gd=function(t,e){let r=[],s=e.exec(t);for(;s;){let n=[];n.startIndex=e.lastIndex-s[0].length;let i=s.length;for(let o=0;o<i;o++)n.push(s[o]);r.push(n),s=e.exec(t)}return r},yd=function(t){let e=md.exec(t);return!(e===null||typeof e>"u")};ne.isExist=function(t){return typeof t<"u"};ne.isEmptyObject=function(t){return Object.keys(t).length===0};ne.merge=function(t,e,r){if(e){let s=Object.keys(e),n=s.length;for(let i=0;i<n;i++)r==="strict"?t[s[i]]=[e[s[i]]]:t[s[i]]=e[s[i]]}};ne.getValue=function(t){return ne.isExist(t)?t:""};ne.isName=yd;ne.getAllMatches=gd;ne.nameRegexp=Ha});var qs=y(Ma=>{"use strict";var Ls=Hs(),_d={allowBooleanAttributes:!1,unpairedTags:[]};Ma.validate=function(t,e){e=Object.assign({},_d,e);let r=[],s=!1,n=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let i=0;i<t.length;i++)if(t[i]==="<"&&t[i+1]==="?"){if(i+=2,i=qa(t,i),i.err)return i}else if(t[i]==="<"){let o=i;if(i++,t[i]==="!"){i=ka(t,i);continue}else{let a=!1;t[i]==="/"&&(a=!0,i++);let c="";for(;i<t.length&&t[i]!==">"&&t[i]!==" "&&t[i]!=="	"&&t[i]!==`
`&&t[i]!=="\r";i++)c+=t[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!Ad(c)){let d;return c.trim().length===0?d="Invalid space after '<'.":d="Tag '"+c+"' is an invalid name.",I("InvalidTag",d,D(t,i))}let u=Ed(t,i);if(u===!1)return I("InvalidAttr","Attributes for '"+c+"' have open quote.",D(t,i));let f=u.value;if(i=u.index,f[f.length-1]==="/"){let d=i-f.length;f=f.substring(0,f.length-1);let m=Ua(f,e);if(m===!0)s=!0;else return I(m.err.code,m.err.msg,D(t,d+m.err.line))}else if(a)if(u.tagClosed){if(f.trim().length>0)return I("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",D(t,o));{let d=r.pop();if(c!==d.tagName){let m=D(t,d.tagStartPos);return I("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+c+"'.",D(t,o))}r.length==0&&(n=!0)}}else return I("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",D(t,i));else{let d=Ua(f,e);if(d!==!0)return I(d.err.code,d.err.msg,D(t,i-f.length+d.err.line));if(n===!0)return I("InvalidXml","Multiple possible root nodes found.",D(t,i));e.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:o}),s=!0}for(i++;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="!"){i++,i=ka(t,i);continue}else if(t[i+1]==="?"){if(i=qa(t,++i),i.err)return i}else break;else if(t[i]==="&"){let d=Cd(t,i);if(d==-1)return I("InvalidChar","char '&' is not expected.",D(t,i));i=d}else if(n===!0&&!La(t[i]))return I("InvalidXml","Extra text at the end",D(t,i));t[i]==="<"&&i--}}else{if(La(t[i]))continue;return I("InvalidChar","char '"+t[i]+"' is not expected.",D(t,i))}if(s){if(r.length==1)return I("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",D(t,r[0].tagStartPos));if(r.length>0)return I("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return I("InvalidXml","Start tag expected.",1);return!0};function La(t){return t===" "||t==="	"||t===`
`||t==="\r"}function qa(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let s=t.substr(r,e-r);if(e>5&&s==="xml")return I("InvalidXml","XML declaration allowed only at the start of the document.",D(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function ka(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var bd='"',wd="'";function Ed(t,e){let r="",s="",n=!1;for(;e<t.length;e++){if(t[e]===bd||t[e]===wd)s===""?s=t[e]:s!==t[e]||(s="");else if(t[e]===">"&&s===""){n=!0;break}r+=t[e]}return s!==""?!1:{value:r,index:e,tagClosed:n}}var xd=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Ua(t,e){let r=Ls.getAllMatches(t,xd),s={};for(let n=0;n<r.length;n++){if(r[n][1].length===0)return I("InvalidAttr","Attribute '"+r[n][2]+"' has no space in starting.",ct(r[n]));if(r[n][3]!==void 0&&r[n][4]===void 0)return I("InvalidAttr","Attribute '"+r[n][2]+"' is without value.",ct(r[n]));if(r[n][3]===void 0&&!e.allowBooleanAttributes)return I("InvalidAttr","boolean attribute '"+r[n][2]+"' is not allowed.",ct(r[n]));let i=r[n][2];if(!Rd(i))return I("InvalidAttr","Attribute '"+i+"' is an invalid name.",ct(r[n]));if(!s.hasOwnProperty(i))s[i]=1;else return I("InvalidAttr","Attribute '"+i+"' is repeated.",ct(r[n]))}return!0}function Td(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function Cd(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,Td(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function I(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function Rd(t){return Ls.isName(t)}function Ad(t){return Ls.isName(t)}function D(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function ct(t){return t.startIndex+t[1].length}});var Ba=y(ks=>{var ja={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1},Od=function(t){return Object.assign({},ja,t)};ks.buildOptions=Od;ks.defaultOptions=ja});var Fa=y((Pb,$a)=>{"use strict";var Us=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){this.child.push({[e]:r})}addChild(e){e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,[":@"]:e[":@"]}):this.child.push({[e.tagname]:e.child})}};$a.exports=Us});var za=y((vb,Da)=>{function Sd(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let s=1,n=!1,i=!1,o=!1,a="";for(;e<t.length;e++)if(t[e]==="<"){if(n&&t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y")e+=7,i=!0;else if(n&&t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T")e+=8;else if(n&&t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T")e+=8;else if(n&&t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N")e+=9;else if(t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-")o=!0;else throw new Error("Invalid DOCTYPE");s++,a=""}else if(t[e]===">"){if(o)if(t[e-1]==="-"&&t[e-2]==="-")o=!1;else throw new Error("Invalid XML comment in DOCTYPE");else i&&(Pd(a,r),i=!1);if(s--,s===0)break}else t[e]==="["?n=!0:a+=t[e];if(s!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}var Nd=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function Pd(t,e){let r=Nd.exec(t);r&&(e[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}Da.exports=Sd});var Wa=y((Ib,Va)=>{var vd=/^[-+]?0x[a-fA-F0-9]+$/,Id=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var Hd={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Ld(t,e={}){if(e=Object.assign({},Hd,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(e.hex&&vd.test(r))return Number.parseInt(r,16);{let s=Id.exec(r);if(s){let n=s[1],i=s[2],o=qd(s[3]),a=s[4]||s[6];if(!e.leadingZeros&&i.length>0&&n&&r[2]!==".")return t;if(!e.leadingZeros&&i.length>0&&!n&&r[1]!==".")return t;{let c=Number(r),u=""+c;return u.search(/[eE]/)!==-1||a?e.eNotation?c:t:r.indexOf(".")!==-1?u==="0"&&o===""||u===o||n&&u==="-"+o?c:t:i?o===u||n+o===u?c:t:r===u||r===n+u?c:t}}else return t}}function qd(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}Va.exports=Ld});var Ja=y((Lb,Ga)=>{"use strict";var $s=Hs(),ut=Fa(),kd=za(),Ud=Wa(),Hb="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,$s.nameRegexp),Ms=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={amp:{regex:/&(amp|#38|#x26);/g,val:"&"},apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=Md,this.parseXml=Dd,this.parseTextData=jd,this.resolveNameSpace=Bd,this.buildAttributesMap=Fd,this.isItStopNode=Wd,this.replaceEntitiesValue=zd,this.readStopNodeData=Jd,this.saveTextToParentTag=Vd}};function Md(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let s=e[r];this.lastEntities[s]={regex:new RegExp("&"+s+";","g"),val:t[s]}}}function jd(t,e,r,s,n,i,o){if(t!==void 0&&(this.options.trimValues&&!s&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,r,n,i);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?Bs(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?Bs(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Bd(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}var $d=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Fd(t,e){if(!this.options.ignoreAttributes&&typeof t=="string"){let r=$s.getAllMatches(t,$d),s=r.length,n={};for(let i=0;i<s;i++){let o=this.resolveNameSpace(r[i][1]),a=r[i][4],c=this.options.attributeNamePrefix+o;if(o.length)if(a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let u=this.options.attributeValueProcessor(o,a,e);u==null?n[c]=a:typeof u!=typeof a||u!==a?n[c]=u:n[c]=Bs(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(n[c]=!0)}if(!Object.keys(n).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=n,i}return n}}var Dd=function(t){t=t.replace(/\r\n?/g,`
`);let e=new ut("!xml"),r=e,s="",n="";for(let i=0;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="/"){let a=Ee(t,">",i,"Closing Tag is not closed."),c=t.substring(i+2,a).trim();if(this.options.removeNSPrefix){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(s=this.saveTextToParentTag(s,r,n)),n=n.substr(0,n.lastIndexOf(".")),r=this.tagsNodeStack.pop(),s="",i=a}else if(t[i+1]==="?"){let a=js(t,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(s=this.saveTextToParentTag(s,r,n),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new ut(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,n)),r.addChild(c)}i=a.closeIndex+1}else if(t.substr(i+1,3)==="!--"){let a=Ee(t,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(i+4,a-2);s=this.saveTextToParentTag(s,r,n),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(t.substr(i+1,2)==="!D"){let a=kd(t,i);this.docTypeEntities=a.entities,i=a.i}else if(t.substr(i+1,2)==="!["){let a=Ee(t,"]]>",i,"CDATA is not closed.")-2,c=t.substring(i+9,a);if(s=this.saveTextToParentTag(s,r,n),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let u=this.parseTextData(c,r.tagname,n,!0,!1,!0);u==null&&(u=""),r.add(this.options.textNodeName,u)}i=a+2}else{let a=js(t,i,this.options.removeNSPrefix),c=a.tagName,u=a.tagExp,f=a.attrExpPresent,d=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&s&&r.tagname!=="!xml"&&(s=this.saveTextToParentTag(s,r,n,!1)),c!==e.tagname&&(n+=n?"."+c:c);let m=r;if(m&&this.options.unpairedTags.indexOf(m.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,n,c)){let _="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let p=this.readStopNodeData(t,c,d+1);if(!p)throw new Error(`Unexpected end of ${c}`);i=p.i,_=p.tagContent}let T=new ut(c);c!==u&&f&&(T[":@"]=this.buildAttributesMap(u,n)),_&&(_=this.parseTextData(_,c,n,!0,f,!0,!0)),n=n.substr(0,n.lastIndexOf(".")),T.add(this.options.textNodeName,_),r.addChild(T)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let _=new ut(c);c!==u&&f&&(_[":@"]=this.buildAttributesMap(u,n)),n=n.substr(0,n.lastIndexOf(".")),r.addChild(_)}else{let _=new ut(c);this.tagsNodeStack.push(r),c!==u&&f&&(_[":@"]=this.buildAttributesMap(u,n)),r.addChild(_),r=_}s="",i=d}}else s+=t[i];return e.child},zd=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}}return t};function Vd(t,e,r,s){return t&&(s===void 0&&(s=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,s),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function Wd(t,e,r){let s="*."+r;for(let n in t){let i=t[n];if(s===i||e===i)return!0}return!1}function Gd(t,e,r=">"){let s,n="";for(let i=e;i<t.length;i++){let o=t[i];if(s)o===s&&(s="");else if(o==='"'||o==="'")s=o;else if(o===r[0])if(r[1]){if(t[i+1]===r[1])return{data:n,index:i}}else return{data:n,index:i};else o==="	"&&(o=" ");n+=o}}function Ee(t,e,r,s){let n=t.indexOf(e,r);if(n===-1)throw new Error(s);return n+e.length-1}function js(t,e,r,s=">"){let n=Gd(t,e+1,s);if(!n)return;let i=n.data,o=n.index,a=i.search(/\s/),c=i,u=!0;if(a!==-1&&(c=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),r){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),u=c!==n.data.substr(f+1))}return{tagName:c,tagExp:i,closeIndex:o,attrExpPresent:u}}function Jd(t,e,r){let s=r,n=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let i=Ee(t,">",r,`${e} is not closed`);if(t.substring(r+2,i).trim()===e&&(n--,n===0))return{tagContent:t.substring(s,r),i};r=i}else if(t[r+1]==="?")r=Ee(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=Ee(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=Ee(t,"]]>",r,"StopNode is not closed.")-2;else{let i=js(t,r,">");i&&((i&&i.tagName)===e&&i.tagExp[i.tagExp.length-1]!=="/"&&n++,r=i.closeIndex)}}function Bs(t,e,r){if(e&&typeof t=="string"){let s=t.trim();return s==="true"?!0:s==="false"?!1:Ud(t,r)}else return $s.isExist(t)?t:""}Ga.exports=Ms});var Qa=y(Ya=>{"use strict";function Kd(t,e){return Ka(t,e)}function Ka(t,e,r){let s,n={};for(let i=0;i<t.length;i++){let o=t[i],a=Yd(o),c="";if(r===void 0?c=a:c=r+"."+a,a===e.textNodeName)s===void 0?s=o[a]:s+=""+o[a];else{if(a===void 0)continue;if(o[a]){let u=Ka(o[a],e,c),f=Xd(u,e);o[":@"]?Qd(u,o[":@"],c,e):Object.keys(u).length===1&&u[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?u=u[e.textNodeName]:Object.keys(u).length===0&&(e.alwaysCreateTextNode?u[e.textNodeName]="":u=""),n[a]!==void 0&&n.hasOwnProperty(a)?(Array.isArray(n[a])||(n[a]=[n[a]]),n[a].push(u)):e.isArray(a,c,f)?n[a]=[u]:n[a]=u}}}return typeof s=="string"?s.length>0&&(n[e.textNodeName]=s):s!==void 0&&(n[e.textNodeName]=s),n}function Yd(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let s=e[r];if(s!==":@")return s}}function Qd(t,e,r,s){if(e){let n=Object.keys(e),i=n.length;for(let o=0;o<i;o++){let a=n[o];s.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function Xd(t,e){let r=Object.keys(t).length;return!!(r===0||r===1&&t[e.textNodeName])}Ya.prettify=Kd});var Za=y((kb,Xa)=>{var{buildOptions:Zd}=Ba(),ep=Ja(),{prettify:tp}=Qa(),rp=qs(),Fs=class{constructor(e){this.externalEntities={},this.options=Zd(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=rp.validate(e,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let s=new ep(this.options);s.addExternalEntities(this.externalEntities);let n=s.parseXml(e);return this.options.preserveOrder||n===void 0?n:tp(n,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");this.externalEntities[e]=r}};Xa.exports=Fs});var nc=y((Ub,sc)=>{var sp=`
`;function np(t,e){return tc(t,e,"",0)}function tc(t,e,r,s){let n="",i="";e.format&&e.indentBy.length>0&&(i=sp+""+e.indentBy.repeat(s));for(let o=0;o<t.length;o++){let a=t[o],c=ip(a),u="";if(r.length===0?u=c:u=`${r}.${c}`,c===e.textNodeName){let _=a[c];op(u,e)||(_=e.tagValueProcessor(c,_),_=rc(_,e)),n+=i+_;continue}else if(c===e.cdataPropName){n+=i+`<![CDATA[${a[c][0][e.textNodeName]}]]>`;continue}else if(c===e.commentPropName){n+=i+`<!--${a[c][0][e.textNodeName]}-->`;continue}else if(c[0]==="?"){let _=ec(a[":@"],e),T=c==="?xml"?"":i,p=a[c][0][e.textNodeName];p=p.length!==0?" "+p:"",n+=T+`<${c}${p}${_}?>`;continue}let f=ec(a[":@"],e),d=i+`<${c}${f}`,m=tc(a[c],e,u,s+1);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?n+=d+">":n+=d+"/>":(!m||m.length===0)&&e.suppressEmptyNode?n+=d+"/>":n+=d+`>${m}${i}</${c}>`}return n}function ip(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let s=e[r];if(s!==":@")return s}}function ec(t,e){let r="";if(t&&!e.ignoreAttributes)for(let s in t){let n=e.attributeValueProcessor(s,t[s]);n=rc(n,e),n===!0&&e.suppressBooleanAttributes?r+=` ${s.substr(e.attributeNamePrefix.length)}`:r+=` ${s.substr(e.attributeNamePrefix.length)}="${n}"`}return r}function op(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let s in e.stopNodes)if(e.stopNodes[s]===t||e.stopNodes[s]==="*."+r)return!0;return!1}function rc(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){let s=e.entities[r];t=t.replace(s.regex,s.val)}return t}sc.exports=np});var cc=y((Mb,ac)=>{"use strict";var ap=nc(),cp={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],transformTagName:!1};function Ds(t){this.options=Object.assign({},cp,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=mp),this.processTextOrObjNode=hp,this.options.format?(this.indentate=pp,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.suppressEmptyNode?(this.buildTextNode=dp,this.buildObjNode=lp):(this.buildTextNode=oc,this.buildObjNode=ic),this.buildTextValNode=oc,this.buildObjectNode=ic,this.replaceEntitiesValue=fp,this.buildAttrPairStr=up}Ds.prototype.build=function(t){return this.options.preserveOrder?ap(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};Ds.prototype.j2x=function(t,e){let r="",s="";for(let n in t)if(!(typeof t[n]>"u"))if(t[n]===null)n[0]==="?"?s+=this.indentate(e)+"<"+n+"?"+this.tagEndChar:s+=this.indentate(e)+"<"+n+"/"+this.tagEndChar;else if(t[n]instanceof Date)s+=this.buildTextNode(t[n],n,"",e);else if(typeof t[n]!="object"){let i=this.isAttribute(n);if(i)r+=this.buildAttrPairStr(i,""+t[n]);else if(n===this.options.textNodeName){let o=this.options.tagValueProcessor(n,""+t[n]);s+=this.replaceEntitiesValue(o)}else s+=this.buildTextNode(t[n],n,"",e)}else if(Array.isArray(t[n])){let i=t[n].length;for(let o=0;o<i;o++){let a=t[n][o];typeof a>"u"||(a===null?n[0]==="?"?s+=this.indentate(e)+"<"+n+"?"+this.tagEndChar:s+=this.indentate(e)+"<"+n+"/"+this.tagEndChar:typeof a=="object"?s+=this.processTextOrObjNode(a,n,e):s+=this.buildTextNode(a,n,"",e))}}else if(this.options.attributesGroupName&&n===this.options.attributesGroupName){let i=Object.keys(t[n]),o=i.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(i[a],""+t[n][i[a]])}else s+=this.processTextOrObjNode(t[n],n,e);return{attrStr:r,val:s}};function up(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'}function hp(t,e,r){let s=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextNode(t[this.options.textNodeName],e,s.attrStr,r):this.buildObjNode(s.val,e,s.attrStr,r)}function ic(t,e,r,s){let n="</"+e+this.tagEndChar,i="";return e[0]==="?"&&(i="?",n=""),r&&t.indexOf("<")===-1?this.indentate(s)+"<"+e+r+i+">"+t+n:this.options.commentPropName!==!1&&e===this.options.commentPropName&&i.length===0?this.indentate(s)+`<!--${t}-->`+this.newLine:this.indentate(s)+"<"+e+r+i+this.tagEndChar+t+this.indentate(s)+n}function lp(t,e,r,s){return t!==""?this.buildObjectNode(t,e,r,s):e[0]==="?"?this.indentate(s)+"<"+e+r+"?"+this.tagEndChar:this.indentate(s)+"<"+e+r+"/"+this.tagEndChar}function oc(t,e,r,s){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(s)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(s)+`<!--${t}-->`+this.newLine;{let n=this.options.tagValueProcessor(e,t);return n=this.replaceEntitiesValue(n),n===""&&this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode?this.indentate(s)+"<"+e+this.tagEndChar:this.indentate(s)+"<"+e+"/"+this.tagEndChar:this.indentate(s)+"<"+e+r+">"+n+"</"+e+this.tagEndChar}}function fp(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t}function dp(t,e,r,s){return t===""&&this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode?this.indentate(s)+"<"+e+this.tagEndChar:this.indentate(s)+"<"+e+"/"+this.tagEndChar:t!==""?this.buildTextValNode(t,e,r,s):e[0]==="?"?this.indentate(s)+"<"+e+r+"?"+this.tagEndChar:this.indentate(s)+"<"+e+r+"/"+this.tagEndChar}function pp(t){return this.options.indentBy.repeat(t)}function mp(t){return t.startsWith(this.options.attributeNamePrefix)?t.substr(this.attrPrefixLen):!1}ac.exports=Ds});var hc=y((jb,uc)=>{"use strict";var gp=qs(),yp=Za(),_p=cc();uc.exports={XMLParser:yp,XMLValidator:gp,XMLBuilder:_p}});var Zt=y(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.toCommandProperties=ve.toCommandValue=void 0;function wp(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}ve.toCommandValue=wp;function Ep(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}ve.toCommandProperties=Ep});var Rc=y(W=>{"use strict";var xp=W&&W.__createBinding||(Object.create?function(t,e,r,s){s===void 0&&(s=r),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]}),Tp=W&&W.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Cp=W&&W.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&xp(e,t,r);return Tp(e,t),e};Object.defineProperty(W,"__esModule",{value:!0});W.issue=W.issueCommand=void 0;var Rp=Cp(require("os")),Tc=Zt();function Cc(t,e,r){let s=new Gs(t,e,r);process.stdout.write(s.toString()+Rp.EOL)}W.issueCommand=Cc;function Ap(t,e=""){Cc(t,{},e)}W.issue=Ap;var xc="::",Gs=class{constructor(e,r,s){e||(e="missing.command"),this.command=e,this.properties=r,this.message=s}toString(){let e=xc+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let s in this.properties)if(this.properties.hasOwnProperty(s)){let n=this.properties[s];n&&(r?r=!1:e+=",",e+=`${s}=${Sp(n)}`)}}return e+=`${xc}${Op(this.message)}`,e}};function Op(t){return Tc.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Sp(t){return Tc.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var Sc=y(Q=>{"use strict";var Np=Q&&Q.__createBinding||(Object.create?function(t,e,r,s){s===void 0&&(s=r),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]}),Pp=Q&&Q.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Oc=Q&&Q.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Np(e,t,r);return Pp(e,t),e};Object.defineProperty(Q,"__esModule",{value:!0});Q.issueCommand=void 0;var Ac=Oc(require("fs")),vp=Oc(require("os")),Ip=Zt();function Hp(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!Ac.existsSync(r))throw new Error(`Missing file at path: ${r}`);Ac.appendFileSync(r,`${Ip.toCommandValue(e)}${vp.EOL}`,{encoding:"utf8"})}Q.issueCommand=Hp});var Ks=y(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.default=kp;var Lp=qp(require("crypto"));function qp(t){return t&&t.__esModule?t:{default:t}}var tr=new Uint8Array(256),er=tr.length;function kp(){return er>tr.length-16&&(Lp.default.randomFillSync(tr),er=0),tr.slice(er,er+=16)}});var Nc=y(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.default=void 0;var Up=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;rr.default=Up});var ht=y(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.default=void 0;var Mp=jp(Nc());function jp(t){return t&&t.__esModule?t:{default:t}}function Bp(t){return typeof t=="string"&&Mp.default.test(t)}var $p=Bp;sr.default=$p});var lt=y(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.default=void 0;var Fp=Dp(ht());function Dp(t){return t&&t.__esModule?t:{default:t}}var k=[];for(let t=0;t<256;++t)k.push((t+256).toString(16).substr(1));function zp(t,e=0){let r=(k[t[e+0]]+k[t[e+1]]+k[t[e+2]]+k[t[e+3]]+"-"+k[t[e+4]]+k[t[e+5]]+"-"+k[t[e+6]]+k[t[e+7]]+"-"+k[t[e+8]]+k[t[e+9]]+"-"+k[t[e+10]]+k[t[e+11]]+k[t[e+12]]+k[t[e+13]]+k[t[e+14]]+k[t[e+15]]).toLowerCase();if(!(0,Fp.default)(r))throw TypeError("Stringified UUID is invalid");return r}var Vp=zp;nr.default=Vp});var Ic=y(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.default=void 0;var Wp=vc(Ks()),Gp=vc(lt());function vc(t){return t&&t.__esModule?t:{default:t}}var Pc,Ys,Qs=0,Xs=0;function Jp(t,e,r){let s=e&&r||0,n=e||new Array(16);t=t||{};let i=t.node||Pc,o=t.clockseq!==void 0?t.clockseq:Ys;if(i==null||o==null){let m=t.random||(t.rng||Wp.default)();i==null&&(i=Pc=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),o==null&&(o=Ys=(m[6]<<8|m[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Xs+1,u=a-Qs+(c-Xs)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||a>Qs)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Qs=a,Xs=c,Ys=o,a+=122192928e5;let f=((a&268435455)*1e4+c)%4294967296;n[s++]=f>>>24&255,n[s++]=f>>>16&255,n[s++]=f>>>8&255,n[s++]=f&255;let d=a/4294967296*1e4&268435455;n[s++]=d>>>8&255,n[s++]=d&255,n[s++]=d>>>24&15|16,n[s++]=d>>>16&255,n[s++]=o>>>8|128,n[s++]=o&255;for(let m=0;m<6;++m)n[s+m]=i[m];return e||(0,Gp.default)(n)}var Kp=Jp;ir.default=Kp});var Zs=y(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.default=void 0;var Yp=Qp(ht());function Qp(t){return t&&t.__esModule?t:{default:t}}function Xp(t){if(!(0,Yp.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var Zp=Xp;or.default=Zp});var en=y(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.default=sm;xe.URL=xe.DNS=void 0;var em=Hc(lt()),tm=Hc(Zs());function Hc(t){return t&&t.__esModule?t:{default:t}}function rm(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var Lc="6ba7b810-9dad-11d1-80b4-00c04fd430c8";xe.DNS=Lc;var qc="6ba7b811-9dad-11d1-80b4-00c04fd430c8";xe.URL=qc;function sm(t,e,r){function s(n,i,o,a){if(typeof n=="string"&&(n=rm(n)),typeof i=="string"&&(i=(0,tm.default)(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+n.length);if(c.set(i),c.set(n,i.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(let u=0;u<16;++u)o[a+u]=c[u];return o}return(0,em.default)(c)}try{s.name=t}catch{}return s.DNS=Lc,s.URL=qc,s}});var kc=y(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.default=void 0;var nm=im(require("crypto"));function im(t){return t&&t.__esModule?t:{default:t}}function om(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),nm.default.createHash("md5").update(t).digest()}var am=om;ar.default=am});var Mc=y(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.default=void 0;var cm=Uc(en()),um=Uc(kc());function Uc(t){return t&&t.__esModule?t:{default:t}}var hm=(0,cm.default)("v3",48,um.default),lm=hm;cr.default=lm});var Bc=y(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.default=void 0;var fm=jc(Ks()),dm=jc(lt());function jc(t){return t&&t.__esModule?t:{default:t}}function pm(t,e,r){t=t||{};let s=t.random||(t.rng||fm.default)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){r=r||0;for(let n=0;n<16;++n)e[r+n]=s[n];return e}return(0,dm.default)(s)}var mm=pm;ur.default=mm});var $c=y(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.default=void 0;var gm=ym(require("crypto"));function ym(t){return t&&t.__esModule?t:{default:t}}function _m(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),gm.default.createHash("sha1").update(t).digest()}var bm=_m;hr.default=bm});var Dc=y(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.default=void 0;var wm=Fc(en()),Em=Fc($c());function Fc(t){return t&&t.__esModule?t:{default:t}}var xm=(0,wm.default)("v5",80,Em.default),Tm=xm;lr.default=Tm});var zc=y(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.default=void 0;var Cm="00000000-0000-0000-0000-000000000000";fr.default=Cm});var Vc=y(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.default=void 0;var Rm=Am(ht());function Am(t){return t&&t.__esModule?t:{default:t}}function Om(t){if(!(0,Rm.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var Sm=Om;dr.default=Sm});var Wc=y(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});Object.defineProperty(K,"v1",{enumerable:!0,get:function(){return Nm.default}});Object.defineProperty(K,"v3",{enumerable:!0,get:function(){return Pm.default}});Object.defineProperty(K,"v4",{enumerable:!0,get:function(){return vm.default}});Object.defineProperty(K,"v5",{enumerable:!0,get:function(){return Im.default}});Object.defineProperty(K,"NIL",{enumerable:!0,get:function(){return Hm.default}});Object.defineProperty(K,"version",{enumerable:!0,get:function(){return Lm.default}});Object.defineProperty(K,"validate",{enumerable:!0,get:function(){return qm.default}});Object.defineProperty(K,"stringify",{enumerable:!0,get:function(){return km.default}});Object.defineProperty(K,"parse",{enumerable:!0,get:function(){return Um.default}});var Nm=ie(Ic()),Pm=ie(Mc()),vm=ie(Bc()),Im=ie(Dc()),Hm=ie(zc()),Lm=ie(Vc()),qm=ie(ht()),km=ie(lt()),Um=ie(Zs());function ie(t){return t&&t.__esModule?t:{default:t}}});var Jc=y(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.checkBypass=Ie.getProxyUrl=void 0;function Mm(t){let e=t.protocol==="https:";if(Gc(t))return;let r=(()=>e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Ie.getProxyUrl=Mm;function Gc(t){if(!t.hostname)return!1;let e=process.env.no_proxy||process.env.NO_PROXY||"";if(!e)return!1;let r;t.port?r=Number(t.port):t.protocol==="http:"?r=80:t.protocol==="https:"&&(r=443);let s=[t.hostname.toUpperCase()];typeof r=="number"&&s.push(`${s[0]}:${r}`);for(let n of e.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(s.some(i=>i===n))return!0;return!1}Ie.checkBypass=Gc});var Xc=y(He=>{"use strict";var Hw=require("net"),jm=require("tls"),tn=require("http"),Kc=require("https"),Bm=require("events"),Lw=require("assert"),$m=require("util");He.httpOverHttp=Fm;He.httpsOverHttp=Dm;He.httpOverHttps=zm;He.httpsOverHttps=Vm;function Fm(t){var e=new oe(t);return e.request=tn.request,e}function Dm(t){var e=new oe(t);return e.request=tn.request,e.createSocket=Yc,e.defaultPort=443,e}function zm(t){var e=new oe(t);return e.request=Kc.request,e}function Vm(t){var e=new oe(t);return e.request=Kc.request,e.createSocket=Yc,e.defaultPort=443,e}function oe(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||tn.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(s,n,i,o){for(var a=Qc(n,i,o),c=0,u=e.requests.length;c<u;++c){var f=e.requests[c];if(f.host===a.host&&f.port===a.port){e.requests.splice(c,1),f.request.onSocket(s);return}}s.destroy(),e.removeSocket(s)})}$m.inherits(oe,Bm.EventEmitter);oe.prototype.addRequest=function(e,r,s,n){var i=this,o=rn({request:e},i.options,Qc(r,s,n));if(i.sockets.length>=this.maxSockets){i.requests.push(o);return}i.createSocket(o,function(a){a.on("free",c),a.on("close",u),a.on("agentRemove",u),e.onSocket(a);function c(){i.emit("free",a,o)}function u(f){i.removeSocket(a),a.removeListener("free",c),a.removeListener("close",u),a.removeListener("agentRemove",u)}})};oe.prototype.createSocket=function(e,r){var s=this,n={};s.sockets.push(n);var i=rn({},s.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(i.localAddress=e.localAddress),i.proxyAuth&&(i.headers=i.headers||{},i.headers["Proxy-Authorization"]="Basic "+new Buffer(i.proxyAuth).toString("base64")),fe("making CONNECT request");var o=s.request(i);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",c),o.once("connect",u),o.once("error",f),o.end();function a(d){d.upgrade=!0}function c(d,m,_){process.nextTick(function(){u(d,m,_)})}function u(d,m,_){if(o.removeAllListeners(),m.removeAllListeners(),d.statusCode!==200){fe("tunneling socket could not be established, statusCode=%d",d.statusCode),m.destroy();var T=new Error("tunneling socket could not be established, statusCode="+d.statusCode);T.code="ECONNRESET",e.request.emit("error",T),s.removeSocket(n);return}if(_.length>0){fe("got illegal response body from proxy"),m.destroy();var T=new Error("got illegal response body from proxy");T.code="ECONNRESET",e.request.emit("error",T),s.removeSocket(n);return}return fe("tunneling connection has established"),s.sockets[s.sockets.indexOf(n)]=m,r(m)}function f(d){o.removeAllListeners(),fe(`tunneling socket could not be established, cause=%s
`,d.message,d.stack);var m=new Error("tunneling socket could not be established, cause="+d.message);m.code="ECONNRESET",e.request.emit("error",m),s.removeSocket(n)}};oe.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var s=this.requests.shift();s&&this.createSocket(s,function(n){s.request.onSocket(n)})}};function Yc(t,e){var r=this;oe.prototype.createSocket.call(r,t,function(s){var n=t.request.getHeader("host"),i=rn({},r.options,{socket:s,servername:n?n.replace(/:.*$/,""):t.host}),o=jm.connect(0,i);r.sockets[r.sockets.indexOf(s)]=o,e(o)})}function Qc(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function rn(t){for(var e=1,r=arguments.length;e<r;++e){var s=arguments[e];if(typeof s=="object")for(var n=Object.keys(s),i=0,o=n.length;i<o;++i){var a=n[i];s[a]!==void 0&&(t[a]=s[a])}}return t}var fe;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?fe=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:fe=function(){};He.debug=fe});var eu=y((kw,Zc)=>{Zc.exports=Xc()});var ru=y(O=>{"use strict";var Wm=O&&O.__createBinding||(Object.create?function(t,e,r,s){s===void 0&&(s=r),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]}),Gm=O&&O.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_r=O&&O.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Wm(e,t,r);return Gm(e,t),e},H=O&&O.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{u(s.next(f))}catch(d){o(d)}}function c(f){try{u(s.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):n(f.value).then(a,c)}u((s=s.apply(t,e||[])).next())})};Object.defineProperty(O,"__esModule",{value:!0});O.HttpClient=O.isHttps=O.HttpClientResponse=O.HttpClientError=O.getProxyUrl=O.MediaTypes=O.Headers=O.HttpCodes=void 0;var pr=_r(require("http")),sn=_r(require("https")),tu=_r(Jc()),mr=_r(eu()),Y;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(Y=O.HttpCodes||(O.HttpCodes={}));var $;(function(t){t.Accept="accept",t.ContentType="content-type"})($=O.Headers||(O.Headers={}));var de;(function(t){t.ApplicationJson="application/json"})(de=O.MediaTypes||(O.MediaTypes={}));function Jm(t){let e=tu.getProxyUrl(new URL(t));return e?e.href:""}O.getProxyUrl=Jm;var Km=[Y.MovedPermanently,Y.ResourceMoved,Y.SeeOther,Y.TemporaryRedirect,Y.PermanentRedirect],Ym=[Y.BadGateway,Y.ServiceUnavailable,Y.GatewayTimeout],Qm=["OPTIONS","GET","DELETE","HEAD"],Xm=10,Zm=5,Le=class extends Error{constructor(e,r){super(e),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Le.prototype)}};O.HttpClientError=Le;var yr=class{constructor(e){this.message=e}readBody(){return H(this,void 0,void 0,function*(){return new Promise(e=>H(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",s=>{r=Buffer.concat([r,s])}),this.message.on("end",()=>{e(r.toString())})}))})}};O.HttpClientResponse=yr;function eg(t){return new URL(t).protocol==="https:"}O.isHttps=eg;var nn=class{constructor(e,r,s){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=s,s&&(s.ignoreSslError!=null&&(this._ignoreSslError=s.ignoreSslError),this._socketTimeout=s.socketTimeout,s.allowRedirects!=null&&(this._allowRedirects=s.allowRedirects),s.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=s.allowRedirectDowngrade),s.maxRedirects!=null&&(this._maxRedirects=Math.max(s.maxRedirects,0)),s.keepAlive!=null&&(this._keepAlive=s.keepAlive),s.allowRetries!=null&&(this._allowRetries=s.allowRetries),s.maxRetries!=null&&(this._maxRetries=s.maxRetries))}options(e,r){return H(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,r||{})})}get(e,r){return H(this,void 0,void 0,function*(){return this.request("GET",e,null,r||{})})}del(e,r){return H(this,void 0,void 0,function*(){return this.request("DELETE",e,null,r||{})})}post(e,r,s){return H(this,void 0,void 0,function*(){return this.request("POST",e,r,s||{})})}patch(e,r,s){return H(this,void 0,void 0,function*(){return this.request("PATCH",e,r,s||{})})}put(e,r,s){return H(this,void 0,void 0,function*(){return this.request("PUT",e,r,s||{})})}head(e,r){return H(this,void 0,void 0,function*(){return this.request("HEAD",e,null,r||{})})}sendStream(e,r,s,n){return H(this,void 0,void 0,function*(){return this.request(e,r,s,n)})}getJson(e,r={}){return H(this,void 0,void 0,function*(){r[$.Accept]=this._getExistingOrDefaultHeader(r,$.Accept,de.ApplicationJson);let s=yield this.get(e,r);return this._processResponse(s,this.requestOptions)})}postJson(e,r,s={}){return H(this,void 0,void 0,function*(){let n=JSON.stringify(r,null,2);s[$.Accept]=this._getExistingOrDefaultHeader(s,$.Accept,de.ApplicationJson),s[$.ContentType]=this._getExistingOrDefaultHeader(s,$.ContentType,de.ApplicationJson);let i=yield this.post(e,n,s);return this._processResponse(i,this.requestOptions)})}putJson(e,r,s={}){return H(this,void 0,void 0,function*(){let n=JSON.stringify(r,null,2);s[$.Accept]=this._getExistingOrDefaultHeader(s,$.Accept,de.ApplicationJson),s[$.ContentType]=this._getExistingOrDefaultHeader(s,$.ContentType,de.ApplicationJson);let i=yield this.put(e,n,s);return this._processResponse(i,this.requestOptions)})}patchJson(e,r,s={}){return H(this,void 0,void 0,function*(){let n=JSON.stringify(r,null,2);s[$.Accept]=this._getExistingOrDefaultHeader(s,$.Accept,de.ApplicationJson),s[$.ContentType]=this._getExistingOrDefaultHeader(s,$.ContentType,de.ApplicationJson);let i=yield this.patch(e,n,s);return this._processResponse(i,this.requestOptions)})}request(e,r,s,n){return H(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let i=new URL(r),o=this._prepareRequest(e,i,n),a=this._allowRetries&&Qm.includes(e)?this._maxRetries+1:1,c=0,u;do{if(u=yield this.requestRaw(o,s),u&&u.message&&u.message.statusCode===Y.Unauthorized){let d;for(let m of this.handlers)if(m.canHandleAuthentication(u)){d=m;break}return d?d.handleAuthentication(this,o,s):u}let f=this._maxRedirects;for(;u.message.statusCode&&Km.includes(u.message.statusCode)&&this._allowRedirects&&f>0;){let d=u.message.headers.location;if(!d)break;let m=new URL(d);if(i.protocol==="https:"&&i.protocol!==m.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield u.readBody(),m.hostname!==i.hostname)for(let _ in n)_.toLowerCase()==="authorization"&&delete n[_];o=this._prepareRequest(e,m,n),u=yield this.requestRaw(o,s),f--}if(!u.message.statusCode||!Ym.includes(u.message.statusCode))return u;c+=1,c<a&&(yield u.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return u})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return H(this,void 0,void 0,function*(){return new Promise((s,n)=>{function i(o,a){o?n(o):a?s(a):n(new Error("Unknown error"))}this.requestRawWithCallback(e,r,i)})})}requestRawWithCallback(e,r,s){typeof r=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let n=!1;function i(c,u){n||(n=!0,s(c,u))}let o=e.httpModule.request(e.options,c=>{let u=new yr(c);i(void 0,u)}),a;o.on("socket",c=>{a=c}),o.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),i(new Error(`Request timeout: ${e.options.path}`))}),o.on("error",function(c){i(c)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,s){let n={};n.parsedUrl=r;let i=n.parsedUrl.protocol==="https:";n.httpModule=i?sn:pr;let o=i?443:80;if(n.options={},n.options.host=n.parsedUrl.hostname,n.options.port=n.parsedUrl.port?parseInt(n.parsedUrl.port):o,n.options.path=(n.parsedUrl.pathname||"")+(n.parsedUrl.search||""),n.options.method=e,n.options.headers=this._mergeHeaders(s),this.userAgent!=null&&(n.options.headers["user-agent"]=this.userAgent),n.options.agent=this._getAgent(n.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(n.options);return n}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},gr(this.requestOptions.headers),gr(e||{})):gr(e||{})}_getExistingOrDefaultHeader(e,r,s){let n;return this.requestOptions&&this.requestOptions.headers&&(n=gr(this.requestOptions.headers)[r]),e[r]||n||s}_getAgent(e){let r,s=tu.getProxyUrl(e),n=s&&s.hostname;if(this._keepAlive&&n&&(r=this._proxyAgent),this._keepAlive&&!n&&(r=this._agent),r)return r;let i=e.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||pr.globalAgent.maxSockets),s&&s.hostname){let a={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(s.username||s.password)&&{proxyAuth:`${s.username}:${s.password}`}),{host:s.hostname,port:s.port})},c,u=s.protocol==="https:";i?c=u?mr.httpsOverHttps:mr.httpsOverHttp:c=u?mr.httpOverHttps:mr.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=i?new sn.Agent(a):new pr.Agent(a),this._agent=r}return r||(r=i?sn.globalAgent:pr.globalAgent),i&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){return H(this,void 0,void 0,function*(){e=Math.min(Xm,e);let r=Zm*Math.pow(2,e);return new Promise(s=>setTimeout(()=>s(),r))})}_processResponse(e,r){return H(this,void 0,void 0,function*(){return new Promise((s,n)=>H(this,void 0,void 0,function*(){let i=e.message.statusCode||0,o={statusCode:i,result:null,headers:{}};i===Y.NotFound&&s(o);function a(f,d){if(typeof d=="string"){let m=new Date(d);if(!isNaN(m.valueOf()))return m}return d}let c,u;try{u=yield e.readBody(),u&&u.length>0&&(r&&r.deserializeDates?c=JSON.parse(u,a):c=JSON.parse(u),o.result=c),o.headers=e.message.headers}catch{}if(i>299){let f;c&&c.message?f=c.message:u&&u.length>0?f=u:f=`Failed request: (${i})`;let d=new Le(f,i);d.result=o.result,n(d)}else s(o)}))})}};O.HttpClient=nn;var gr=t=>Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{})});var su=y(X=>{"use strict";var un=X&&X.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{u(s.next(f))}catch(d){o(d)}}function c(f){try{u(s.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):n(f.value).then(a,c)}u((s=s.apply(t,e||[])).next())})};Object.defineProperty(X,"__esModule",{value:!0});X.PersonalAccessTokenCredentialHandler=X.BearerCredentialHandler=X.BasicCredentialHandler=void 0;var on=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return un(this,void 0,void 0,function*(){throw new Error("not implemented")})}};X.BasicCredentialHandler=on;var an=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return un(this,void 0,void 0,function*(){throw new Error("not implemented")})}};X.BearerCredentialHandler=an;var cn=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return un(this,void 0,void 0,function*(){throw new Error("not implemented")})}};X.PersonalAccessTokenCredentialHandler=cn});var ou=y(qe=>{"use strict";var nu=qe&&qe.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{u(s.next(f))}catch(d){o(d)}}function c(f){try{u(s.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):n(f.value).then(a,c)}u((s=s.apply(t,e||[])).next())})};Object.defineProperty(qe,"__esModule",{value:!0});qe.OidcClient=void 0;var tg=ru(),rg=su(),iu=hn(),pe=class{static createHttpClient(e=!0,r=10){let s={allowRetries:e,maxRetries:r};return new tg.HttpClient("actions/oidc-client",[new rg.BearerCredentialHandler(pe.getRequestToken())],s)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return nu(this,void 0,void 0,function*(){let i=(r=(yield pe.createHttpClient().getJson(e).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!i)throw new Error("Response json body do not have ID Token field");return i})}static getIDToken(e){return nu(this,void 0,void 0,function*(){try{let r=pe.getIDTokenUrl();if(e){let n=encodeURIComponent(e);r=`${r}&audience=${n}`}iu.debug(`ID token url is ${r}`);let s=yield pe.getCall(r);return iu.setSecret(s),s}catch(r){throw new Error(`Error message: ${r.message}`)}})}};qe.OidcClient=pe});var pn=y(z=>{"use strict";var ln=z&&z.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{u(s.next(f))}catch(d){o(d)}}function c(f){try{u(s.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):n(f.value).then(a,c)}u((s=s.apply(t,e||[])).next())})};Object.defineProperty(z,"__esModule",{value:!0});z.summary=z.markdownSummary=z.SUMMARY_DOCS_URL=z.SUMMARY_ENV_VAR=void 0;var sg=require("os"),fn=require("fs"),{access:ng,appendFile:ig,writeFile:og}=fn.promises;z.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";z.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var dn=class{constructor(){this._buffer=""}filePath(){return ln(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[z.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${z.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield ng(e,fn.constants.R_OK|fn.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,r,s={}){let n=Object.entries(s).map(([i,o])=>` ${i}="${o}"`).join("");return r?`<${e}${n}>${r}</${e}>`:`<${e}${n}>`}write(e){return ln(this,void 0,void 0,function*(){let r=!!(e!=null&&e.overwrite),s=yield this.filePath();return yield(r?og:ig)(s,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return ln(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,r=!1){return this._buffer+=e,r?this.addEOL():this}addEOL(){return this.addRaw(sg.EOL)}addCodeBlock(e,r){let s=Object.assign({},r&&{lang:r}),n=this.wrap("pre",this.wrap("code",e),s);return this.addRaw(n).addEOL()}addList(e,r=!1){let s=r?"ol":"ul",n=e.map(o=>this.wrap("li",o)).join(""),i=this.wrap(s,n);return this.addRaw(i).addEOL()}addTable(e){let r=e.map(n=>{let i=n.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:a,data:c,colspan:u,rowspan:f}=o,d=a?"th":"td",m=Object.assign(Object.assign({},u&&{colspan:u}),f&&{rowspan:f});return this.wrap(d,c,m)}).join("");return this.wrap("tr",i)}).join(""),s=this.wrap("table",r);return this.addRaw(s).addEOL()}addDetails(e,r){let s=this.wrap("details",this.wrap("summary",e)+r);return this.addRaw(s).addEOL()}addImage(e,r,s){let{width:n,height:i}=s||{},o=Object.assign(Object.assign({},n&&{width:n}),i&&{height:i}),a=this.wrap("img",null,Object.assign({src:e,alt:r},o));return this.addRaw(a).addEOL()}addHeading(e,r){let s=`h${r}`,n=["h1","h2","h3","h4","h5","h6"].includes(s)?s:"h1",i=this.wrap(n,e);return this.addRaw(i).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,r){let s=Object.assign({},r&&{cite:r}),n=this.wrap("blockquote",e,s);return this.addRaw(n).addEOL()}addLink(e,r){let s=this.wrap("a",e,{href:r});return this.addRaw(s).addEOL()}},au=new dn;z.markdownSummary=au;z.summary=au});var cu=y(V=>{"use strict";var ag=V&&V.__createBinding||(Object.create?function(t,e,r,s){s===void 0&&(s=r),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]}),cg=V&&V.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ug=V&&V.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&ag(e,t,r);return cg(e,t),e};Object.defineProperty(V,"__esModule",{value:!0});V.toPlatformPath=V.toWin32Path=V.toPosixPath=void 0;var hg=ug(require("path"));function lg(t){return t.replace(/[\\]/g,"/")}V.toPosixPath=lg;function fg(t){return t.replace(/[/]/g,"\\")}V.toWin32Path=fg;function dg(t){return t.replace(/[/\\]/g,hg.sep)}V.toPlatformPath=dg});var hn=y(E=>{"use strict";var pg=E&&E.__createBinding||(Object.create?function(t,e,r,s){s===void 0&&(s=r),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]}),mg=E&&E.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uu=E&&E.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&pg(e,t,r);return mg(e,t),e},hu=E&&E.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{u(s.next(f))}catch(d){o(d)}}function c(f){try{u(s.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):n(f.value).then(a,c)}u((s=s.apply(t,e||[])).next())})};Object.defineProperty(E,"__esModule",{value:!0});E.getIDToken=E.getState=E.saveState=E.group=E.endGroup=E.startGroup=E.info=E.notice=E.warning=E.error=E.debug=E.isDebug=E.setFailed=E.setCommandEcho=E.setOutput=E.getBooleanInput=E.getMultilineInput=E.getInput=E.addPath=E.setSecret=E.exportVariable=E.ExitCode=void 0;var G=Rc(),lu=Sc(),wr=Zt(),br=uu(require("os")),gg=uu(require("path")),yg=Wc(),_g=ou(),fu;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(fu=E.ExitCode||(E.ExitCode={}));function bg(t,e){let r=wr.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||""){let n=`ghadelimiter_${yg.v4()}`;if(t.includes(n))throw new Error(`Unexpected input: name should not contain the delimiter "${n}"`);if(r.includes(n))throw new Error(`Unexpected input: value should not contain the delimiter "${n}"`);let i=`${t}<<${n}${br.EOL}${r}${br.EOL}${n}`;lu.issueCommand("ENV",i)}else G.issueCommand("set-env",{name:t},r)}E.exportVariable=bg;function wg(t){G.issueCommand("add-mask",{},t)}E.setSecret=wg;function Eg(t){process.env.GITHUB_PATH||""?lu.issueCommand("PATH",t):G.issueCommand("add-path",{},t),process.env.PATH=`${t}${gg.delimiter}${process.env.PATH}`}E.addPath=Eg;function mn(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}E.getInput=mn;function xg(t,e){return mn(t,e).split(`
`).filter(s=>s!=="")}E.getMultilineInput=xg;function Tg(t,e){let r=["true","True","TRUE"],s=["false","False","FALSE"],n=mn(t,e);if(r.includes(n))return!0;if(s.includes(n))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}E.getBooleanInput=Tg;function Cg(t,e){process.stdout.write(br.EOL),G.issueCommand("set-output",{name:t},e)}E.setOutput=Cg;function Rg(t){G.issue("echo",t?"on":"off")}E.setCommandEcho=Rg;function Ag(t){process.exitCode=fu.Failure,du(t)}E.setFailed=Ag;function Og(){return process.env.RUNNER_DEBUG==="1"}E.isDebug=Og;function Sg(t){G.issueCommand("debug",{},t)}E.debug=Sg;function du(t,e={}){G.issueCommand("error",wr.toCommandProperties(e),t instanceof Error?t.toString():t)}E.error=du;function Ng(t,e={}){G.issueCommand("warning",wr.toCommandProperties(e),t instanceof Error?t.toString():t)}E.warning=Ng;function Pg(t,e={}){G.issueCommand("notice",wr.toCommandProperties(e),t instanceof Error?t.toString():t)}E.notice=Pg;function vg(t){process.stdout.write(t+br.EOL)}E.info=vg;function pu(t){G.issue("group",t)}E.startGroup=pu;function mu(){G.issue("endgroup")}E.endGroup=mu;function Ig(t,e){return hu(this,void 0,void 0,function*(){pu(t);let r;try{r=yield e()}finally{mu()}return r})}E.group=Ig;function Hg(t,e){G.issueCommand("save-state",{name:t},e)}E.saveState=Hg;function Lg(t){return process.env[`STATE_${t}`]||""}E.getState=Lg;function qg(t){return hu(this,void 0,void 0,function*(){return yield _g.OidcClient.getIDToken(t)})}E.getIDToken=qg;var kg=pn();Object.defineProperty(E,"summary",{enumerable:!0,get:function(){return kg.summary}});var Ug=pn();Object.defineProperty(E,"markdownSummary",{enumerable:!0,get:function(){return Ug.markdownSummary}});var gn=cu();Object.defineProperty(E,"toPosixPath",{enumerable:!0,get:function(){return gn.toPosixPath}});Object.defineProperty(E,"toWin32Path",{enumerable:!0,get:function(){return gn.toWin32Path}});Object.defineProperty(E,"toPlatformPath",{enumerable:!0,get:function(){return gn.toPlatformPath}})});var Er=M(Kn());var Yn=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Qu(t){return Yn.includes(t)}var Xu=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","WeakRef","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement","NaN",...Yn];function Zu(t){return Xu.includes(t)}var eh=["null","undefined","string","number","bigint","boolean","symbol"];function th(t){return eh.includes(t)}function Re(t){return e=>typeof e===t}var{toString:rh}=Object.prototype,Me=t=>{let e=rh.call(t).slice(8,-1);if(/HTML\w+Element/.test(e)&&h.domElement(t))return"HTMLElement";if(Zu(e))return e},S=t=>e=>Me(e)===t;function h(t){if(t===null)return"null";switch(typeof t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"NaN":"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(h.observable(t))return"Observable";if(h.array(t))return"Array";if(h.buffer(t))return"Buffer";let e=Me(t);if(e)return e;if(t instanceof String||t instanceof Boolean||t instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}h.undefined=Re("undefined");h.string=Re("string");var sh=Re("number");h.number=t=>sh(t)&&!h.nan(t);h.bigint=Re("bigint");h.function_=Re("function");h.null_=t=>t===null;h.class_=t=>h.function_(t)&&t.toString().startsWith("class ");h.boolean=t=>t===!0||t===!1;h.symbol=Re("symbol");h.numericString=t=>h.string(t)&&!h.emptyStringOrWhitespace(t)&&!Number.isNaN(Number(t));h.array=(t,e)=>Array.isArray(t)?h.function_(e)?t.every(r=>e(r)):!0:!1;h.buffer=t=>{var e,r;return((r=(e=t==null?void 0:t.constructor)==null?void 0:e.isBuffer)==null?void 0:r.call(e,t))??!1};h.blob=t=>S("Blob")(t);h.nullOrUndefined=t=>h.null_(t)||h.undefined(t);h.object=t=>!h.null_(t)&&(typeof t=="object"||h.function_(t));h.iterable=t=>h.function_(t==null?void 0:t[Symbol.iterator]);h.asyncIterable=t=>h.function_(t==null?void 0:t[Symbol.asyncIterator]);h.generator=t=>h.iterable(t)&&h.function_(t==null?void 0:t.next)&&h.function_(t==null?void 0:t.throw);h.asyncGenerator=t=>h.asyncIterable(t)&&h.function_(t.next)&&h.function_(t.throw);h.nativePromise=t=>S("Promise")(t);var nh=t=>h.function_(t==null?void 0:t.then)&&h.function_(t==null?void 0:t.catch);h.promise=t=>h.nativePromise(t)||nh(t);h.generatorFunction=S("GeneratorFunction");h.asyncGeneratorFunction=t=>Me(t)==="AsyncGeneratorFunction";h.asyncFunction=t=>Me(t)==="AsyncFunction";h.boundFunction=t=>h.function_(t)&&!t.hasOwnProperty("prototype");h.regExp=S("RegExp");h.date=S("Date");h.error=S("Error");h.map=t=>S("Map")(t);h.set=t=>S("Set")(t);h.weakMap=t=>S("WeakMap")(t);h.weakSet=t=>S("WeakSet")(t);h.weakRef=t=>S("WeakRef")(t);h.int8Array=S("Int8Array");h.uint8Array=S("Uint8Array");h.uint8ClampedArray=S("Uint8ClampedArray");h.int16Array=S("Int16Array");h.uint16Array=S("Uint16Array");h.int32Array=S("Int32Array");h.uint32Array=S("Uint32Array");h.float32Array=S("Float32Array");h.float64Array=S("Float64Array");h.bigInt64Array=S("BigInt64Array");h.bigUint64Array=S("BigUint64Array");h.arrayBuffer=S("ArrayBuffer");h.sharedArrayBuffer=S("SharedArrayBuffer");h.dataView=S("DataView");h.enumCase=(t,e)=>Object.values(e).includes(t);h.directInstanceOf=(t,e)=>Object.getPrototypeOf(t)===e.prototype;h.urlInstance=t=>S("URL")(t);h.urlString=t=>{if(!h.string(t))return!1;try{return new URL(t),!0}catch{return!1}};h.truthy=t=>Boolean(t);h.falsy=t=>!t;h.nan=t=>Number.isNaN(t);h.primitive=t=>h.null_(t)||th(typeof t);h.integer=t=>Number.isInteger(t);h.safeInteger=t=>Number.isSafeInteger(t);h.plainObject=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};h.typedArray=t=>Qu(Me(t));var ih=t=>h.safeInteger(t)&&t>=0;h.arrayLike=t=>!h.nullOrUndefined(t)&&!h.function_(t)&&ih(t.length);h.inRange=(t,e)=>{if(h.number(e))return t>=Math.min(0,e)&&t<=Math.max(e,0);if(h.array(e)&&e.length===2)return t>=Math.min(...e)&&t<=Math.max(...e);throw new TypeError(`Invalid range: ${JSON.stringify(e)}`)};var oh=1,ah=["innerHTML","ownerDocument","style","attributes","nodeValue"];h.domElement=t=>h.object(t)&&t.nodeType===oh&&h.string(t.nodeName)&&!h.plainObject(t)&&ah.every(e=>e in t);h.observable=t=>{var e,r;return t?t===((e=t[Symbol.observable])==null?void 0:e.call(t))||t===((r=t["@@observable"])==null?void 0:r.call(t)):!1};h.nodeStream=t=>h.object(t)&&h.function_(t.pipe)&&!h.observable(t);h.infinite=t=>t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY;var Qn=t=>e=>h.integer(e)&&Math.abs(e%2)===t;h.evenInteger=Qn(0);h.oddInteger=Qn(1);h.emptyArray=t=>h.array(t)&&t.length===0;h.nonEmptyArray=t=>h.array(t)&&t.length>0;h.emptyString=t=>h.string(t)&&t.length===0;var ch=t=>h.string(t)&&!/\S/.test(t);h.emptyStringOrWhitespace=t=>h.emptyString(t)||ch(t);h.nonEmptyString=t=>h.string(t)&&t.length>0;h.nonEmptyStringAndNotWhitespace=t=>h.string(t)&&!h.emptyStringOrWhitespace(t);h.emptyObject=t=>h.object(t)&&!h.map(t)&&!h.set(t)&&Object.keys(t).length===0;h.nonEmptyObject=t=>h.object(t)&&!h.map(t)&&!h.set(t)&&Object.keys(t).length>0;h.emptySet=t=>h.set(t)&&t.size===0;h.nonEmptySet=t=>h.set(t)&&t.size>0;h.emptyMap=t=>h.map(t)&&t.size===0;h.nonEmptyMap=t=>h.map(t)&&t.size>0;h.propertyKey=t=>h.any([h.string,h.number,h.symbol],t);h.formData=t=>S("FormData")(t);h.urlSearchParams=t=>S("URLSearchParams")(t);var Xn=(t,e,r)=>{if(!h.function_(e))throw new TypeError(`Invalid predicate: ${JSON.stringify(e)}`);if(r.length===0)throw new TypeError("Invalid number of values");return t.call(r,e)};h.any=(t,...e)=>(h.array(t)?t:[t]).some(s=>Xn(Array.prototype.some,s,e));h.all=(t,...e)=>Xn(Array.prototype.every,t,e);var b=(t,e,r,s={})=>{if(!t){let{multipleValues:n}=s,i=n?`received values of types ${[...new Set(r.map(o=>`\`${h(o)}\``))].join(", ")}`:`received value of type \`${h(r)}\``;throw new TypeError(`Expected value which is \`${e}\`, ${i}.`)}},g={undefined:t=>b(h.undefined(t),"undefined",t),string:t=>b(h.string(t),"string",t),number:t=>b(h.number(t),"number",t),bigint:t=>b(h.bigint(t),"bigint",t),function_:t=>b(h.function_(t),"Function",t),null_:t=>b(h.null_(t),"null",t),class_:t=>b(h.class_(t),"Class",t),boolean:t=>b(h.boolean(t),"boolean",t),symbol:t=>b(h.symbol(t),"symbol",t),numericString:t=>b(h.numericString(t),"string with a number",t),array:(t,e)=>{b(h.array(t),"Array",t),e&&t.forEach(e)},buffer:t=>b(h.buffer(t),"Buffer",t),blob:t=>b(h.blob(t),"Blob",t),nullOrUndefined:t=>b(h.nullOrUndefined(t),"null or undefined",t),object:t=>b(h.object(t),"Object",t),iterable:t=>b(h.iterable(t),"Iterable",t),asyncIterable:t=>b(h.asyncIterable(t),"AsyncIterable",t),generator:t=>b(h.generator(t),"Generator",t),asyncGenerator:t=>b(h.asyncGenerator(t),"AsyncGenerator",t),nativePromise:t=>b(h.nativePromise(t),"native Promise",t),promise:t=>b(h.promise(t),"Promise",t),generatorFunction:t=>b(h.generatorFunction(t),"GeneratorFunction",t),asyncGeneratorFunction:t=>b(h.asyncGeneratorFunction(t),"AsyncGeneratorFunction",t),asyncFunction:t=>b(h.asyncFunction(t),"AsyncFunction",t),boundFunction:t=>b(h.boundFunction(t),"Function",t),regExp:t=>b(h.regExp(t),"RegExp",t),date:t=>b(h.date(t),"Date",t),error:t=>b(h.error(t),"Error",t),map:t=>b(h.map(t),"Map",t),set:t=>b(h.set(t),"Set",t),weakMap:t=>b(h.weakMap(t),"WeakMap",t),weakSet:t=>b(h.weakSet(t),"WeakSet",t),weakRef:t=>b(h.weakRef(t),"WeakRef",t),int8Array:t=>b(h.int8Array(t),"Int8Array",t),uint8Array:t=>b(h.uint8Array(t),"Uint8Array",t),uint8ClampedArray:t=>b(h.uint8ClampedArray(t),"Uint8ClampedArray",t),int16Array:t=>b(h.int16Array(t),"Int16Array",t),uint16Array:t=>b(h.uint16Array(t),"Uint16Array",t),int32Array:t=>b(h.int32Array(t),"Int32Array",t),uint32Array:t=>b(h.uint32Array(t),"Uint32Array",t),float32Array:t=>b(h.float32Array(t),"Float32Array",t),float64Array:t=>b(h.float64Array(t),"Float64Array",t),bigInt64Array:t=>b(h.bigInt64Array(t),"BigInt64Array",t),bigUint64Array:t=>b(h.bigUint64Array(t),"BigUint64Array",t),arrayBuffer:t=>b(h.arrayBuffer(t),"ArrayBuffer",t),sharedArrayBuffer:t=>b(h.sharedArrayBuffer(t),"SharedArrayBuffer",t),dataView:t=>b(h.dataView(t),"DataView",t),enumCase:(t,e)=>b(h.enumCase(t,e),"EnumCase",t),urlInstance:t=>b(h.urlInstance(t),"URL",t),urlString:t=>b(h.urlString(t),"string with a URL",t),truthy:t=>b(h.truthy(t),"truthy",t),falsy:t=>b(h.falsy(t),"falsy",t),nan:t=>b(h.nan(t),"NaN",t),primitive:t=>b(h.primitive(t),"primitive",t),integer:t=>b(h.integer(t),"integer",t),safeInteger:t=>b(h.safeInteger(t),"integer",t),plainObject:t=>b(h.plainObject(t),"plain object",t),typedArray:t=>b(h.typedArray(t),"TypedArray",t),arrayLike:t=>b(h.arrayLike(t),"array-like",t),domElement:t=>b(h.domElement(t),"HTMLElement",t),observable:t=>b(h.observable(t),"Observable",t),nodeStream:t=>b(h.nodeStream(t),"Node.js Stream",t),infinite:t=>b(h.infinite(t),"infinite number",t),emptyArray:t=>b(h.emptyArray(t),"empty array",t),nonEmptyArray:t=>b(h.nonEmptyArray(t),"non-empty array",t),emptyString:t=>b(h.emptyString(t),"empty string",t),emptyStringOrWhitespace:t=>b(h.emptyStringOrWhitespace(t),"empty string or whitespace",t),nonEmptyString:t=>b(h.nonEmptyString(t),"non-empty string",t),nonEmptyStringAndNotWhitespace:t=>b(h.nonEmptyStringAndNotWhitespace(t),"non-empty string and not whitespace",t),emptyObject:t=>b(h.emptyObject(t),"empty object",t),nonEmptyObject:t=>b(h.nonEmptyObject(t),"non-empty object",t),emptySet:t=>b(h.emptySet(t),"empty set",t),nonEmptySet:t=>b(h.nonEmptySet(t),"non-empty set",t),emptyMap:t=>b(h.emptyMap(t),"empty map",t),nonEmptyMap:t=>b(h.nonEmptyMap(t),"non-empty map",t),propertyKey:t=>b(h.propertyKey(t),"PropertyKey",t),formData:t=>b(h.formData(t),"FormData",t),urlSearchParams:t=>b(h.urlSearchParams(t),"URLSearchParams",t),evenInteger:t=>b(h.evenInteger(t),"even integer",t),oddInteger:t=>b(h.oddInteger(t),"odd integer",t),directInstanceOf:(t,e)=>b(h.directInstanceOf(t,e),"T",t),inRange:(t,e)=>b(h.inRange(t,e),"in range",t),any:(t,...e)=>b(h.any(t,...e),"predicate returns truthy for any value",e,{multipleValues:!0}),all:(t,...e)=>b(h.all(t,...e),"predicate returns truthy for all values",e,{multipleValues:!0})};Object.defineProperties(h,{class:{value:h.class_},function:{value:h.function_},null:{value:h.null_}});Object.defineProperties(g,{class:{value:g.class_},function:{value:g.function_},null:{value:g.null_}});var l=h;var Na=require("node:events");var Pr=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},ae=class{static fn(e){return(...r)=>new ae((s,n,i)=>{r.push(i),e(...r).then(s,n)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,s)=>{this._reject=s;let n=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,r(a))},i=a=>{this._isPending=!1,s(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(n,i,o)})}then(e,r){return this._promise.then(e,r)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new Pr(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(ae.prototype,Promise.prototype);function uh(t){return l.object(t)&&"_onResponse"in t}var v=class extends Error{constructor(e,r,s){var n;if(super(e),Object.defineProperty(this,"input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=r.code??"ERR_GOT_REQUEST_ERROR",this.input=r.input,uh(s)?(Object.defineProperty(this,"request",{enumerable:!1,value:s}),Object.defineProperty(this,"response",{enumerable:!1,value:s.response}),this.options=s.options):this.options=s,this.timings=(n=this.request)==null?void 0:n.timings,l.string(r.stack)&&l.string(this.stack)){let i=this.stack.indexOf(this.message)+this.message.length,o=this.stack.slice(i).split(`
`).reverse(),a=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
`).reverse();for(;a.length>0&&a[0]===o[0];)o.shift();this.stack=`${this.stack.slice(0,i)}${o.reverse().join(`
`)}${a.reverse().join(`
`)}`}}},wt=class extends v{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}},ge=class extends v{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}},Et=class extends v{constructor(e,r){super(e.message,e,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}},je=class extends v{constructor(e,r){super(e.message,e,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}},xt=class extends v{constructor(e,r,s){super(e.message,e,s),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.event=e.event,this.timings=r}},Be=class extends v{constructor(e,r){super(e.message,e,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}},Tt=class extends v{constructor(e){super("Retrying",{},e),this.name="RetryError",this.code="ERR_RETRYING"}},$e=class extends v{constructor(e){super("This operation was aborted.",{},e),this.code="ERR_ABORTED",this.name="AbortError"}};var Is=M(require("node:process"),1),Jt=require("node:buffer"),Aa=require("node:stream"),Kt=require("node:url"),at=M(require("node:http"),1);var ei=require("events"),ti=require("util"),ri=M(Zn(),1),lh=t=>{if(t.timings)return t.timings;let e={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};t.timings=e;let r=o=>{o.once(ei.errorMonitor,()=>{e.error=Date.now(),e.phases.total=e.error-e.start})};r(t);let s=()=>{e.abort=Date.now(),e.phases.total=e.abort-e.start};t.prependOnceListener("abort",s);let n=o=>{if(e.socket=Date.now(),e.phases.wait=e.socket-e.start,ti.types.isProxy(o))return;let a=()=>{e.lookup=Date.now(),e.phases.dns=e.lookup-e.socket};o.prependOnceListener("lookup",a),(0,ri.default)(o,{connect:()=>{e.connect=Date.now(),e.lookup===void 0&&(o.removeListener("lookup",a),e.lookup=e.connect,e.phases.dns=e.lookup-e.socket),e.phases.tcp=e.connect-e.lookup},secureConnect:()=>{e.secureConnect=Date.now(),e.phases.tls=e.secureConnect-e.connect}})};t.socket?n(t.socket):t.prependOnceListener("socket",n);let i=()=>{e.upload=Date.now(),e.phases.request=e.upload-(e.secureConnect??e.connect)};return t.writableFinished?i():t.prependOnceListener("finish",i),t.prependOnceListener("response",o=>{e.response=Date.now(),e.phases.firstByte=e.response-e.upload,o.timings=e,r(o),o.prependOnceListener("end",()=>{t.off("abort",s),o.off("aborted",s),!e.phases.total&&(e.end=Date.now(),e.phases.download=e.end-e.response,e.phases.total=e.end-e.start)}),o.prependOnceListener("aborted",s)}),e},si=lh;var vs=M(Di(),1),Oa=M(Gi(),1);var Sa=M(Yi(),1);var Qi="abcdefghijklmnopqrstuvwxyz0123456789";function Xi(){let t=16,e="";for(;t--;)e+=Qi[Math.random()*Qi.length<<0];return e}var Gr=t=>String(t).replace(/\r|\n/g,(e,r,s)=>e==="\r"&&s[r+1]!==`
`||e===`
`&&s[r-1]!=="\r"?`\r
`:e);var pl=t=>Object.prototype.toString.call(t).slice(8,-1).toLowerCase();function Jr(t){if(pl(t)!=="object")return!1;let e=Object.getPrototypeOf(t);return e==null?!0:(e.constructor&&e.constructor.toString())===Object.toString()}function Zi(t,e){if(typeof e!="string")return t[e];for(let[r,s]of Object.entries(t))if(e.toLowerCase()===r.toLowerCase())return s}var eo=t=>new Proxy(t,{get:(e,r)=>Zi(e,r),has:(e,r)=>Zi(e,r)!==void 0});var te=t=>typeof t=="function";var Oe=t=>Boolean(t&&te(t.constructor)&&t[Symbol.toStringTag]==="FormData"&&te(t.append)&&te(t.getAll)&&te(t.entries)&&te(t[Symbol.iterator]));var Kr=t=>String(t).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22");var ce=t=>Boolean(t&&typeof t=="object"&&te(t.constructor)&&t[Symbol.toStringTag]==="File"&&te(t.stream)&&t.name!=null);var ze=function(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r},P=function(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)},Ve,ue,We,It,Ge,_e,Je,Ke,Ht,Yr,to,ml={enableAdditionalHeaders:!1},Lt={writable:!1,configurable:!1},qt=class{constructor(e,r,s){if(Ve.add(this),ue.set(this,`\r
`),We.set(this,void 0),It.set(this,void 0),Ge.set(this,"-".repeat(2)),_e.set(this,new TextEncoder),Je.set(this,void 0),Ke.set(this,void 0),Ht.set(this,void 0),!Oe(e))throw new TypeError("Expected first argument to be a FormData instance.");let n;if(Jr(r)?s=r:n=r,n||(n=Xi()),typeof n!="string")throw new TypeError("Expected boundary argument to be a string.");if(s&&!Jr(s))throw new TypeError("Expected options argument to be an object.");ze(this,Ke,Array.from(e.entries()),"f"),ze(this,Ht,{...ml,...s},"f"),ze(this,We,P(this,_e,"f").encode(P(this,ue,"f")),"f"),ze(this,It,P(this,We,"f").byteLength,"f"),this.boundary=`form-data-boundary-${n}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,ze(this,Je,P(this,_e,"f").encode(`${P(this,Ge,"f")}${this.boundary}${P(this,Ge,"f")}${P(this,ue,"f").repeat(2)}`),"f");let i={"Content-Type":this.contentType},o=P(this,Ve,"m",to).call(this);o&&(this.contentLength=o,i["Content-Length"]=o),this.headers=eo(Object.freeze(i)),Object.defineProperties(this,{boundary:Lt,contentType:Lt,contentLength:Lt,headers:Lt})}getContentLength(){return this.contentLength==null?void 0:Number(this.contentLength)}*values(){for(let[e,r]of P(this,Ke,"f")){let s=ce(r)?r:P(this,_e,"f").encode(Gr(r));yield P(this,Ve,"m",Yr).call(this,e,s),yield s,yield P(this,We,"f")}yield P(this,Je,"f")}async*encode(){for(let e of this.values())ce(e)?yield*e.stream():yield e}[(ue=new WeakMap,We=new WeakMap,It=new WeakMap,Ge=new WeakMap,_e=new WeakMap,Je=new WeakMap,Ke=new WeakMap,Ht=new WeakMap,Ve=new WeakSet,Yr=function(r,s){let n="";n+=`${P(this,Ge,"f")}${this.boundary}${P(this,ue,"f")}`,n+=`Content-Disposition: form-data; name="${Kr(r)}"`,ce(s)&&(n+=`; filename="${Kr(s.name)}"${P(this,ue,"f")}`,n+=`Content-Type: ${s.type||"application/octet-stream"}`);let i=ce(s)?s.size:s.byteLength;return P(this,Ht,"f").enableAdditionalHeaders===!0&&i!=null&&!isNaN(i)&&(n+=`${P(this,ue,"f")}Content-Length: ${ce(s)?s.size:s.byteLength}`),P(this,_e,"f").encode(`${n}${P(this,ue,"f").repeat(2)}`)},to=function(){let r=0;for(let[s,n]of P(this,Ke,"f")){let i=ce(n)?n:P(this,_e,"f").encode(Gr(n)),o=ce(i)?i.size:i.byteLength;if(o==null||isNaN(o))return;r+=P(this,Ve,"m",Yr).call(this,s,i).byteLength,r+=o,r+=P(this,It,"f")}return String(r+P(this,Je,"f").byteLength)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}};var ro=require("node:buffer"),so=require("node:util");function Ye(t){return l.nodeStream(t)&&l.function_(t.getBoundary)}async function Qr(t,e){if(e&&"content-length"in e)return Number(e["content-length"]);if(!t)return 0;if(l.string(t))return ro.Buffer.byteLength(t);if(l.buffer(t))return t.length;if(Ye(t))return(0,so.promisify)(t.getLength.bind(t))()}function Qe(t,e,r){let s={};for(let n of r){let i=(...o)=>{e.emit(n,...o)};s[n]=i,t.on(n,i)}return()=>{for(let[n,i]of Object.entries(s))t.off(n,i)}}var io=M(require("node:net"),1);function Xr(){let t=[];return{once(e,r,s){e.once(r,s),t.push({origin:e,event:r,fn:s})},unhandleAll(){for(let e of t){let{origin:r,event:s,fn:n}=e;r.removeListener(s,n)}t.length=0}}}var no=Symbol("reentry"),gl=()=>{},Xe=class extends Error{constructor(e,r){super(`Timeout awaiting '${r}' for ${e}ms`),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.code="ETIMEDOUT"}};function Zr(t,e,r){if(no in t)return gl;t[no]=!0;let s=[],{once:n,unhandleAll:i}=Xr(),o=(p,w,C)=>{var R;let A=setTimeout(w,p,p,C);(R=A.unref)==null||R.call(A);let x=()=>{clearTimeout(A)};return s.push(x),x},{host:a,hostname:c}=r,u=(p,w)=>{t.destroy(new Xe(p,w))},f=()=>{for(let p of s)p();i()};if(t.once("error",p=>{if(f(),t.listenerCount("error")===0)throw p}),typeof e.request<"u"){let p=o(e.request,u,"request");n(t,"response",w=>{n(w,"end",p)})}if(typeof e.socket<"u"){let{socket:p}=e,w=()=>{u(p,"socket")};t.setTimeout(p,w),s.push(()=>{t.removeListener("timeout",w)})}let d=typeof e.lookup<"u",m=typeof e.connect<"u",_=typeof e.secureConnect<"u",T=typeof e.send<"u";return(d||m||_||T)&&n(t,"socket",p=>{let{socketPath:w}=t;if(p.connecting){let C=Boolean(w??io.default.isIP(c??a??"")!==0);if(d&&!C&&typeof p.address().address>"u"){let A=o(e.lookup,u,"lookup");n(p,"lookup",A)}if(m){let A=()=>o(e.connect,u,"connect");C?n(p,"connect",A()):n(p,"lookup",x=>{x===null&&n(p,"connect",A())})}_&&r.protocol==="https:"&&n(p,"connect",()=>{let A=o(e.secureConnect,u,"secureConnect");n(p,"secureConnect",A)})}if(T){let C=()=>o(e.send,u,"send");p.connecting?n(p,"connect",()=>{n(t,"upload-complete",C())}):n(t,"upload-complete",C())}}),typeof e.response<"u"&&n(t,"upload-complete",()=>{let p=o(e.response,u,"response");n(t,"response",p)}),typeof e.read<"u"&&n(t,"response",p=>{let w=o(e.read,u,"read");n(p,"end",w)}),f}function es(t){t=t;let e={protocol:t.protocol,hostname:l.string(t.hostname)&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return l.string(t.port)&&t.port.length>0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}var Ze=class{constructor(){Object.defineProperty(this,"weakMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.weakMap=new WeakMap,this.map=new Map}set(e,r){typeof e=="object"?this.weakMap.set(e,r):this.map.set(e,r)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}};var yl=({attemptCount:t,retryOptions:e,error:r,retryAfter:s,computedValue:n})=>{if(r.name==="RetryError")return 1;if(t>e.limit)return 0;let i=e.methods.includes(r.options.method),o=e.errorCodes.includes(r.code),a=r.response&&e.statusCodes.includes(r.response.statusCode);if(!i||!o&&!a)return 0;if(r.response){if(s)return s>n?0:s;if(r.response.statusCode===413)return 0}let c=Math.random()*e.noise;return Math.min(2**(t-1)*1e3,e.backoffLimit)+c},oo=yl;var ba=M(require("node:process"),1),ot=require("node:util"),re=require("node:url"),wa=require("node:tls"),Ea=M(require("node:http"),1),xa=M(require("node:https"),1);function kt(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e.toLowerCase(),r]))}var Ta=M(po(),1),Ca=M(ga(),1);function Os(t){let e=[],r=t.split(",");for(let s of r){let[n,...i]=s.split(";"),o=n.trim();if(o[0]!=="<"||o[o.length-1]!==">")throw new Error(`Invalid format of the Link header reference: ${o}`);let a=o.slice(1,-1),c={};if(i.length===0)throw new Error(`Unexpected end of Link header parameters: ${i.join(";")}`);for(let u of i){let f=u.trim(),d=f.indexOf("=");if(d===-1)throw new Error(`Failed to parse Link header: ${t}`);let m=f.slice(0,d).trim(),_=f.slice(d+1).trim();c[m]=_}e.push({reference:a,parameters:c})}return e}var[ya,Yf]=ba.default.versions.node.split(".").map(Number);function Qf(t){for(let e in t){let r=t[e];g.any([l.string,l.number,l.boolean,l.null_,l.undefined],r)}}var Xf=new Map,Vt,Zf=()=>Vt||(Vt=new Ta.default,Vt),ed={request:void 0,agent:{http:void 0,https:void 0,http2:void 0},h2session:void 0,decompress:!0,timeout:{connect:void 0,lookup:void 0,read:void 0,request:void 0,response:void 0,secureConnect:void 0,send:void 0,socket:void 0},prefixUrl:"",body:void 0,form:void 0,json:void 0,cookieJar:void 0,ignoreInvalidCookies:!1,searchParams:void 0,dnsLookup:void 0,dnsCache:void 0,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:!0,maxRedirects:10,cache:void 0,throwHttpErrors:!0,username:"",password:"",http2:!1,allowGetBody:!1,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:!1,dnsLookupIpVersion:void 0,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:t})=>t,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:void 0,method:"GET",createConnection:void 0,cacheOptions:{shared:void 0,cacheHeuristic:void 0,immutableMinTimeToLive:void 0,ignoreCargoCult:void 0},https:{alpnProtocols:void 0,rejectUnauthorized:void 0,checkServerIdentity:void 0,certificateAuthority:void 0,key:void 0,certificate:void 0,passphrase:void 0,pfx:void 0,ciphers:void 0,honorCipherOrder:void 0,minVersion:void 0,maxVersion:void 0,signatureAlgorithms:void 0,tlsSessionLifetime:void 0,dhparam:void 0,ecdhCurve:void 0,certificateRevocationLists:void 0},encoding:void 0,resolveBodyOnly:!1,isStream:!1,responseType:"text",url:void 0,pagination:{transform(t){return t.request.options.responseType==="json"?t.body:JSON.parse(t.body)},paginate({response:t}){let e=t.headers.link;if(typeof e!="string"||e.trim()==="")return!1;let s=Os(e).find(n=>n.parameters.rel==="next"||n.parameters.rel==='"next"');return s?{url:new re.URL(s.reference,t.url)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:!1},setHost:!0,maxHeaderSize:void 0,signal:void 0,enableUnixSockets:!0},td=t=>{let{hooks:e,retry:r}=t,s={...t,context:{...t.context},cacheOptions:{...t.cacheOptions},https:{...t.https},agent:{...t.agent},headers:{...t.headers},retry:{...r,errorCodes:[...r.errorCodes],methods:[...r.methods],statusCodes:[...r.statusCodes]},timeout:{...t.timeout},hooks:{init:[...e.init],beforeRequest:[...e.beforeRequest],beforeError:[...e.beforeError],beforeRedirect:[...e.beforeRedirect],beforeRetry:[...e.beforeRetry],afterResponse:[...e.afterResponse]},searchParams:t.searchParams?new re.URLSearchParams(t.searchParams):void 0,pagination:{...t.pagination}};return s.url!==void 0&&(s.prefixUrl=""),s},rd=t=>{let{hooks:e,retry:r}=t,s={...t};return l.object(t.context)&&(s.context={...t.context}),l.object(t.cacheOptions)&&(s.cacheOptions={...t.cacheOptions}),l.object(t.https)&&(s.https={...t.https}),l.object(t.cacheOptions)&&(s.cacheOptions={...s.cacheOptions}),l.object(t.agent)&&(s.agent={...t.agent}),l.object(t.headers)&&(s.headers={...t.headers}),l.object(r)&&(s.retry={...r},l.array(r.errorCodes)&&(s.retry.errorCodes=[...r.errorCodes]),l.array(r.methods)&&(s.retry.methods=[...r.methods]),l.array(r.statusCodes)&&(s.retry.statusCodes=[...r.statusCodes])),l.object(t.timeout)&&(s.timeout={...t.timeout}),l.object(e)&&(s.hooks={...e},l.array(e.init)&&(s.hooks.init=[...e.init]),l.array(e.beforeRequest)&&(s.hooks.beforeRequest=[...e.beforeRequest]),l.array(e.beforeError)&&(s.hooks.beforeError=[...e.beforeError]),l.array(e.beforeRedirect)&&(s.hooks.beforeRedirect=[...e.beforeRedirect]),l.array(e.beforeRetry)&&(s.hooks.beforeRetry=[...e.beforeRetry]),l.array(e.afterResponse)&&(s.hooks.afterResponse=[...e.afterResponse])),l.object(t.pagination)&&(s.pagination={...t.pagination}),s},sd=t=>{let e=[t.timeout.socket,t.timeout.connect,t.timeout.lookup,t.timeout.request,t.timeout.secureConnect].filter(r=>typeof r=="number");if(e.length>0)return Math.min(...e)},_a=(t,e,r)=>{var n;let s=(n=t.hooks)==null?void 0:n.init;if(s)for(let i of s)i(e,r)},U=class{constructor(e,r,s){if(Object.defineProperty(this,"_unixOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_internals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_merging",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_init",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),g.any([l.string,l.urlInstance,l.object,l.undefined],e),g.any([l.object,l.undefined],r),g.any([l.object,l.undefined],s),e instanceof U||r instanceof U)throw new TypeError("The defaults must be passed as the third argument");this._internals=td((s==null?void 0:s._internals)??s??ed),this._init=[...(s==null?void 0:s._init)??[]],this._merging=!1,this._unixOptions=void 0;try{if(l.plainObject(e))try{this.merge(e),this.merge(r)}finally{this.url=e.url}else try{this.merge(r)}finally{if((r==null?void 0:r.url)!==void 0)if(e===void 0)this.url=r.url;else throw new TypeError("The `url` option is mutually exclusive with the `input` argument");else e!==void 0&&(this.url=e)}}catch(n){throw n.options=this,n}}merge(e){if(!!e){if(e instanceof U){for(let r of e._init)this.merge(r);return}e=rd(e),_a(this,e,this),_a(e,e,this),this._merging=!0,"isStream"in e&&(this.isStream=e.isStream);try{let r=!1;for(let s in e)if(!(s==="mutableDefaults"||s==="handlers")&&s!=="url"){if(!(s in this))throw new Error(`Unexpected option: ${s}`);this[s]=e[s],r=!0}r&&this._init.push(e)}finally{this._merging=!1}}}get request(){return this._internals.request}set request(e){g.any([l.function_,l.undefined],e),this._internals.request=e}get agent(){return this._internals.agent}set agent(e){g.plainObject(e);for(let r in e){if(!(r in this._internals.agent))throw new TypeError(`Unexpected agent option: ${r}`);g.any([l.object,l.undefined],e[r])}this._merging?Object.assign(this._internals.agent,e):this._internals.agent={...e}}get h2session(){return this._internals.h2session}set h2session(e){this._internals.h2session=e}get decompress(){return this._internals.decompress}set decompress(e){g.boolean(e),this._internals.decompress=e}get timeout(){return this._internals.timeout}set timeout(e){g.plainObject(e);for(let r in e){if(!(r in this._internals.timeout))throw new Error(`Unexpected timeout option: ${r}`);g.any([l.number,l.undefined],e[r])}this._merging?Object.assign(this._internals.timeout,e):this._internals.timeout={...e}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(e){if(g.any([l.string,l.urlInstance],e),e===""){this._internals.prefixUrl="";return}if(e=e.toString(),e.endsWith("/")||(e+="/"),this._internals.prefixUrl&&this._internals.url){let{href:r}=this._internals.url;this._internals.url.href=e+r.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=e}get body(){return this._internals.body}set body(e){g.any([l.string,l.buffer,l.nodeStream,l.generator,l.asyncGenerator,Oe,l.undefined],e),l.nodeStream(e)&&g.truthy(e.readable),e!==void 0&&(g.undefined(this._internals.form),g.undefined(this._internals.json)),this._internals.body=e}get form(){return this._internals.form}set form(e){g.any([l.plainObject,l.undefined],e),e!==void 0&&(g.undefined(this._internals.body),g.undefined(this._internals.json)),this._internals.form=e}get json(){return this._internals.json}set json(e){e!==void 0&&(g.undefined(this._internals.body),g.undefined(this._internals.form)),this._internals.json=e}get url(){return this._internals.url}set url(e){if(g.any([l.string,l.urlInstance,l.undefined],e),e===void 0){this._internals.url=void 0;return}if(l.string(e)&&e.startsWith("/"))throw new Error("`url` must not start with a slash");let r=`${this.prefixUrl}${e.toString()}`,s=new re.URL(r);if(this._internals.url=s,decodeURI(r),s.protocol==="unix:"&&(s.href=`http://unix${s.pathname}${s.search}`),s.protocol!=="http:"&&s.protocol!=="https:"){let n=new Error(`Unsupported protocol: ${s.protocol}`);throw n.code="ERR_UNSUPPORTED_PROTOCOL",n}if(this._internals.username&&(s.username=this._internals.username,this._internals.username=""),this._internals.password&&(s.password=this._internals.password,this._internals.password=""),this._internals.searchParams&&(s.search=this._internals.searchParams.toString(),this._internals.searchParams=void 0),s.hostname==="unix"){if(!this._internals.enableUnixSockets)throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled");let n=/(?<socketPath>.+?):(?<path>.+)/.exec(`${s.pathname}${s.search}`);if(n!=null&&n.groups){let{socketPath:i,path:o}=n.groups;this._unixOptions={socketPath:i,path:o,host:""}}else this._unixOptions=void 0;return}this._unixOptions=void 0}get cookieJar(){return this._internals.cookieJar}set cookieJar(e){if(g.any([l.object,l.undefined],e),e===void 0){this._internals.cookieJar=void 0;return}let{setCookie:r,getCookieString:s}=e;g.function_(r),g.function_(s),r.length===4&&s.length===0?(r=(0,ot.promisify)(r.bind(e)),s=(0,ot.promisify)(s.bind(e)),this._internals.cookieJar={setCookie:r,getCookieString:s}):this._internals.cookieJar=e}get signal(){return this._internals.signal}set signal(e){g.object(e),this._internals.signal=e}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(e){g.boolean(e),this._internals.ignoreInvalidCookies=e}get searchParams(){return this._internals.url?this._internals.url.searchParams:(this._internals.searchParams===void 0&&(this._internals.searchParams=new re.URLSearchParams),this._internals.searchParams)}set searchParams(e){g.any([l.string,l.object,l.undefined],e);let r=this._internals.url;if(e===void 0){this._internals.searchParams=void 0,r&&(r.search="");return}let s=this.searchParams,n;if(l.string(e))n=new re.URLSearchParams(e);else if(e instanceof re.URLSearchParams)n=e;else{Qf(e),n=new re.URLSearchParams;for(let i in e){let o=e[i];o===null?n.append(i,""):o===void 0?s.delete(i):n.append(i,o)}}if(this._merging){for(let i of n.keys())s.delete(i);for(let[i,o]of n)s.append(i,o)}else r?r.search=s.toString():this._internals.searchParams=s}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(e){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(e){g.any([l.function_,l.undefined],e),this._internals.dnsLookup=e}get dnsCache(){return this._internals.dnsCache}set dnsCache(e){g.any([l.object,l.boolean,l.undefined],e),e===!0?this._internals.dnsCache=Zf():e===!1?this._internals.dnsCache=void 0:this._internals.dnsCache=e}get context(){return this._internals.context}set context(e){g.object(e),this._merging?Object.assign(this._internals.context,e):this._internals.context={...e}}get hooks(){return this._internals.hooks}set hooks(e){g.object(e);for(let r in e){if(!(r in this._internals.hooks))throw new Error(`Unexpected hook event: ${r}`);let s=r,i=e[s];if(g.any([l.array,l.undefined],i),i)for(let o of i)g.function_(o);if(this._merging)i&&this._internals.hooks[s].push(...i);else{if(!i)throw new Error(`Missing hook event: ${r}`);this._internals.hooks[r]=[...i]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(e){g.boolean(e),this._internals.followRedirect=e}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(e){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(e){g.number(e),this._internals.maxRedirects=e}get cache(){return this._internals.cache}set cache(e){g.any([l.object,l.string,l.boolean,l.undefined],e),e===!0?this._internals.cache=Xf:e===!1?this._internals.cache=void 0:this._internals.cache=e}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(e){g.boolean(e),this._internals.throwHttpErrors=e}get username(){let e=this._internals.url,r=e?e.username:this._internals.username;return decodeURIComponent(r)}set username(e){g.string(e);let r=this._internals.url,s=encodeURIComponent(e);r?r.username=s:this._internals.username=s}get password(){let e=this._internals.url,r=e?e.password:this._internals.password;return decodeURIComponent(r)}set password(e){g.string(e);let r=this._internals.url,s=encodeURIComponent(e);r?r.password=s:this._internals.password=s}get http2(){return this._internals.http2}set http2(e){g.boolean(e),this._internals.http2=e}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(e){g.boolean(e),this._internals.allowGetBody=e}get headers(){return this._internals.headers}set headers(e){g.plainObject(e),this._merging?Object.assign(this._internals.headers,kt(e)):this._internals.headers=kt(e)}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(e){g.boolean(e),this._internals.methodRewriting=e}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(e){if(e!==void 0&&e!==4&&e!==6)throw new TypeError(`Invalid DNS lookup IP version: ${e}`);this._internals.dnsLookupIpVersion=e}get parseJson(){return this._internals.parseJson}set parseJson(e){g.function_(e),this._internals.parseJson=e}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(e){g.function_(e),this._internals.stringifyJson=e}get retry(){return this._internals.retry}set retry(e){if(g.plainObject(e),g.any([l.function_,l.undefined],e.calculateDelay),g.any([l.number,l.undefined],e.maxRetryAfter),g.any([l.number,l.undefined],e.limit),g.any([l.array,l.undefined],e.methods),g.any([l.array,l.undefined],e.statusCodes),g.any([l.array,l.undefined],e.errorCodes),g.any([l.number,l.undefined],e.noise),e.noise&&Math.abs(e.noise)>100)throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${e.noise}`);for(let s in e)if(!(s in this._internals.retry))throw new Error(`Unexpected retry option: ${s}`);this._merging?Object.assign(this._internals.retry,e):this._internals.retry={...e};let{retry:r}=this._internals;r.methods=[...new Set(r.methods.map(s=>s.toUpperCase()))],r.statusCodes=[...new Set(r.statusCodes)],r.errorCodes=[...new Set(r.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(e){g.any([l.string,l.undefined],e),this._internals.localAddress=e}get method(){return this._internals.method}set method(e){g.string(e),this._internals.method=e.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(e){g.any([l.function_,l.undefined],e),this._internals.createConnection=e}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(e){g.plainObject(e),g.any([l.boolean,l.undefined],e.shared),g.any([l.number,l.undefined],e.cacheHeuristic),g.any([l.number,l.undefined],e.immutableMinTimeToLive),g.any([l.boolean,l.undefined],e.ignoreCargoCult);for(let r in e)if(!(r in this._internals.cacheOptions))throw new Error(`Cache option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.cacheOptions,e):this._internals.cacheOptions={...e}}get https(){return this._internals.https}set https(e){g.plainObject(e),g.any([l.boolean,l.undefined],e.rejectUnauthorized),g.any([l.function_,l.undefined],e.checkServerIdentity),g.any([l.string,l.object,l.array,l.undefined],e.certificateAuthority),g.any([l.string,l.object,l.array,l.undefined],e.key),g.any([l.string,l.object,l.array,l.undefined],e.certificate),g.any([l.string,l.undefined],e.passphrase),g.any([l.string,l.buffer,l.array,l.undefined],e.pfx),g.any([l.array,l.undefined],e.alpnProtocols),g.any([l.string,l.undefined],e.ciphers),g.any([l.string,l.buffer,l.undefined],e.dhparam),g.any([l.string,l.undefined],e.signatureAlgorithms),g.any([l.string,l.undefined],e.minVersion),g.any([l.string,l.undefined],e.maxVersion),g.any([l.boolean,l.undefined],e.honorCipherOrder),g.any([l.number,l.undefined],e.tlsSessionLifetime),g.any([l.string,l.undefined],e.ecdhCurve),g.any([l.string,l.buffer,l.array,l.undefined],e.certificateRevocationLists);for(let r in e)if(!(r in this._internals.https))throw new Error(`HTTPS option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.https,e):this._internals.https={...e}}get encoding(){return this._internals.encoding}set encoding(e){if(e===null)throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");g.any([l.string,l.undefined],e),this._internals.encoding=e}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(e){g.boolean(e),this._internals.resolveBodyOnly=e}get isStream(){return this._internals.isStream}set isStream(e){g.boolean(e),this._internals.isStream=e}get responseType(){return this._internals.responseType}set responseType(e){if(e===void 0){this._internals.responseType="text";return}if(e!=="text"&&e!=="buffer"&&e!=="json")throw new Error(`Invalid \`responseType\` option: ${e}`);this._internals.responseType=e}get pagination(){return this._internals.pagination}set pagination(e){g.object(e),this._merging?Object.assign(this._internals.pagination,e):this._internals.pagination=e}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(e){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(e){g.boolean(e),this._internals.setHost=e}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(e){g.any([l.number,l.undefined],e),this._internals.maxHeaderSize=e}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(e){g.boolean(e),this._internals.enableUnixSockets=e}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](e,r){return(0,ot.inspect)(this._internals,r)}createNativeRequestOptions(){var o;let e=this._internals,r=e.url,s;r.protocol==="https:"?s=e.http2?e.agent:e.agent.https:s=e.agent.http;let{https:n}=e,{pfx:i}=n;return l.array(i)&&l.plainObject(i[0])&&(i=i.map(a=>({buf:a.buffer,passphrase:a.passphrase}))),{...e.cacheOptions,...this._unixOptions,ALPNProtocols:n.alpnProtocols,ca:n.certificateAuthority,cert:n.certificate,key:n.key,passphrase:n.passphrase,pfx:n.pfx,rejectUnauthorized:n.rejectUnauthorized,checkServerIdentity:n.checkServerIdentity??wa.checkServerIdentity,ciphers:n.ciphers,honorCipherOrder:n.honorCipherOrder,minVersion:n.minVersion,maxVersion:n.maxVersion,sigalgs:n.signatureAlgorithms,sessionTimeout:n.tlsSessionLifetime,dhparam:n.dhparam,ecdhCurve:n.ecdhCurve,crl:n.certificateRevocationLists,lookup:e.dnsLookup??((o=e.dnsCache)==null?void 0:o.lookup),family:e.dnsLookupIpVersion,agent:s,setHost:e.setHost,method:e.method,maxHeaderSize:e.maxHeaderSize,localAddress:e.localAddress,headers:e.headers,createConnection:e.createConnection,timeout:e.http2?sd(e):void 0,h2session:e.h2session}}getRequestFunction(){let e=this._internals.url,{request:r}=this._internals;return!r&&e?this.getFallbackRequestFunction():r}getFallbackRequestFunction(){let e=this._internals.url;if(!!e){if(e.protocol==="https:"){if(this._internals.http2){if(ya<15||ya===15&&Yf<10){let r=new Error("To use the `http2` option, install Node.js 15.10.0 or above");throw r.code="EUNSUPPORTED",r}return Ca.default.auto}return xa.default.request}return Ea.default.request}}freeze(){let e=this._internals;Object.freeze(e),Object.freeze(e.hooks),Object.freeze(e.hooks.afterResponse),Object.freeze(e.hooks.beforeError),Object.freeze(e.hooks.beforeRedirect),Object.freeze(e.hooks.beforeRequest),Object.freeze(e.hooks.beforeRetry),Object.freeze(e.hooks.init),Object.freeze(e.https),Object.freeze(e.cacheOptions),Object.freeze(e.agent),Object.freeze(e.headers),Object.freeze(e.timeout),Object.freeze(e.retry),Object.freeze(e.retry.errorCodes),Object.freeze(e.retry.methods),Object.freeze(e.retry.statusCodes),Object.freeze(e.context)}};var Pe=t=>{let{statusCode:e}=t,r=t.request.options.followRedirect?299:399;return e>=200&&e<=r||e===304},Wt=class extends v{constructor(e,r){let{options:s}=r.request;super(`${e.message} in "${s.url.toString()}"`,e,r.request),this.name="ParseError",this.code="ERR_BODY_PARSE_FAILURE"}},Ss=(t,e,r,s)=>{let{rawBody:n}=t;try{if(e==="text")return n.toString(s);if(e==="json")return n.length===0?"":r(n.toString(s));if(e==="buffer")return n}catch(i){throw new Wt(i,t)}throw new Wt({message:`Unknown body type '${e}'`,name:"Error"},t)};function nd(t){return t.writable&&!t.writableEnded}var Ra=nd;function Gt(t){return t.protocol==="unix:"||t.hostname==="unix"}var id=l.string(Is.default.versions.brotli),od=new Set(["GET","HEAD"]),Ns=new Ze,ad=new Set([300,301,302,303,304,307,308]),cd=["socket","connect","continue","information","upgrade"],Ps=()=>{},se=class extends Aa.Duplex{constructor(e,r,s){var i,o;super({autoDestroy:!1,highWaterMark:0}),Object.defineProperty(this,"constructor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_noPipe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"redirectUrls",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"retryCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopRetry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downloadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_uploadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopReading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pipedServerResponses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_responseSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bodySize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_unproxyEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isFromCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cannotHaveBody",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_triggerRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cancelTimeouts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nativeResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_flushed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_aborted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_requestInitialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._downloadedSize=0,this._uploadedSize=0,this._stopReading=!1,this._pipedServerResponses=new Set,this._cannotHaveBody=!1,this._unproxyEvents=Ps,this._triggerRead=!1,this._cancelTimeouts=Ps,this._jobs=[],this._flushed=!1,this._requestInitialized=!1,this._aborted=!1,this.redirectUrls=[],this.retryCount=0,this._stopRetry=Ps,this.on("pipe",a=>{a.headers&&Object.assign(this.options.headers,a.headers)}),this.on("newListener",a=>{if(a==="retry"&&this.listenerCount("retry")>0)throw new Error("A retry listener has been attached already.")});try{if(this.options=new U(e,r,s),!this.options.url){if(this.options.prefixUrl==="")throw new TypeError("Missing `url` property");this.options.url=""}this.requestUrl=this.options.url}catch(a){let{options:c}=a;c&&(this.options=c),this.flush=async()=>{this.flush=async()=>{},this.destroy(a)};return}(i=this.options.signal)!=null&&i.aborted&&this.destroy(new $e(this)),(o=this.options.signal)==null||o.addEventListener("abort",()=>{this.destroy(new $e(this))});let{body:n}=this.options;l.nodeStream(n)&&n.once("error",a=>{this._flushed?this._beforeError(new je(a,this)):this.flush=async()=>{this.flush=async()=>{},this._beforeError(new je(a,this))}})}async flush(){var e;if(!this._flushed){this._flushed=!0;try{if(await this._finalizeBody(),this.destroyed)return;if(await this._makeRequest(),this.destroyed){(e=this._request)==null||e.destroy();return}for(let r of this._jobs)r();this._jobs.length=0,this._requestInitialized=!0}catch(r){this._beforeError(r)}}}_beforeError(e){if(this._stopReading)return;let{response:r,options:s}=this,n=this.retryCount+(e.name==="RetryError"?0:1);this._stopReading=!0,e instanceof v||(e=new v(e.message,e,this));let i=e;(async()=>{var o,a;if((r==null?void 0:r.readable)&&!r.rawBody&&!((a=(o=this._request)==null?void 0:o.socket)!=null&&a.destroyed)&&(r.setEncoding(this.readableEncoding),await this._setRawBody(r)&&(r.body=r.rawBody.toString())),this.listenerCount("retry")!==0){let c;try{let u;r&&"retry-after"in r.headers&&(u=Number(r.headers["retry-after"]),Number.isNaN(u)?(u=Date.parse(r.headers["retry-after"])-Date.now(),u<=0&&(u=1)):u*=1e3);let f=s.retry;c=await f.calculateDelay({attemptCount:n,retryOptions:f,error:i,retryAfter:u,computedValue:oo({attemptCount:n,retryOptions:f,error:i,retryAfter:u,computedValue:f.maxRetryAfter??s.timeout.request??Number.POSITIVE_INFINITY})})}catch(u){this._error(new v(u.message,u,this));return}if(c){if(await new Promise(u=>{let f=setTimeout(u,c);this._stopRetry=()=>{clearTimeout(f),u()}}),this.destroyed)return;try{for(let u of this.options.hooks.beforeRetry)await u(i,this.retryCount+1)}catch(u){this._error(new v(u.message,e,this));return}if(this.destroyed)return;this.destroy(),this.emit("retry",this.retryCount+1,e,u=>{let f=new se(s.url,u,s);return f.retryCount=this.retryCount+1,Is.default.nextTick(()=>{f.flush()}),f});return}}this._error(i)})()}_read(){this._triggerRead=!0;let{response:e}=this;if(e&&!this._stopReading){e.readableLength&&(this._triggerRead=!1);let r;for(;(r=e.read())!==null;){this._downloadedSize+=r.length;let s=this.downloadProgress;s.percent<1&&this.emit("downloadProgress",s),this.push(r)}}}_write(e,r,s){let n=()=>{this._writeRequest(e,r,s)};this._requestInitialized?n():this._jobs.push(n)}_final(e){let r=()=>{if(!this._request||this._request.destroyed){e();return}this._request.end(s=>{var n;(n=this._request._writableState)!=null&&n.errored||(s||(this._bodySize=this._uploadedSize,this.emit("uploadProgress",this.uploadProgress),this._request.emit("upload-complete")),e(s))})};this._requestInitialized?r():this._jobs.push(r)}_destroy(e,r){if(this._stopReading=!0,this.flush=async()=>{},this._stopRetry(),this._cancelTimeouts(),this.options){let{body:s}=this.options;l.nodeStream(s)&&s.destroy()}this._request&&this._request.destroy(),e!==null&&!l.undefined(e)&&!(e instanceof v)&&(e=new v(e.message,e,this)),r(e)}pipe(e,r){return e instanceof at.ServerResponse&&this._pipedServerResponses.add(e),super.pipe(e,r)}unpipe(e){return e instanceof at.ServerResponse&&this._pipedServerResponses.delete(e),super.unpipe(e),this}async _finalizeBody(){let{options:e}=this,{headers:r}=e,s=!l.undefined(e.form),n=!l.undefined(e.json),i=!l.undefined(e.body),o=od.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=o,s||n||i){if(o)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);let a=!l.string(r["content-type"]);if(i){if(Oe(e.body)){let u=new qt(e.body);a&&(r["content-type"]=u.headers["Content-Type"]),r["content-length"]=u.headers["Content-Length"],e.body=u.encode()}Ye(e.body)&&a&&(r["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`)}else if(s){a&&(r["content-type"]="application/x-www-form-urlencoded");let{form:u}=e;e.form=void 0,e.body=new Kt.URLSearchParams(u).toString()}else{a&&(r["content-type"]="application/json");let{json:u}=e;e.json=void 0,e.body=e.stringifyJson(u)}let c=await Qr(e.body,e.headers);l.undefined(r["content-length"])&&l.undefined(r["transfer-encoding"])&&!o&&!l.undefined(c)&&(r["content-length"]=String(c))}e.responseType==="json"&&!("accept"in e.headers)&&(e.headers.accept="application/json"),this._bodySize=Number(r["content-length"])||void 0}async _onResponseBase(e){if(this.isAborted)return;let{options:r}=this,{url:s}=r;this._nativeResponse=e,r.decompress&&(e=(0,Oa.default)(e));let n=e.statusCode,i=e;i.statusMessage=i.statusMessage?i.statusMessage:at.default.STATUS_CODES[n],i.url=r.url.toString(),i.requestUrl=this.requestUrl,i.redirectUrls=this.redirectUrls,i.request=this,i.isFromCache=this._nativeResponse.fromCache??!1,i.ip=this.ip,i.retryCount=this.retryCount,i.ok=Pe(i),this._isFromCache=i.isFromCache,this._responseSize=Number(e.headers["content-length"])||void 0,this.response=i,e.once("end",()=>{this._responseSize=this._downloadedSize,this.emit("downloadProgress",this.downloadProgress)}),e.once("error",a=>{this._aborted=!0,e.destroy(),this._beforeError(new Be(a,this))}),e.once("aborted",()=>{this._aborted=!0,this._beforeError(new Be({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let o=e.headers["set-cookie"];if(l.object(r.cookieJar)&&o){let a=o.map(async c=>r.cookieJar.setCookie(c,s.toString()));r.ignoreInvalidCookies&&(a=a.map(async c=>{try{await c}catch{}}));try{await Promise.all(a)}catch(c){this._beforeError(c);return}}if(!this.isAborted){if(r.followRedirect&&e.headers.location&&ad.has(n)){if(e.resume(),this._cancelTimeouts(),this._unproxyEvents(),this.redirectUrls.length>=r.maxRedirects){this._beforeError(new wt(this));return}this._request=void 0;let a=new U(void 0,void 0,this.options);(n===303&&a.method!=="GET"&&a.method!=="HEAD"||a.methodRewriting)&&(a.method="GET",a.body=void 0,a.json=void 0,a.form=void 0,delete a.headers["content-length"]);try{let u=Jt.Buffer.from(e.headers.location,"binary").toString(),f=new Kt.URL(u,s);if(!Gt(s)&&Gt(f)){this._beforeError(new v("Cannot redirect to UNIX socket",{},this));return}f.hostname!==s.hostname||f.port!==s.port?("host"in a.headers&&delete a.headers.host,"cookie"in a.headers&&delete a.headers.cookie,"authorization"in a.headers&&delete a.headers.authorization,(a.username||a.password)&&(a.username="",a.password="")):(f.username=a.username,f.password=a.password),this.redirectUrls.push(f),a.prefixUrl="",a.url=f;for(let d of a.hooks.beforeRedirect)await d(a,i);this.emit("redirect",a,i),this.options=a,await this._makeRequest()}catch(u){this._beforeError(u);return}return}if(r.isStream&&r.throwHttpErrors&&!Pe(i)){this._beforeError(new ge(i));return}if(e.on("readable",()=>{this._triggerRead&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this._noPipe){await this._setRawBody()&&this.emit("response",e);return}this.emit("response",e);for(let a of this._pipedServerResponses)if(!a.headersSent){for(let c in e.headers){let u=r.decompress?c!=="content-encoding":!0,f=e.headers[c];u&&a.setHeader(c,f)}a.statusCode=n}}}async _setRawBody(e=this){if(e.readableEnded)return!1;try{let r=await(0,Sa.buffer)(e);if(!this.isAborted)return this.response.rawBody=r,!0}catch{}return!1}async _onResponse(e){try{await this._onResponseBase(e)}catch(r){this._beforeError(r)}}_onRequest(e){let{options:r}=this,{timeout:s,url:n}=r;si(e),this.options.http2&&e.setTimeout(0),this._cancelTimeouts=Zr(e,s,n);let i=r.cache?"cacheableResponse":"response";e.once(i,o=>{this._onResponse(o)}),e.once("error",o=>{this._aborted=!0,e.destroy(),o=o instanceof Xe?new xt(o,this.timings,this):new v(o.message,o,this),this._beforeError(o)}),this._unproxyEvents=Qe(e,this,cd),this._request=e,this.emit("uploadProgress",this.uploadProgress),this._sendBody(),this.emit("request",e)}async _asyncWrite(e){return new Promise((r,s)=>{super.write(e,n=>{if(n){s(n);return}r()})})}_sendBody(){let{body:e}=this.options,r=this.redirectUrls.length===0?this:this._request??this;l.nodeStream(e)?e.pipe(r):l.generator(e)||l.asyncGenerator(e)?(async()=>{try{for await(let s of e)await this._asyncWrite(s);super.end()}catch(s){this._beforeError(s)}})():l.undefined(e)?(this._cannotHaveBody||this._noPipe)&&r.end():(this._writeRequest(e,void 0,()=>{}),r.end())}_prepareCache(e){Ns.has(e)||Ns.set(e,new vs.default((r,s)=>{let n=r._request(r,s);return l.promise(n)&&(n.once=(i,o)=>{if(i==="error")(async()=>{try{await n}catch(a){o(a)}})();else if(i==="abort")(async()=>{try{(await n).once("abort",o)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${i}`);return n}),n},e))}async _createCacheableRequest(e,r){return new Promise((s,n)=>{Object.assign(r,es(e));let i,o=Ns.get(r.cache)(r,async a=>{if(a._readableState.autoDestroy=!1,i){let c=()=>{a.req&&(a.complete=a.req.res.complete)};a.prependOnceListener("end",c),c(),(await i).emit("cacheableResponse",a)}s(a)});o.once("error",n),o.once("request",async a=>{i=a,s(i)})})}async _makeRequest(){let{options:e}=this,{headers:r,username:s,password:n}=e,i=e.cookieJar;for(let u in r)if(l.undefined(r[u]))delete r[u];else if(l.null_(r[u]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${u}\` header`);if(e.decompress&&l.undefined(r["accept-encoding"])&&(r["accept-encoding"]=id?"gzip, deflate, br":"gzip, deflate"),s||n){let u=Jt.Buffer.from(`${s}:${n}`).toString("base64");r.authorization=`Basic ${u}`}if(i){let u=await i.getCookieString(e.url.toString());l.nonEmptyString(u)&&(r.cookie=u)}e.prefixUrl="";let o;for(let u of e.hooks.beforeRequest){let f=await u(e);if(!l.undefined(f)){o=()=>f;break}}o||(o=e.getRequestFunction());let a=e.url;this._requestOptions=e.createNativeRequestOptions(),e.cache&&(this._requestOptions._request=o,this._requestOptions.cache=e.cache,this._prepareCache(e.cache));let c=e.cache?this._createCacheableRequest:o;try{let u=c(a,this._requestOptions);l.promise(u)&&(u=await u),l.undefined(u)&&(u=e.getFallbackRequestFunction()(a,this._requestOptions),l.promise(u)&&(u=await u)),Ra(u)?this._onRequest(u):this.writable?(this.once("finish",()=>{this._onResponse(u)}),this._sendBody()):this._onResponse(u)}catch(u){throw u instanceof vs.default.CacheError?new Et(u,this):u}}async _error(e){try{for(let r of this.options.hooks.beforeError)e=await r(e)}catch(r){e=new v(r.message,r,this)}this.destroy(e)}_writeRequest(e,r,s){!this._request||this._request.destroyed||this._request.write(e,r,n=>{if(!n){this._uploadedSize+=Jt.Buffer.byteLength(e,r);let i=this.uploadProgress;i.percent<1&&this.emit("uploadProgress",i)}s(n)})}get ip(){var e;return(e=this.socket)==null?void 0:e.remoteAddress}get isAborted(){return this._aborted}get socket(){var e;return((e=this._request)==null?void 0:e.socket)??void 0}get downloadProgress(){let e;return this._responseSize?e=this._downloadedSize/this._responseSize:this._responseSize===this._downloadedSize?e=1:e=0,{percent:e,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let e;return this._bodySize?e=this._uploadedSize/this._bodySize:this._bodySize===this._uploadedSize?e=1:e=0,{percent:e,transferred:this._uploadedSize,total:this._bodySize}}get timings(){var e;return(e=this._request)==null?void 0:e.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){var e;return(e=this._request)==null?void 0:e.reusedSocket}};var Yt=class extends v{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};var ud=["request","response","redirect","uploadProgress","downloadProgress"];function Qt(t){let e,r,s,n=new Na.EventEmitter,i=new ae((a,c,u)=>{u(()=>{e.destroy()}),u.shouldReject=!1,u(()=>{c(new Yt(e))});let f=d=>{var p;u(()=>{});let m=t??new se(void 0,void 0,s);m.retryCount=d,m._noPipe=!0,e=m,m.once("response",async w=>{let C=(w.headers["content-encoding"]??"").toLowerCase(),A=C==="gzip"||C==="deflate"||C==="br",{options:x}=m;if(A&&!x.decompress)w.body=w.rawBody;else try{w.body=Ss(w,x.responseType,x.parseJson,x.encoding)}catch(R){if(w.body=w.rawBody.toString(),Pe(w)){m._beforeError(R);return}}try{let R=x.hooks.afterResponse;for(let[L,Z]of R.entries())if(w=await Z(w,async Te=>{throw x.merge(Te),x.prefixUrl="",Te.url&&(x.url=Te.url),x.hooks.afterResponse=x.hooks.afterResponse.slice(0,L),new Tt(m)}),!(l.object(w)&&l.number(w.statusCode)&&!l.nullOrUndefined(w.body)))throw new TypeError("The `afterResponse` hook returned an invalid value")}catch(R){m._beforeError(R);return}if(r=w,!Pe(w)){m._beforeError(new ge(w));return}m.destroy(),a(m.options.resolveBodyOnly?w.body:w)});let _=w=>{if(i.isCanceled)return;let{options:C}=m;if(w instanceof ge&&!C.throwHttpErrors){let{response:A}=w;m.destroy(),a(m.options.resolveBodyOnly?A.body:A);return}c(w)};m.once("error",_);let T=(p=m.options)==null?void 0:p.body;m.once("retry",(w,C)=>{t=void 0;let A=m.options.body;if(T===A&&l.nodeStream(A)){C.message="Cannot retry with consumed body stream",_(C);return}s=m.options,f(w)}),Qe(m,n,ud),l.undefined(t)&&m.flush()};f(0)});i.on=(a,c)=>(n.on(a,c),i),i.off=(a,c)=>(n.off(a,c),i);let o=a=>{let c=(async()=>{await i;let{options:u}=r.request;return Ss(r,a,u.parseJson,u.encoding)})();return Object.defineProperties(c,Object.getOwnPropertyDescriptors(i)),c};return i.json=()=>{if(e.options){let{headers:a}=e.options;!e.writableFinished&&!("accept"in a)&&(a.accept="application/json")}return o("json")},i.buffer=()=>o("buffer"),i.text=()=>o("text"),i}var hd=async t=>new Promise(e=>{setTimeout(e,t)}),ld=t=>l.function_(t),fd=["get","post","put","patch","head","delete"],Pa=t=>{t={options:new U(void 0,void 0,t.options),handlers:[...t.handlers],mutableDefaults:t.mutableDefaults},Object.defineProperty(t,"mutableDefaults",{enumerable:!0,configurable:!1,writable:!1});let e=(s,n,i=t.options)=>{let o=new se(s,n,i),a,c=d=>(o.options=d,o._noPipe=!d.isStream,o.flush(),d.isStream?o:(a||(a=Qt(o)),a)),u=0,f=d=>{let _=(t.handlers[u++]??c)(d,f);if(l.promise(_)&&!o.options.isStream&&(a||(a=Qt(o)),_!==a)){let T=Object.getOwnPropertyDescriptors(a);for(let p in T)p in _&&delete T[p];Object.defineProperties(_,T),_.cancel=a.cancel}return _};return f(o.options)};e.extend=(...s)=>{let n=new U(void 0,void 0,t.options),i=[...t.handlers],o;for(let a of s)ld(a)?(n.merge(a.defaults.options),i.push(...a.defaults.handlers),o=a.defaults.mutableDefaults):(n.merge(a),a.handlers&&i.push(...a.handlers),o=a.mutableDefaults);return Pa({options:n,handlers:i,mutableDefaults:Boolean(o)})};let r=async function*(s,n){let i=new U(s,n,t.options);i.resolveBodyOnly=!1;let{pagination:o}=i;g.function_(o.transform),g.function_(o.shouldContinue),g.function_(o.filter),g.function_(o.paginate),g.number(o.countLimit),g.number(o.requestLimit),g.number(o.backoff);let a=[],{countLimit:c}=o,u=0;for(;u<o.requestLimit;){u!==0&&await hd(o.backoff);let f=await e(void 0,void 0,i),d=await o.transform(f),m=[];g.array(d);for(let T of d)if(o.filter({item:T,currentItems:m,allItems:a})&&(!o.shouldContinue({item:T,currentItems:m,allItems:a})||(yield T,o.stackAllItems&&a.push(T),m.push(T),--c<=0)))return;let _=o.paginate({response:f,currentItems:m,allItems:a});if(_===!1)return;_===f.request.options?i=f.request.options:(i.merge(_),g.any([l.urlInstance,l.undefined],_.url),_.url!==void 0&&(i.prefixUrl="",i.url=_.url)),u++}};e.paginate=r,e.paginate.all=async(s,n)=>{let i=[];for await(let o of r(s,n))i.push(o);return i},e.paginate.each=r,e.stream=(s,n)=>e(s,{...n,isStream:!0});for(let s of fd)e[s]=(n,i)=>e(n,{...i,method:s}),e.stream[s]=(n,i)=>e(n,{...i,method:s,isStream:!0});return t.mutableDefaults||(Object.freeze(t.handlers),t.options.freeze()),Object.defineProperty(e,"defaults",{value:t,writable:!1,configurable:!1,enumerable:!0}),e},va=Pa;var dd={options:new U,handlers:[],mutableDefaults:!1},Xt=va(dd);var lc=M(hc()),fc=async t=>(await Xt("https://meta.quiltmc.org/v3/versions/quilt-mappings/"+t).json())[0].version,dc=async t=>(await Xt("https://meta.quiltmc.org/v3/versions/loader/"+t).json())[0].loader.version,pc=async t=>{let e=await Xt("https://maven.quiltmc.org/repository/release/org/quiltmc/quilted-fabric-api/quilted-fabric-api/maven-metadata.xml").text();return new lc.XMLParser().parse(e).metadata.versioning.versions.version.filter(n=>n.includes("-"+t))[0]};var zs,mc,gc,yc,_c=!0;typeof process<"u"&&({FORCE_COLOR:zs,NODE_DISABLE_COLORS:mc,NO_COLOR:gc,TERM:yc}=process.env||{},_c=process.stdout&&process.stdout.isTTY);var bp={enabled:!mc&&gc==null&&yc!=="dumb"&&(zs!=null&&zs!=="0"||_c)};function N(t,e){let r=new RegExp(`\\x1b\\[${e}m`,"g"),s=`\x1B[${t}m`,n=`\x1B[${e}m`;return function(i){return!bp.enabled||i==null?i:s+(~(""+i).indexOf(n)?i.replace(r,n+s):i)+n}}var Fb=N(0,0),Vs=N(1,22),Db=N(2,22),zb=N(3,23),Vb=N(4,24),Wb=N(7,27),Gb=N(8,28),Jb=N(9,29),Kb=N(30,39),bc=N(31,39),wc=N(32,39),Yb=N(33,39),Qb=N(34,39),Xb=N(35,39),Zb=N(36,39),ew=N(37,39),tw=N(90,39),rw=N(90,39),sw=N(40,49),nw=N(41,49),iw=N(42,49),ow=N(43,49),aw=N(44,49),cw=N(45,49),uw=N(46,49),hw=N(47,49);var Ws=t=>{console.log(Vs(wc("\u2714"))+" "+t)},Ec=t=>{console.log(Vs(bc("\u2718"))+" "+t)};var xr=require("fs/promises"),gu=M(hn()),yn=async(t,e,r,s)=>{let n=!1,i=r.libraries[e].version;return typeof i=="string"?i!==s&&(n=!0,i=s):r.versions[i.ref]!==s&&(n=!0,r.versions[i.ref]=s),n?(Ws(`Updated ${t} to ${s}`),[t,s]):(Ws(`${t} is up to date!`),null)};(async()=>{let t=await(0,xr.readFile)("./gradle/libs.versions.toml","utf8"),e=(0,Er.parse)(t),r=e.versions.minecraft,s=[];for(let n in e.libraries)if(e.libraries[n].module==="org.quiltmc:quilt-mappings"){let i=await fc(r),o=await yn("Quilt Mappings",n,e,i);o&&s.push(o)}else if(e.libraries[n].module==="org.quiltmc:quilt-loader"){let i=await dc(r),o=await yn("Quilt Loader",n,e,i);o&&s.push(o)}else if(e.libraries[n].module==="org.quiltmc.quilted-fabric-api:quilted-fabric-api"){let i=await pc(r),o=await yn("Quilted Fabric API",n,e,i);o&&s.push(o)}(0,gu.setOutput)("changelog",s.map(([n,i])=>`- **${n}** was updated to \`${i}\``).join(`
`)),await(0,xr.writeFile)("./gradle/libs.versions.toml",`${(0,Er.stringify)(e)}
`)})().catch(t=>{Ec(t),process.exit(1)});
